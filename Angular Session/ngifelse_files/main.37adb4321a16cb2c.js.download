(self.webpackChunkng_run=self.webpackChunkng_run||[]).push([[179],{304:(lt,be,O)=>{"use strict";O.d(be,{e:()=>te});var v=O(1670),u=O(1062),he=O(106),fe=O(7422),oe=O(755),H=O(7197),ne=O(2258),ce=O(4532);let te=(()=>{class j{constructor(re,se){this.afAuth=re,this.afs=se,this.authState$=(0,H.fD)(this.afAuth),this.user$=this.authState$.pipe((0,u.O)(JSON.parse(localStorage.getItem("profile"))),(0,he.b)(ue=>{this.user=ue})),this.authenticated$=this.user$.pipe((0,fe.U)(Boolean))}signInWithGithub(){return this.signIn(new ne.GH)}signOut(){var re=this;return(0,v.Z)(function*(){yield(0,H.w7)(re.afAuth),localStorage.removeItem("profile")})()}signIn(re){return(0,H.rh)(this.afAuth,re).then(se=>this.updateUserData(se.user)).catch(se=>console.log("ERROR @ AuthService#signIn() :",se))}updateUserData({uid:re,displayName:se,photoURL:ue,email:Q,phoneNumber:ge,providerId:Ie}){const De=(0,oe.JU)(this.afs,`users/${re}`),Ge={uid:re,displayName:se||Q,...ue&&{photoURL:ue},...Q&&{email:Q},...Ie&&{providerId:Ie},...ge&&{phoneNumber:ge}};return localStorage.setItem("profile",JSON.stringify(Ge)),(0,oe.pl)(De,{...Ge},{merge:!0})}static{this.\u0275fac=function(se){return new(se||j)(ce.LFG(H.gx),ce.LFG(oe.gg))}}static{this.\u0275prov=ce.Yz7({token:j,factory:j.\u0275fac,providedIn:"root"})}}return j})()},5608:(lt,be,O)=>{"use strict";O.d(be,{N2:()=>B,Y4:()=>H});var v=O(4532),u=O(755),he=O(6939),fe=O(553),oe=O(304);let H=(()=>{class re{constructor(ue){this.auth=ue,this.afs=(0,v.f3M)(u.gg),this.projectsCollection=(0,u.hJ)(this.afs,"projects")}save(ue){const Q=(0,u.Bt)();return ue.updatedAt=Q,ue.id||(ue.createdAt=Q),(ue.id?(0,u.r7)((0,u.JU)(this.afs,`/projects/${ue.id}`),{...ue}).then(()=>ue.id):(0,u.ET)(this.projectsCollection,ue).then(ge=>ge.id)).then(ge=>({id:ge,authorId:ue.authorId,author:ue.author}))}loadFromFirestore(ue){return(0,u._1)((0,u.JU)(this.afs,`/projects/${ue}`)).pipe((0,he.q)(1)).toPromise()}loadFromGithub(ue){return fetch(`${fe.N.API_URL}github?path=${ue}`).then(Q=>Q.json()).catch(Q=>{alert("Sorry, something went wrong!")})}loadFromStore(ue){return fetch(`${fe.N.API_URL}store${ue}`).then(Q=>Q.json()).catch(Q=>{alert("Sorry, something went wrong!")})}getLastProjects(){return(0,u.BS)((0,u.IO)(this.projectsCollection,(0,u.ar)("authorId","==",this.auth.user?this.auth.user.uid:""),(0,u.Xo)("createdAt","desc"),(0,u.b9)(5))).pipe((0,he.q)(1))}getVersions(ue){return fetch(`${fe.N.API_URL}versions/${ue}`).then(Q=>Q.json())}deleteProject(ue){return(0,u.oe)((0,u.JU)(this.afs,`/projects/${ue}`))}static{this.\u0275fac=function(Q){return new(Q||re)(v.LFG(oe.e))}}static{this.\u0275prov=v.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})();var ne=O(1670),ce=O(462),te=O(6932),j=O(9649);let B=(()=>{class re{constructor(ue,Q){this.afs=ue,this.auth=Q,this._done=new ce.X(!1),this._loading=new ce.X(!1),this._data=new ce.X([]),this.done=this._done.asObservable(),this.loading=this._loading.asObservable()}init(ue,Q,ge){this.query={path:ue,field:Q,limit:20,reverse:!1,prepend:!1,...ge};const Ie=(0,u.IO)((0,u.hJ)(this.afs,this.query.path),(0,u.ar)("authorId","==",this.auth.user?this.auth.user.uid:""),(0,u.Xo)(this.query.field,this.query.reverse?"desc":"asc"),(0,u.b9)(this.query.limit));this.mapAndUpdate(Ie),this.data=this._data.asObservable().pipe((0,te.R)((De,Ge)=>this.query.prepend?Ge.concat(De):De.concat(Ge)))}more(){const ue=this.getCursor(),Q=(0,u.IO)((0,u.hJ)(this.afs,this.query.path),(0,u.ar)("authorId","==",this.auth.user?this.auth.user.uid:""),(0,u.Xo)(this.query.field,this.query.reverse?"desc":"asc"),(0,u.b9)(this.query.limit),(0,u.TQ)(ue));this.mapAndUpdate(Q)}reset(){this._data.next([]),this._done.next(!1)}getCursor(){const ue=this._data.value;return ue.length?this.query.prepend?ue[0].doc:ue[ue.length-1].doc:null}mapAndUpdate(ue){var Q=this;return(0,ne.Z)(function*(){if(Q._done.value||Q._loading.value)return;Q._loading.next(!0);let Ie=(yield(0,u.PL)(ue)).docs.map(De=>{const Ge=De.data();return{id:Ge.id,title:Ge.title,timeAgo:(0,j.VG)(Ge.createdAt),doc:De}});Ie=Q.query.prepend?Ie.reverse():Ie,Q._data.next(Ie),Q._loading.next(!1),Ie.length||Q._done.next(!0)})()}static{this.\u0275fac=function(Q){return new(Q||re)(v.LFG(u.gg),v.LFG(oe.e))}}static{this.\u0275prov=v.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"})}}return re})()},5466:(lt,be,O)=>{"use strict";O.d(be,{J:()=>H});var v=O(755),u=O(1136),he=O(6939),fe=O(4532),oe=O(304);let H=(()=>{class ne{constructor(te,j,B){this.afs=te,this.storage=j,this.auth=B,this.lessonsCollection=(0,v.hJ)(this.afs,"lessons")}save(te){const j=(0,v.Bt)();return te.updatedAt=j,te.id||(te.createdAt=j),(te.id?(0,v.r7)((0,v.JU)(this.afs,"/lessons/"+te.id),{...te}).then(()=>te.id):(0,v.ET)(this.lessonsCollection,te).then(B=>B.id)).then(B=>({id:B,authorId:te.authorId,author:te.author}))}getAllLessons(){return(0,v.BS)((0,v.IO)(this.lessonsCollection,(0,v.ar)("authorId","==",this.auth.user?this.auth.user.uid:""),(0,v.Xo)("createdAt","desc")))}loadFromFirestore(te){return(0,v._1)((0,v.JU)(this.afs,`/lessons/${te}`)).pipe((0,he.q)(1)).toPromise()}deleteLesson(te){return Promise.all([(0,v.oe)((0,v.JU)(this.afs,`/lessons/${te.id}`)),(0,u.oq)((0,u.iH)(this.storage,`lessons/${this.auth.user.uid}/${te.recordingFileName}.stream`)),(0,u.oq)((0,u.iH)(this.storage,`lessons/${this.auth.user.uid}/${te.recordingFileName}.webm`))])}static{this.\u0275fac=function(j){return new(j||ne)(fe.LFG(v.gg),fe.LFG(u.Ke),fe.LFG(oe.e))}}static{this.\u0275prov=fe.Yz7({token:ne,factory:ne.\u0275fac,providedIn:"root"})}}return ne})()},4225:(lt,be,O)=>{"use strict";O.d(be,{em:()=>he,xy:()=>oe,zD:()=>ce});var v=O(1670);let u=null;function he(){return fe.apply(this,arguments)}function fe(){return fe=(0,v.Z)(function*(){return u||(u=function H(){return ne.apply(this,arguments)}())}),fe.apply(this,arguments)}function oe(re={}){monaco.languages.typescript.typescriptDefaults.setCompilerOptions({target:monaco.languages.typescript.ScriptTarget.ES2015,allowNonTsExtensions:!0,experimentalDecorators:!0,moduleResolution:monaco.languages.typescript.ModuleResolutionKind.NodeJs,module:monaco.languages.typescript.ModuleKind.CommonJS,allowJs:!0,noEmit:!0,...re})}function ne(){return ne=(0,v.Z)(function*(){return yield ce(["vs/editor/editor.main"]),yield O.e(93).then(O.bind(O,1093)),oe(),function te(){return j.apply(this,arguments)}()}),ne.apply(this,arguments)}function ce(re){return new Promise(se=>{require(re,(...ue)=>{se(...ue)})})}function j(){return j=(0,v.Z)(function*(){const re=yield ce(["vs/editor/common/services/editorWorkerServiceImpl"]),se=re.EditorWorkerClient.prototype._getOrCreateModelManager;re.EditorWorkerClient.prototype._getOrCreateModelManager=function(ue){const Q=se.apply(this,arguments);return Q._checkStopModelSync=B,Q}}),j.apply(this,arguments)}function B(){}},2412:(lt,be,O)=>{"use strict";O.r(be),O.d(be,{plugIn:()=>j});const u={format:{tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:null,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},suggest:{html5:!0,angular1:!0,ionic:!0}};let fe,oe;class H{constructor(){this.matched=!1,require(["vs/language/html/htmlWorker"],()=>{require(["vscode-html-languageservice"],Q=>{fe=Q,this._languageService=fe.getLanguageService(),require(["vscode-languageserver-types"],ge=>{oe=ge})})})}get triggerCharacters(){return[".",":","<",'"',"=","/"]}provideCompletionItems(Q,ge,Ie,De){this.matched=!1;const Ge=/(template\s*:\s*`)([^`]*)`/g,yt=Q.getValue(),we=Q.getOffsetAt(ge);let ht,wt=null;for(;null!==(wt=Ge.exec(yt));)if(we>wt.index+wt[1].length&&we<wt.index+wt[0].length)return this.matched=!0,ht=Q.getPositionAt(wt.index+wt[1].length),this.doComplete("d"+Date.now(),wt[2],ne(wt[2],we-wt[1].length-wt.index)).then(nt=>{if(!nt)return;const ft=nt.items.map(ie=>{const rt=Q.getWordUntilPosition(ge),He=new monaco.Range(ge.lineNumber,rt.startColumn,ge.lineNumber,rt.endColumn),mt={label:ie.label,insertText:ie.insertText,sortText:ie.sortText,filterText:ie.filterText,documentation:ie.documentation,detail:ie.detail,range:He,kind:ce(ie.kind)};return ie.textEdit&&(mt.range=te(ie.textEdit.range,ht),mt.insertText=ie.textEdit.newText),mt});return{incomplete:nt.isIncomplete,suggestions:ft}});return Promise.resolve({incomplete:!1,suggestions:[]})}doComplete(Q,ge,Ie){const De=this._getTextDocument(Q,ge),Ge=this._languageService.parseHTMLDocument(De);return Promise.resolve(this._languageService.doComplete(De,Ie,Ge,u&&u.suggest))}format(Q){const ge=this._getTextDocument("",Q);return this._languageService.format(ge,"",u.format)[0].newText}_getTextDocument(Q,ge){return oe.TextDocument.create("","html","",ge)}}function ne(ue,Q){const ge=ue.substring(0,Q),Ie=ge.lastIndexOf("\n");return{line:ge.split("\n").length-1,character:Q-Ie-1}}function ce(ue){const Q=monaco.languages.CompletionItemKind;switch(ue){case oe.CompletionItemKind.Text:return Q.Text;case oe.CompletionItemKind.Method:return Q.Method;case oe.CompletionItemKind.Function:return Q.Function;case oe.CompletionItemKind.Constructor:return Q.Constructor;case oe.CompletionItemKind.Field:return Q.Field;case oe.CompletionItemKind.Variable:return Q.Variable;case oe.CompletionItemKind.Class:return Q.Class;case oe.CompletionItemKind.Interface:return Q.Interface;case oe.CompletionItemKind.Module:return Q.Module;case oe.CompletionItemKind.Property:return Q.Property;case oe.CompletionItemKind.Unit:return Q.Unit;case oe.CompletionItemKind.Value:return Q.Value;case oe.CompletionItemKind.Enum:return Q.Enum;case oe.CompletionItemKind.Keyword:return Q.Keyword;case oe.CompletionItemKind.Snippet:return Q.Snippet;case oe.CompletionItemKind.Color:return Q.Color;case oe.CompletionItemKind.File:return Q.File;case oe.CompletionItemKind.Reference:return Q.Reference}return Q.Property}function te(ue,Q){if(ue)return new monaco.Range(Q.lineNumber+ue.start.line,0===ue.start.line?Q.column+ue.start.character:ue.start.character+1,Q.lineNumber+ue.end.line,0===ue.end.line?Q.column+ue.end.character:ue.end.character+1)}function j(ue,Q){const ge=new H;monaco.languages.registerCompletionItemProvider("typescript",ge),monaco.editor.registerCommand("resolveImport",(De,Ge)=>{Ge.toFile=Q.projectStore.state.files[Q.openedFile],re(ue,Q,Ge)});const Ie=[{label:"ngc",kind:monaco.languages.CompletionItemKind.Snippet,insertText:["@Component({","\tselector: '$1',","\ttemplate: `$3`","})","export class $2Component {","\t$4","}"].join("\n"),insertTextRules:4,documentation:"Angular component"},{label:"ngd",kind:monaco.languages.CompletionItemKind.Snippet,insertText:["@Directive({","\tselector: '$1',","})","export class $2Directive {","\t$3","}"].join("\n"),insertTextRules:4,documentation:"Angular directive"}];monaco.languages.registerCompletionItemProvider("typescript",{provideCompletionItems:(De,Ge)=>{if(ge.matched)return{suggestions:[]};const yt=De.uri,we=De.getOffsetAt(Ge),wt=Q.editorWorker.worker.postMessage({type:"IS_IN_STRING",payload:{contents:De.getValue(),offset:we}}),ht=monaco.languages.typescript.getTypeScriptWorker().then(nt=>nt("").then(ft=>ft.getCompletionsAtPosition(yt.toString(),we)));return Promise.all([wt,ht]).then(([nt,ft])=>{if(nt.isInString||ft&&ft.isMemberCompletion)return Promise.resolve({suggestions:[]});const ie=De.getWordUntilPosition(Ge).word.toLowerCase();return{suggestions:Object.keys(Q.monacoStore.exports).reduce((mt,Et)=>(Et!==Q.openedFile&&mt.push(...Q.monacoStore.exports[Et].set.map(pt=>({name:pt,type:Q.monacoStore.exports[Et].type,fromFile:Et}))),mt),[]).filter(mt=>mt.name.toLowerCase().indexOf(ie)>-1&&-1===Q.monacoStore.imports[Q.openedFile].indexOf(mt.name)).map(mt=>({label:mt.name,kind:monaco.languages.CompletionItemKind.Reference,detail:`[Auto-Import] ${mt.name} [${mt.fromFile}]`,insertText:mt.name,documentation:`[AI]  Import ${mt.name} from ${mt.fromFile}`,command:{title:"AI: Autocomplete",id:"resolveImport",arguments:[mt]}})).concat(Ie)}})}}),function B(ue,Q){const ge=()=>{const De=ue.getModel(),Ge=ue.getPosition(),yt=De.getWordAtPosition(Ge);if(!yt)return{clause:null};const we=yt.word.toLowerCase(),wt=Object.keys(Q.monacoStore.exports).reduce((ht,nt)=>(nt!==Q.openedFile&&ht.push(...Q.monacoStore.exports[nt].set.map(ft=>({name:ft,type:Q.monacoStore.exports[nt].type,fromFile:nt}))),ht),[]);return{range:new monaco.Range(Ge.lineNumber,yt.startColumn,Ge.lineNumber,yt.endColumn),clause:wt.find(ht=>ht.name.toLowerCase()===we&&-1===Q.monacoStore.imports[Q.openedFile].indexOf(ht.name))}};let Ie=null;ue.onKeyDown(De=>{if(De.altKey&&De.preventDefault(),!De.altKey||Ie)return;const Ge=ge();Ge.clause&&(Ie=ue.deltaDecorations([],[{range:Ge.range,options:{inlineClassName:"myInlineDecoration"}}]))}),ue.onKeyUp(De=>{!De.altKey||!Ie||(ue.deltaDecorations(Ie,[]),Ie=null)}),ue.addCommand(monaco.KeyMod.Alt|monaco.KeyCode.Enter,()=>{const De=ge().clause;De&&(De.toFile=Q.projectStore.state.files[Q.openedFile],re(ue,Q,De))})}(ue,Q)}function re(ue,Q,ge){Q.editorWorker.worker.postMessage({type:"ADD_IMPORT",payload:ge}).then(Ie=>function se(ue,Q){const Ie=ue.getModel().getPositionAt(Q.position),De=new monaco.Range(Ie.lineNumber,Ie.column,Ie.lineNumber,Ie.column);ue.executeEdits("",[{identifier:{major:1,minor:1},range:De,text:Q.toInsert,forceMoveMarkers:!0}])}(ue,Ie))}},846:(lt,be,O)=>{"use strict";O.r(be),O.d(be,{plugIn:()=>u});var v=O(4225);function u(he,fe){if("typescript"===fe.mode&&(0,v.zD)(["vs/editor/standalone/browser/standaloneServices"]).then(oe=>{oe.StaticServices.codeEditorService.get().openCodeEditor=({options:ne,resource:ce})=>{const te=ce.path.startsWith("src/")?ce.path.slice(4):ce.path;return te!==fe.openedFile&&fe.projectStore.selectFile(te),setTimeout(()=>{const j=ne.selection;if(j)if("number"==typeof j.endLineNumber&&"number"==typeof j.endColumn)he.setSelection(j),he.revealRangeInCenter(j,1);else{const B={lineNumber:j.startLineNumber,column:j.startColumn};he.setPosition(B),he.revealPositionInCenter(B,1)}}),Promise.resolve()}}),"html"===fe.mode){let oe;he.onMouseUp(H=>{H.event.ctrlKey&&(clearTimeout(oe),oe=setTimeout(()=>{const ne=he.getModel(),ce=ne.getOffsetAt(H.target.position);monaco.languages.typescript.getTypeScriptWorker().then(te=>te("")).then(te=>te.getTemplateDefinitionAt(ne.uri.toString(),ce)).then(te=>{if(te&&te.length){const{fileName:j,span:B}=te[0],re=j.slice(7);fe.projectStore.state.files[re]&&fe.editorWorker.inspect$.next({filePath:re,offset:B.start})}})},400))})}}},5815:(lt,be,O)=>{"use strict";function v(u,he){u.addCommand(monaco.KeyCode.F2,()=>{monaco.languages.typescript.getTypeScriptWorker().then(fe=>{const oe=u.getModel();fe(oe.uri).then(H=>{const ne=[];ne.push(H.getSyntacticDiagnostics(oe.uri.toString())),ne.push(H.getSemanticDiagnostics(oe.uri.toString())),Promise.all(ne).then(ce=>{for(let te=0;te<ce.length;te++)for(let j=0;j<ce[te].length;j++){const B=oe.getPositionAt(ce[te][j].start);return u.setPosition(B),void u.revealLineInCenter(B.lineNumber)}})})})})}O.r(be),O.d(be,{plugIn:()=>v})},5563:(lt,be,O)=>{"use strict";function u(he){!function v(he){he.addAction({id:"console-autocomplete",label:"console.log($0)",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyMod.Alt|monaco.KeyCode.KEY_C],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:fe=>{let oe=he.getPosition();const H=fe.getModel().getLineContent(oe.lineNumber),ne=H.search(/\S|$/),ce=H.substring(ne),te=new monaco.Range(oe.lineNumber,ne+1,oe.lineNumber,oe.column);he.executeEdits("",[{range:te,text:"",forceMoveMarkers:!0}]),oe=he.getPosition();const j=new monaco.Range(oe.lineNumber,ne+1,oe.lineNumber,ne+1);he.executeEdits("",[{range:j,text:`console.log(${ce});`,forceMoveMarkers:!0}])}})}(he)}O.r(be),O.d(be,{plugIn:()=>u})},8379:(lt,be,O)=>{"use strict";O.r(be),O.d(be,{plugIn:()=>he});class v{constructor(oe,H){this.worker=oe,this.projectStore=H,this.triggerCharacters=[".","/","@"]}provideCompletionItems(oe,H,ne,ce){const te=oe.getOffsetAt(H),j=oe.getValue();return this.worker.postMessage({type:"GET_TOKEN_AT_POSITION",payload:{contents:j,offset:te}}).then(({node:B,isInImport:re,text:se})=>{if(!re)return;const ue=se.match(/^\s+['|"]/g),Q=se.match(/['|"]$/g),ge=ue?B.pos+ue[0].length:B.pos;if(ge<=te&&te<=(Q?B.end-Q[0].length:B.end)){const De=this.projectStore.state.files,Ge=this.projectStore.state.dependencies,yt=Object.keys(De).filter(nt=>"file"===De[nt].type&&nt.endsWith(".ts")&&nt!==oe.uri.path).map(nt=>{const ft=function u(fe,oe){const H="/",ne=oe.split(H),ce=fe.split(H);ce.pop();const te=ne.pop(),j=ne.join(H);let B="";if(ce.join(H)===j)return"./"+te;for(;-1===j.indexOf(ce.join(H));)ce.pop(),B+="../";const re=ne.slice(ce.length);return re.length&&(B+=re.join(H)+H),(0===B.indexOf("..")?"":"./")+B+te}(oe.uri.path.slice(4),nt);return{label:ft,insertText:ft.slice(0,-3)}}),we=Object.keys(Ge).filter(nt=>!["whatwg-fetch","zone.js","tslib","typescript"].includes(nt)).map(nt=>({label:nt,insertText:nt})),wt=j.substring(ge,te);return{suggestions:[...yt,...we].map(nt=>({label:nt.label,insertText:nt.insertText,kind:monaco.languages.CompletionItemKind.File,range:{startLineNumber:H.lineNumber,startColumn:H.column-wt.length,endLineNumber:H.lineNumber,endColumn:H.column}}))}}return{suggestions:[]}})}}function he(fe,oe){monaco.languages.registerCompletionItemProvider("typescript",new v(oe.editorWorker.worker,oe.projectStore))}},2581:(lt,be,O)=>{"use strict";function v(he,fe){he.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyMod.Alt|monaco.KeyMod.Shift|monaco.KeyCode.KEY_P,()=>function u(he,fe){const H="https://unpkg.com/prettier@1.18.2/";window.require([`${H}standalone.js`,`${H}parser-typescript.js`,`${H}parser-postcss.js`,`${H}parser-html.js`],(ne,{parsers:ce},{parsers:te},{parsers:j})=>{const B=he.getModel(),re=B.getOffsetAt(he.getPosition()),se={...ce,...te,...j},ue=B.getModeId(),Q=ne.formatWithCursor(B.getValue(),{parser:ue,plugins:[{parsers:se}],cursorOffset:re,...fe.playgroundStore.state.prettierConfig});B.setValue(Q.formatted);const ge=B.getPositionAt(Q.cursorOffset);he.setPosition(ge),fe.refreshDecorators()})}(he,fe))}O.r(be),O.d(be,{plugIn:()=>v})},2470:(lt,be,O)=>{"use strict";O.d(be,{Wz:()=>B,$m:()=>j,Uf:()=>wt,TR:()=>ht});var v=O(462),u=O(5046),he=O(7422),fe=O(5083);class oe{get state(){return this.state$.value}constructor(ft=null){this.initialState=ft,this.state$=new v.X(this.initialState)}select(ft){return this.state$.asObservable().pipe((0,u.h)(Boolean),(0,he.U)(ft),(0,fe.x)())}setState(ft){const ie={...this.state,...ft};this.state$.next(ie)}}var H=O(9649),ne=O(4532),ce=O(6575);const te={useTabs:!1,printWidth:120,tabWidth:2,singleQuote:!0,trailingComma:"es5",semi:!0};let j=(()=>{class nt extends oe{constructor(ie){super({layout:(0,H.ak)("layout")||localStorage.getItem("layout")||"1",testMode:(0,H.ak)("test")||"false",prettierConfig:JSON.parse(localStorage.getItem("prettier"))||te,previewUrl:"",reloadMode:localStorage.getItem("reloadMode")||"edit"}),this.location=ie,this.testEnabled$=this.select(rt=>"true"===rt.testMode),this.activeTheme$=this.select(rt=>rt.theme),this.screenShotMode$=this.select(rt=>rt.screenShotMode),this.reloadMode$=this.select(rt=>rt.reloadMode),this.schematicOptions$=this.select(rt=>rt.schematicOptions),this.prettierConfig$=this.select(rt=>rt.prettierConfig),this.layout$=this.select(rt=>rt.layout),this.previewUrl$=this.select(rt=>rt.previewUrl),this.applyTheme(localStorage.getItem("monaco-theme")||"material")}toggleLayout(){const ie="1"===this.state.layout?"2":"1";this.location.replaceState((0,H.GW)("layout",ie)),localStorage.setItem("layout",ie),this.setState({layout:ie})}toggleTestMode(){const ie="true"===this.state.testMode?"false":"true";this.location.replaceState((0,H.GW)("test",ie)),this.setState({testMode:ie})}applyTheme(ie){document.body.classList.remove(this.state.theme),document.body.classList.add(ie),window.monaco&&monaco.editor&&monaco.editor.setTheme(["light","vstudio"].includes(ie)?"vs-light":"vs-dark"),localStorage.setItem("monaco-theme",ie),this.setState({theme:ie})}toggleScreenShotMode(ie){this.setState({screenShotMode:this.state.screenShotMode===ie?void 0:ie})}useSchematic(ie){this.setState({schematicOptions:ie})}updatePrettierConfig(ie){try{const rt=JSON.parse(ie);localStorage.setItem("prettier",JSON.stringify(rt)),this.setState({prettierConfig:rt})}catch{}}changePreviewUrl(ie){this.setState({previewUrl:ie})}setReloadMode(ie){localStorage.setItem("reloadMode",ie),this.setState({reloadMode:ie})}static{this.\u0275fac=function(rt){return new(rt||nt)(ne.LFG(ce.Ye))}}static{this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}}return nt})();var B=function(nt){return nt.Folder="folder",nt.File="file",nt}(B||{}),re=O(8159),se=O(6939);const ue={"index.html":{name:"index.html",type:B.File,contents:'<my-app id="app">Loading...</my-app>'},app:{name:"app",type:B.Folder,contents:""},"main.ts":{name:"main.ts",type:B.File,contents:"import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);"},"app/app.module.ts":{name:"app.module.ts",type:B.File,contents:"import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\n\nimport { AppComponent } from './app.component';\n\n@NgModule({\n  imports: [\n    BrowserModule\n  ],\n  declarations: [\n    AppComponent\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }"},"app/app.component.ts":{name:"app.component.ts",type:B.File,contents:"import { Component, VERSION } from '@angular/core';\n\n@Component({\n  selector: 'my-app',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  name = 'Angular ' + VERSION.full;\n}\n"},"app/app.component.html":{name:"app.component.html",type:B.File,contents:'<h2 class="title">Hello {{name}}</h2>'},"app/app.component.css":{name:"app.component.css",type:B.File,contents:".title {\n  font-family: sans-serif;\n}"},"styles.css":{name:"styles.css",type:B.File,contents:"/* Write your global styles here */"}},Q={rxjs:{main:"./index.js",typings:"./index.d.ts",version:"6.6.0"},tslib:{main:"./tslib.js",typings:"./index.d.ts",version:"1.9.3",fake:!0},typescript:{loaded:!0,fake:!0},"zone.js":{main:"./dist/zone.js",version:"0.10.2",loaded:!0,fake:!0},"core-js":{main:"./client/shim.min.js",version:"2.4.1",loaded:!0,fake:!0},"whatwg-fetch":{main:"fetch.js",version:"2.0.4",fake:!0}};["platform-browser","platform-browser-dynamic","core","compiler","common","forms","router"].forEach(nt=>{Q["@angular/"+nt]={main:`./bundles/${nt}.umd.js`,module:`./esm5/${nt}.js`,typings:`./${nt}.d.ts`,version:"11.0.2"}});const Ie={title:"Base Project",selectedFile:"app/app.component.ts",manifest:{indexHtml:"index.html",entry:"main.ts",styles:"styles.css"},files:ue,dependencies:Q,aot:!0},De={ts:{title:"Base TypeScript Project",selectedFile:"index.ts",manifest:{indexHtml:"index.html",entry:"index.ts",styles:"styles.css"},dependencies:{rxjs:{main:"./index.js",typings:"./index.d.ts",version:"6.6.0"}},files:{"index.html":{name:"index.html",type:B.File,contents:'<div id="app"></div>'},"index.ts":{name:"index.ts",type:B.File,contents:"const app = document.getElementById('app');\napp.textContent = 'Hello World!';"},"styles.css":{name:"styles.css",type:B.File,contents:"/* Write your global styles here */"}},nonNg:!0}};var Ge=O(304),yt=O(5608),we=O(5466);let wt=(()=>{class nt extends oe{get isSaveEnabled(){return this.wasRecorded||!!this.state.recordingFileName&&this.state.authorId===this.authService.user.uid}getAotVersion(){return this.state.dependencies["@angular/compiler"].version}constructor(ie,rt,He,mt){super(),this.authService=ie,this.projectService=rt,this.location=He,this.lessonService=mt,this.isProjectDirty$=this.select(Et=>Et.dirty),this.projectLoaded$=this.select(Et=>Et).pipe((0,se.q)(1)),this.target$=this.select(Et=>Et.target),this.author$=this.select(Et=>Et.author),this.nonNg$=this.select(Et=>!!Et.nonNg),this.isLesson$=this.select(Et=>!!Et.recordingFileName),this.isLessonRecording$=this.select(Et=>""===Et.recordingFileName),this.dependencies$=this.select(Et=>Et.dependencies).pipe((0,he.U)(Et=>Object.keys(Et).map(pt=>({...Et[pt],name:pt})).filter(pt=>!pt.fake).sort((pt,Nn)=>pt.name<Nn.name?-1:pt.name>Nn.name?1:0))),this.externalResources$=this.select(Et=>Et.externalResources),this.canEdit$=(0,re.aj)([this.authService.user$,this.select(Et=>Et.authorId)]).pipe((0,he.U)(([Et,pt])=>pt&&Et&&pt===Et.uid)),this.isTestsSupported$=this.select(Et=>Et&&Et.files&&!!Et.files["src/test.ts"]),this.ngVersion$=this.select(Et=>Et.dependencies).pipe((0,he.U)(Et=>Et["@angular/compiler"]?parseInt(Et["@angular/compiler"].version,10):9)),this.aotEnabled$=this.select(Et=>void 0!==Et.aot&&!!Et.aot),this.vimEnabled$=this.select(Et=>!!Et.vimMode),this.recording$=this.select(Et=>!!Et.record),this.selectedFile$=this.select(Et=>Et.selectedFile),this.selectedFiles=[],this.wasRecorded=!1}save(ie){const{uid:rt,displayName:He,photoURL:mt}=this.authService.user;if(!rt)return Promise.resolve(!1);const{id:Et,title:pt,files:Nn,dependencies:Tn,selectedFile:Wt,manifest:$n,externalResources:xe,aot:Ne,compilerOptions:ke,target:Oe,nonNg:We,recordingFileName:it}=this.state,ot={...!ie&&Et&&{id:Et},title:pt,authorId:rt,author:{displayName:He,photoURL:mt},files:JSON.stringify(Nn,(en,In)=>["dirty","fullPath"].includes(en)?void 0:In),dependencies:Tn,selectedFile:Wt||"",manifest:$n||"",externalResources:JSON.stringify(xe),aot:Ne,nonNg:We||!1,compilerOptions:ke||null,target:Oe||"es5",...it?{recordingFileName:it}:{}};return(it?this.lessonService:this.projectService).save(ot).then(en=>(this.setState({...en,dirty:!1}),en.id))}loadProject(ie,rt,He){let mt=Promise.resolve(rt&&De[rt]||Ie);const Et=document.location.pathname;if(He)mt=this.lessonService.loadFromFirestore(He).then(pt=>pt?(pt.id=He,pt):(this.location.go("/"),location.reload(),null));else if(Et.startsWith("/edit/")){const pt=Et.split("/edit/").join("");pt?mt=this.projectService.loadFromFirestore(pt).then(Nn=>{if(Nn.manifest){const Wt={true:"src/test.ts",false:"src/main.ts"};JSON.parse(Nn.files)[Wt[ie]]&&(Nn.manifest.entry=Wt[ie])}return Nn.id=pt,Nn}):this.location.go("/")}else Et.startsWith("/github/")?mt=this.projectService.loadFromGithub(document.location.pathname.replace("/github/","")).then(pt=>("true"===ie&&(pt.manifest.entry=pt.selectedFile="src/test.ts"),pt.selectedFile=pt.manifest.entry||"src/main.ts",pt)):Et.startsWith("/s")&&(mt=this.projectService.loadFromStore(document.location.search).then(pt=>({...Ie,...pt,selectedFile:pt.manifest.entry})));return mt.then(pt=>{pt||(this.location.go("/"),pt=Ie),"string"==typeof pt.files&&(pt.files=JSON.parse(pt.files)),pt.externalResources=JSON.parse(pt.externalResources||"[]"),pt.selectedFile=pt.selectedFile||Ie.selectedFile;const Nn=(0,H.ak)("open");if(Nn){const Wt=decodeURIComponent(Nn);pt.files[Wt]&&(pt.selectedFile=Wt)}pt.dependencies=pt.dependencies||Ie.dependencies,pt.manifest=pt.manifest||Ie.manifest;const Tn=!!pt.aot&&parseInt(pt.dependencies["@angular/compiler"].version,10)>=9;if(!pt.nonNg){const{key:Wt,contents:$n}=ht(Tn,pt);pt.files[Wt]={...pt.files[Wt],contents:$n}}return this.selectedFiles=[pt.selectedFile],this.setState({...pt,dirty:!1,aot:Tn,target:pt.target||"es5",vimMode:"true"===localStorage.getItem("vim"),record:"true"===localStorage.getItem("record")}),pt})}selectFile(ie){this.state.selectedFile!==ie&&(this.setState({selectedFile:ie}),this.selectedFiles=this.selectedFiles.filter(rt=>rt!==ie),this.selectedFiles.unshift(ie),this.location.replaceState((0,H.GW)("open",encodeURIComponent(ie))))}addItem(ie){this.setState({dirty:!0,files:{...this.state.files,[ie.key]:ie.value}})}deleteItem(ie){const rt=this.state.files;this.setState({dirty:!0,files:Object.keys(rt).reduce((He,mt)=>((ie.name?mt.startsWith(ie.fullPath):mt===ie.fullPath)||(He[mt]=rt[mt]),He),{})})}merge(ie){const rt=this.state.files;this.setState({dirty:!0,files:Object.assign(Object.keys(rt).reduce((He,mt)=>(ie.remove.indexOf(mt)>-1||(He[mt]=rt[mt]),He),{}),ie.add)})}setDirtyOnFiles(ie,rt){let{files:He}=this.state;He=Object.keys(He).reduce((mt,Et)=>((!rt||rt.includes(Et))&&He[Et].dirty!==ie&&(He[Et]={...He[Et],dirty:ie}),mt[Et]=He[Et],mt),{}),this.setState({dirty:!0,files:He})}updateDeps(ie){this.setState({dependencies:ie,dirty:!0})}updateDep(ie){const rt=this.state.dependencies;this.setState({dependencies:{...rt,[ie.name]:{...rt[ie.name],version:ie.version}},dirty:!0})}deleteProject(ie){return this.projectService.deleteProject(ie)}setDirty(){this.state.dirty||this.setState({dirty:!0})}setTitle(ie){this.setState({title:ie,dirty:!0})}addExternalResource(ie){const rt=this.state.externalResources;rt.includes(ie)||(this.setState({externalResources:[...rt,ie],dirty:!0}),preview.postMessage({type:"ADD_RESOURCE",payload:ie},"*"))}removeExternalResource(ie){this.setState({externalResources:this.state.externalResources.filter(He=>He!==ie),dirty:!0}),preview.postMessage({type:"REMOVE_RESOURCE",payload:ie},"*")}toggleAotStatus(){this.setState({aot:!this.state.aot})}toggleVimMode(){localStorage.setItem("vim",(!this.state.vimMode).toString()),location.reload()}toggleRecording(){localStorage.setItem("record",(!this.state.record).toString()),location.reload()}updateCompilerOptions(ie){this.setState({dirty:!0,compilerOptions:ie})}setTarget(ie){this.setState({target:ie})}static{this.\u0275fac=function(rt){return new(rt||nt)(ne.LFG(Ge.e),ne.LFG(yt.Y4),ne.LFG(ce.Ye),ne.LFG(we.J))}}static{this.\u0275prov=ne.Yz7({token:nt,factory:nt.\u0275fac,providedIn:"root"})}}return nt})();function ht(nt,ft){const ie="import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';",rt="import { platformBrowser } from '@angular/platform-browser';",He=Object.keys(ft.files).find(pt=>pt.endsWith("main.ts"));if(!He)return;const mt=ft.files[He];let Et;return Et=nt&&parseInt(ft.dependencies["@angular/compiler"].version,10)>=9?mt.contents.replace(ie,rt).replace(/platformBrowserDynamic\(\)/g,"platformBrowser()").replace(/platform-browser-dynamic'/g,"platform-browser'"):mt.contents.replace(rt,ie).replace(/platformBrowser\(\)/g,"platformBrowserDynamic()").replace(/platform-browser'/g,"platform-browser-dynamic'"),{key:He,contents:Et}}},4791:(lt,be,O)=>{"use strict";O.d(be,{b:()=>u});var v=O(4532);let u=(()=>{class he{static{this.\u0275fac=function(H){return new(H||he)}}static{this.\u0275cmp=v.Xpm({type:he,selectors:[["ng-run-checkbox"]],inputs:{label:"label",checked:"checked"},decls:3,vars:1,consts:[["type","checkbox",3,"checked"]],template:function(H,ne){1&H&&(v.TgZ(0,"label"),v._UZ(1,"input",0)(2,"i"),v.qZA()),2&H&&(v.xp6(1),v.Q6J("checked",ne.checked))},styles:['[_nghost-%COMP%]{display:inline-block;height:1em;width:2em;position:relative;font-size:16px}label[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]{position:absolute;opacity:0}i[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:#c7c7c7;border-radius:1em}i[_ngcontent-%COMP%]:after{position:relative;content:"";display:block;height:1.1em;width:1.1em;border-radius:1.1em;background:#fff;box-shadow:0 .1em .3em #0000004d;transition:all .3s;z-index:1;margin:-.05em}input[_ngcontent-%COMP%]:checked + i[_ngcontent-%COMP%]:after{transform:translate3d(100%,0,0)}input[_ngcontent-%COMP%]:checked + i[_ngcontent-%COMP%]:before{background:#69b956}']})}}return he})()},5164:(lt,be,O)=>{"use strict";O.d(be,{N:()=>te});var v=O(462),u=O(4532),he=O(6575);function fe(j,B){if(1&j){const re=u.EpF();u.TgZ(0,"div",5),u.NdJ("click",function(){u.CHM(re);const ue=u.oxw(2);return u.KtG(ue.close())}),u.qZA()}}function oe(j,B){if(1&j){const re=u.EpF();u.ynx(0),u.TgZ(1,"div",1,2),u.NdJ("click",function(){u.CHM(re);const ue=u.MAs(2),Q=u.oxw();return u.KtG(Q.toggle(ue))}),u.Hsn(3),u.qZA(),u.TgZ(4,"div",3),u.Hsn(5,1),u.qZA(),u.YNc(6,fe,1,0,"div",4),u.BQk()}if(2&j){const re=B.ngIf,se=u.oxw();u.xp6(1),u.ekj("trigger--with-arrow",se.showArrow)("trigger--opened",re.opened),u.xp6(3),u.Udp("top","left"===se.align?se.top:null,"px")("left","left"===se.align?se.left:null,"px"),u.ekj("menu--opened",re.opened)("menu--right","right"===se.align)("menu--top","top"===se.align),u.xp6(2),u.Q6J("ngIf",re.opened)}}const H=[[["","menuTrigger",""]],"*"],ne=function(j){return{opened:j}},ce=["[menuTrigger]","*"];let te=(()=>{class j{constructor(){this.showArrow=!1,this.align="left",this.opened=new v.X(!1)}toggle(re){const{top:se,left:ue}=re.getBoundingClientRect();this.top=se+re.clientHeight+5,this.left=ue,this.opened.next(!this.opened.value)}close(){this.opened.next(!1)}static{this.\u0275fac=function(se){return new(se||j)}}static{this.\u0275cmp=u.Xpm({type:j,selectors:[["ng-run-dropdown-menu"]],inputs:{showArrow:"showArrow",align:"align"},outputs:{opened:"opened"},ngContentSelectors:ce,decls:2,vars:5,consts:[[4,"ngIf"],[1,"flex-y-center","trigger","h-100",3,"click"],["target",""],[1,"menu"],["class","menu-backdrop",3,"click",4,"ngIf"],[1,"menu-backdrop",3,"click"]],template:function(se,ue){1&se&&(u.F$t(H),u.YNc(0,oe,7,15,"ng-container",0),u.ALo(1,"async")),2&se&&u.Q6J("ngIf",u.VKq(3,ne,u.lcZ(1,1,ue.opened)))},dependencies:[he.O5,he.Ov],styles:['[_nghost-%COMP%]{position:relative;display:block;height:100%}[_nghost-%COMP%]     .menu-item{position:relative;display:flex;justify-content:space-between;align-items:center;padding:0 15px;line-height:35px;white-space:nowrap;cursor:pointer}[_nghost-%COMP%]     .menu-item:hover{background:#f3f3f3}.menu[_ngcontent-%COMP%]{visibility:hidden;position:fixed;height:0;z-index:2;overflow:hidden;margin-top:8px;color:#333;background:#fff;border-radius:4px;box-shadow:0 2px 10px #0003;opacity:0;transition:opacity .1s linear,top .1s linear,visibility .1s linear,margin .1s linear;pointer-events:none}.menu--opened[_ngcontent-%COMP%]{height:auto;visibility:visible;margin-top:0;opacity:1;pointer-events:auto}.menu--right[_ngcontent-%COMP%]{position:absolute;top:100%;right:0}.menu--top[_ngcontent-%COMP%]{position:absolute;bottom:100%;right:0}.menu-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:1;background:rgba(0,0,0,.25)}.trigger--with-arrow[_ngcontent-%COMP%]{padding-right:25px}.trigger--with-arrow[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;margin-top:-2px;right:10px;display:inline-block;padding:3px;border-width:0 2px 2px 0;border-style:solid;transform:rotate(45deg) translateY(-50%)}']})}}return j})()},2476:(lt,be,O)=>{"use strict";O.d(be,{o:()=>u});var v=O(4532);let u=(()=>{class he{constructor(){this.width="24",this.height="24"}static{this.\u0275fac=function(H){return new(H||he)}}static{this.\u0275cmp=v.Xpm({type:he,selectors:[["ng-run-icon"]],inputs:{name:"name",width:"width",height:"height"},decls:2,vars:3,consts:[[1,"icon"]],template:function(H,ne){1&H&&(v.O4$(),v.TgZ(0,"svg",0),v._UZ(1,"use"),v.qZA()),2&H&&(v.uIk("width",ne.width)("height",ne.height),v.xp6(1),v.uIk("href","#icon-"+ne.name))},styles:["[_nghost-%COMP%]{display:flex;align-items:center}.icon[_ngcontent-%COMP%]{fill:var(--color)}"]})}}return he})()},6992:(lt,be,O)=>{"use strict";O.d(be,{N:()=>he});var v=O(4532);const u=["*"];let he=(()=>{class fe{static{this.\u0275fac=function(ne){return new(ne||fe)}}static{this.\u0275cmp=v.Xpm({type:fe,selectors:[["ng-run-loading"]],ngContentSelectors:u,decls:19,vars:0,consts:[[1,"gear-container"],[1,"gear","one"],[1,"gear-inner"],[1,"bar"],[1,"gear","two"],[1,"loading-text"]],template:function(ne,ce){1&ne&&(v.F$t(),v.TgZ(0,"div",0)(1,"div",1)(2,"div",2),v._UZ(3,"div",3)(4,"div",3)(5,"div",3)(6,"div",3)(7,"div",3)(8,"div",3),v.qZA()(),v.TgZ(9,"div",4)(10,"div",2),v._UZ(11,"div",3)(12,"div",3)(13,"div",3)(14,"div",3)(15,"div",3)(16,"div",3),v.qZA()()(),v.TgZ(17,"div",5),v.Hsn(18),v.qZA())},styles:['[_nghost-%COMP%]{position:absolute;inset:0;background:#1a2327;text-align:center;padding-top:50px;z-index:1;color:#c7c7c7;font-size:14px}[_nghost-%COMP%]   .loading-text[_ngcontent-%COMP%]{margin-top:20px}@keyframes _ngcontent-%COMP%_clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_counter-clockwise{0%{transform:rotate(0)}to{transform:rotate(-360deg)}}.gear-container[_ngcontent-%COMP%]{margin-top:70px;margin-left:50%;width:78px;height:66px;max-width:100%;transform:translate(-50%)}.gear[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;border-radius:22px}.gear.one[_ngcontent-%COMP%]{top:0;left:0}.gear.two[_ngcontent-%COMP%]{top:30px;left:38px}.gear[_ngcontent-%COMP%]:after{content:"";position:absolute;height:24px;width:24px;border-radius:12px;margin-left:-12px;margin-top:-12px;top:50%;left:50%}.gear-inner[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{background:#c7c7c7;height:6px;width:50px;position:absolute;left:50%;margin-left:-25px;top:50%;margin-top:-3px;border-radius:2px}.gear-inner[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;background:#c7c7c7;animation-iteration-count:infinite;border-radius:50px}.gear.one[_ngcontent-%COMP%]   .gear-inner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_counter-clockwise 2.5s infinite linear}.gear.two[_ngcontent-%COMP%]   .gear-inner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_clockwise 2.5s infinite linear}.broken[_nghost-%COMP%]   .gear.two[_ngcontent-%COMP%]   .gear-inner[_ngcontent-%COMP%], .broken   [_nghost-%COMP%]   .gear.two[_ngcontent-%COMP%]   .gear-inner[_ngcontent-%COMP%], .broken[_nghost-%COMP%]   .gear.one[_ngcontent-%COMP%]   .gear-inner[_ngcontent-%COMP%], .broken   [_nghost-%COMP%]   .gear.one[_ngcontent-%COMP%]   .gear-inner[_ngcontent-%COMP%]{animation:none}.broken[_nghost-%COMP%]   .gear.two[_ngcontent-%COMP%]:before, .broken   [_nghost-%COMP%]   .gear.two[_ngcontent-%COMP%]:before{content:"";position:absolute;width:6px;background:#212121;height:50px;z-index:1;transform:rotate(75deg);left:17px;top:-5px}.gear-inner[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(2){transform:rotate(60deg)}.gear-inner[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(3){transform:rotate(120deg)}.gear-inner[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(4){transform:rotate(90deg)}.gear-inner[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(5){transform:rotate(30deg)}.gear-inner[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:nth-child(6){transform:rotate(150deg)}.gear[_ngcontent-%COMP%]:after{background:var(--bg)}']})}}return fe})()},6865:(lt,be,O)=>{"use strict";O.d(be,{z:()=>u});var v=O(4532);let u=(()=>{class he{set hidden(oe){this._hidden=oe,this.elRef.nativeElement.classList.toggle("d-none",oe)}get hidden(){return this._hidden}constructor(oe){this.elRef=oe,this.size=0,this._hidden=!1}static{this.\u0275fac=function(H){return new(H||he)(v.Y36(v.SBq))}}static{this.\u0275dir=v.lG2({type:he,selectors:[["","split-area",""]],hostAttrs:[1,"split-area"],inputs:{size:["split-area","size"]},exportAs:["splitArea"]})}}return he})()},4450:(lt,be,O)=>{"use strict";O.d(be,{H:()=>Q});var v=O(6865),u=O(462),he=O(3117),fe=O(3190),oe=O(106),H=O(3303),ne=O(4532),ce=O(6575);const te=["splitter",""];function j(ge,Ie){if(1&ge){const De=ne.EpF();ne.TgZ(0,"div",2),ne.NdJ("mousedown",function(yt){ne.CHM(De);const we=ne.oxw().index,wt=ne.oxw();return ne.KtG(wt.onSeparatorMouseDown(yt,we))})("touchstart",function(yt){ne.CHM(De);const we=ne.oxw().index,wt=ne.oxw();return ne.KtG(wt.onSeparatorMouseDown(yt,we))}),ne.qZA()}if(2&ge){const De=ne.oxw().index,Ge=ne.oxw();ne.Gre("separator separator--",Ge.direction,""),ne.Udp("width","horizontal"===Ge.direction?Ge.separatorSize:"auto","px")("height","horizontal"===Ge.direction?"auto":Ge.separatorSize,"px")("order",2*De+1)}}function B(ge,Ie){1&ge&&ne.YNc(0,j,1,9,"div",1),2&ge&&ne.Q6J("ngIf",!Ie.last)}const re=["*"],se="ontouchstart"in window,ue={MOVE:se?"touchmove":"mousemove",RELEASE:se?"touchend":"mouseup"};let Q=(()=>{class ge{get containerSize(){return this.elRef.nativeElement.getBoundingClientRect()[this.resizeProp]}get separatorsSize(){return this.separatorSize*(this.visibleAreas.length-1)}get visibleAreas(){return this.areas.filter(De=>!De.hidden)}constructor(De){this.elRef=De,this.direction="horizontal",this.areas$=new u.X([]),this.separatorSize=16,this.destroyed$=new he.xQ}ngAfterContentInit(){this.resizeProp="horizontal"===this.direction?"width":"height","vertical"===this.direction&&(this.elRef.nativeElement.style.flexDirection="column"),this.areas=this.areaDirs.toArray(),this.updateLayout()}updateLayout(){this.areas$.next(this.visibleAreas.map(De=>De.size/100)),this.visibleAreas.forEach((De,Ge)=>{De.elRef.nativeElement.style.order=(2*Ge).toString()}),this.updateAreasSize()}onSeparatorMouseDown(De,Ge){const yt="horizontal"===this.direction?"pageX":"pageY",we=se?De.touches[0][yt]:De[yt];this.positions=this.getPositions();const wt=this.positions[Ge+1];document.body.classList.add("dragging");const ht=(0,fe.R)(document,ue.RELEASE).pipe((0,oe.b)(()=>document.body.classList.remove("dragging")));(0,fe.R)(document,ue.MOVE).pipe((0,H.R)(ht)).subscribe(nt=>{let ie=wt+((se?nt.touches[0][yt]:nt[yt])-we)/(this.containerSize-this.separatorsSize);ie=Math.max(0,Math.min(1,ie)),this.calculatePositions(Ge+1,ie)})}calculatePositions(De,Ge){this.positions[De]=Ge;for(let we=0;we<this.positions.length;we++)we<De&&(this.positions[we]=Math.min(this.positions[we],Ge)),we>De&&(this.positions[we]=Math.max(this.positions[we],Ge));const yt=this.areas$.value;this.positions.forEach((we,wt)=>{const ht=this.positions[wt+1];void 0!==yt[wt]&&(yt[wt]=(void 0===ht?1:ht)-we)}),this.updateAreasSize()}updateAreasSize(){const De=this.areas$.value,yt=100-100*this.separatorsSize/this.containerSize;this.visibleAreas.forEach((we,wt)=>{const ht=yt*De[wt];we.size=100*De[wt],we.elRef.nativeElement.style[this.resizeProp]=`${ht}%`})}getPositions(){return this.areas$.value.reduce((De,Ge,yt)=>[...De,(yt>0?De[yt]:0)+Ge],[0])}ngOnDestroy(){this.destroyed$.next()}static{this.\u0275fac=function(Ge){return new(Ge||ge)(ne.Y36(ne.SBq))}}static{this.\u0275cmp=ne.Xpm({type:ge,selectors:[["","splitter",""]],contentQueries:function(Ge,yt,we){if(1&Ge&&ne.Suo(we,v.z,4),2&Ge){let wt;ne.iGM(wt=ne.CRH())&&(yt.areaDirs=wt)}},inputs:{direction:["splitterDirection","direction"]},attrs:te,ngContentSelectors:re,decls:3,vars:3,consts:[["ngFor","",3,"ngForOf"],[3,"class","width","height","order","mousedown","touchstart",4,"ngIf"],[3,"mousedown","touchstart"]],template:function(Ge,yt){1&Ge&&(ne.F$t(),ne.Hsn(0),ne.YNc(1,B,1,1,"ng-template",0),ne.ALo(2,"async")),2&Ge&&(ne.xp6(1),ne.Q6J("ngForOf",ne.lcZ(2,1,yt.areas$)))},dependencies:[ce.sg,ce.O5,ce.Ov],styles:["[_nghost-%COMP%]{display:flex;width:100%;height:100%}.separator[_ngcontent-%COMP%]{position:relative;cursor:col-resize;z-index:1;flex-shrink:0;background:var(--box-resizer-bg);border-left:1px solid var(--box-resizer-border-left-color);border-right:1px solid var(--box-resizer-border-right-color)}.separator--vertical[_ngcontent-%COMP%]{cursor:row-resize;border-left:none;border-right:none;border-top:1px solid var(--box-resizer-border-left-color);border-bottom:1px solid var(--box-resizer-border-right-color)}"],changeDetection:0})}}return ge})()},4665:(lt,be,O)=>{"use strict";O.d(be,{u:()=>te});var v=O(462),u=O(4532),he=O(6575),fe=O(2476);function oe(j,B){if(1&j){const re=u.EpF();u.ynx(0),u.TgZ(1,"h3",1),u.NdJ("click",function(){u.CHM(re);const ue=u.oxw();return u.KtG(ue.opened$.next(!ue.opened$.value))}),u._UZ(2,"ng-run-icon",2),u.TgZ(3,"span",3),u._uU(4),u.qZA(),u.Hsn(5),u.qZA(),u.TgZ(6,"div"),u.Hsn(7,1),u.qZA(),u.BQk()}if(2&j){const re=B.ngIf,se=u.oxw();u.xp6(2),u.Q6J("name","arrow-"+(re.opened?"down":"right")),u.xp6(2),u.Oqu(se.title),u.xp6(2),u.ekj("d-none",!re.opened)}}const H=[[["",8,"icon"]],"*"],ne=function(j){return{opened:j}},ce=[".icon","*"];let te=(()=>{class j{constructor(){this.opened$=new v.X(!0)}static{this.\u0275fac=function(se){return new(se||j)}}static{this.\u0275cmp=u.Xpm({type:j,selectors:[["ng-run-toggler"]],inputs:{title:"title"},ngContentSelectors:ce,decls:2,vars:5,consts:[[4,"ngIf"],[1,"toggler",3,"click"],[1,"icon-arrow",3,"name"],[1,"toggler-title"]],template:function(se,ue){1&se&&(u.F$t(H),u.YNc(0,oe,8,4,"ng-container",0),u.ALo(1,"async")),2&se&&u.Q6J("ngIf",u.VKq(3,ne,u.lcZ(1,1,ue.opened$)))},dependencies:[he.O5,fe.o,he.Ov],styles:["[_nghost-%COMP%]{display:block;margin-bottom:5px}.toggler[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:400;padding:0 10px;line-height:25px;color:#f6f6f6;display:flex;align-items:center;cursor:pointer}.toggler-title[_ngcontent-%COMP%]{flex-shrink:0}.toggler[_ngcontent-%COMP%]   .icon-arrow[_ngcontent-%COMP%]{width:14px;height:14px;margin-right:2px;flex-shrink:0}"],changeDetection:0})}}return j})()},6338:(lt,be,O)=>{"use strict";O.d(be,{l:()=>he});var v=O(4532),u=O(2647);let he=(()=>{class fe{constructor(H,ne,ce){this.name=H,this.containerRegistry=ne,this.vcRef=ce,this.containerRegistry.registerContainer(H,ce)}static{this.\u0275fac=function(ne){return new(ne||fe)(v.$8M("ng-run-container"),v.Y36(u.Q),v.Y36(v.s_b))}}static{this.\u0275dir=v.lG2({type:fe,selectors:[["ng-template","ng-run-container",""]]})}}return fe})()},7554:(lt,be,O)=>{"use strict";O.d(be,{i:()=>oe,u:()=>H});var v=O(4532);const fe={above:5,below:-5};let oe=(()=>{class ne{ngOnChanges(){this.componentRef&&(this.componentRef.instance.content=this.content,this.componentRef.changeDetectorRef.detectChanges())}showTooltip(){if(!this.componentRef){const Ie=this.componentResolver.resolveComponentFactory(H);this.componentRef=Ie.create(this.injector),this.componentRef.instance.content=this.content,this.componentRef.changeDetectorRef.detectChanges()}const te=this.componentRef.location.nativeElement;te.dataset.position=this.position,te.parentNode||document.body.appendChild(te);const{top:j,bottom:B,left:re,width:se}=this.elRef.nativeElement.getBoundingClientRect(),Q=re+se/2-te.getBoundingClientRect().width/2,ge="above"===this.position?j-5-te.offsetHeight:B+5;te.style.transform=`translate3d(${Q}px, ${ge+fe[this.position]}px, 0)`,te.getBoundingClientRect(),te.dataset.state="visible",te.style.transform=`translate3d(${Q}px, ${ge}px, 0)`,this.cachedPosition=[Q,ge]}onLeave(){this.hideTooltip()}constructor(te,j,B){this.componentResolver=te,this.injector=j,this.elRef=B,this.position="below"}hideTooltip(){if(!this.componentRef)return;const te=this.componentRef.location.nativeElement;te.dataset.state="hidden";const[j,B]=this.cachedPosition;te.style.transform=`translate3d(${j}px, ${B+fe[this.position]}px, 0)`}ngOnDestroy(){if(this.componentRef){const te=this.componentRef.location.nativeElement;te.parentNode&&te.parentNode.removeChild(te),this.componentRef.destroy(),this.componentRef=null}}static{this.\u0275fac=function(j){return new(j||ne)(v.Y36(v._Vd),v.Y36(v.zs3),v.Y36(v.SBq))}}static{this.\u0275dir=v.lG2({type:ne,selectors:[["","ng-run-tooltip",""]],hostBindings:function(j,B){1&j&&v.NdJ("mouseenter",function(){return B.showTooltip()})("mouseleave",function(){return B.onLeave()})},inputs:{content:["ng-run-tooltip","content"],position:["ng-run-tooltip-position","position"]},features:[v.TTD]})}}return ne})(),H=(()=>{class ne{static{this.\u0275fac=function(j){return new(j||ne)}}static{this.\u0275cmp=v.Xpm({type:ne,selectors:[["ng-run-tooltip"]],inputs:{content:"content"},decls:2,vars:1,consts:[[1,"tooltip-content"]],template:function(j,B){1&j&&(v.TgZ(0,"div",0),v._uU(1),v.qZA()),2&j&&(v.xp6(1),v.Oqu(B.content))},styles:["[_nghost-%COMP%]{position:absolute;top:0;left:0;z-index:9999;transition:all cubic-bezier(.46,.1,.52,.98);pointer-events:none}.tooltip-content[_ngcontent-%COMP%]{background:hsla(0,0%,100%,.95);padding:5px 10px;color:#111;opacity:0;will-change:opacity;transition-delay:25ms;transition-duration:325ms;box-shadow:0 2px 10px #0003;overflow:hidden;border-radius:4px}[data-state=hidden][_nghost-%COMP%]{transition-duration:.275s}[data-state=visible][_nghost-%COMP%]{opacity:1;transition-duration:.35s}[data-state=visible][_nghost-%COMP%]   .tooltip-content[_ngcontent-%COMP%]{opacity:1;transition:opacity ease 325ms}"]})}}return ne})()},3481:(lt,be,O)=>{"use strict";O.d(be,{QO:()=>yt.Q,gq:()=>Ge,m8:()=>De});var v=O(6575),te=(O(5164),O(2476),O(4450),O(6865),O(4791),O(4665),O(6992),O(4532));let j=(()=>{class we{static{this.\u0275fac=function(nt){return new(nt||we)}}static{this.\u0275cmp=te.Xpm({type:we,selectors:[["ng-run-notification"]],hostVars:2,hostBindings:function(nt,ft){2&nt&&te.Tol(ft.type)},decls:1,vars:1,consts:[[3,"outerHTML"]],template:function(nt,ft){1&nt&&te._UZ(0,"div",0),2&nt&&te.Q6J("outerHTML",ft.message,te.oJD)},styles:[".notification-container{position:fixed;right:20px;bottom:20px;z-index:1}[_nghost-%COMP%]{transform:translate(100%);opacity:0;display:block;margin-top:10px;padding:22px 16px;color:#333;border-radius:3px;border-left:3px solid;box-shadow:0 15px 30px #0000001c,0 5px 15px #00000014;animation:_ngcontent-%COMP%_show .4s forwards;background:#fff}.success[_nghost-%COMP%]{border-color:#539a42}.error[_nghost-%COMP%]{border-color:#e01600}.info[_nghost-%COMP%]{position:fixed;bottom:70px;left:50%;font-size:1.2rem;padding:6px 26px;border-color:#369;margin-top:0;border:none;background:none;color:#fff;transform:translate(-50%,80%);animation:_ngcontent-%COMP%_fade .4s forwards;box-shadow:none}@keyframes _ngcontent-%COMP%_show{to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_fade{to{opacity:1;transform:translate(-50%)}}"]})}}return we})();O(8623),O(7554),O(6338);const ue=[v.ez];let De=(()=>{class we{static{this.\u0275fac=function(nt){return new(nt||we)}}static{this.\u0275mod=te.oAB({type:we})}static{this.\u0275inj=te.cJS({imports:[ue,v.ez]})}}return we})(),Ge=(()=>{class we{constructor(ht,nt){this.resolver=ht,this.injector=nt}notify(ht,nt=2e3){const ie=this.resolver.resolveComponentFactory(j).create(this.injector);ie.instance.message=ht.message,ie.instance.type=ht.type,ie.changeDetectorRef.detectChanges();const rt=ie.location.nativeElement;this.getContainer().appendChild(rt),setTimeout(()=>{ie.destroy(),rt.parentNode.removeChild(rt)},nt)}getContainer(){if(this.container)return this.container;const ht=document.createElement("div");return ht.className="notification-container",document.body.appendChild(ht),this.container=ht,ht}static{this.\u0275fac=function(nt){return new(nt||we)(te.LFG(te._Vd),te.LFG(te.zs3))}}static{this.\u0275prov=te.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"})}}return we})();var yt=O(2647)},8623:(lt,be,O)=>{"use strict";O.d(be,{Q:()=>he});var v=O(4532),u=O(6480);let he=(()=>{class fe{constructor(H){this.sanitizer=H}transform(H){return this.sanitizer.bypassSecurityTrustResourceUrl(H)}static{this.\u0275fac=function(ne){return new(ne||fe)(v.Y36(u.H7,16))}}static{this.\u0275pipe=v.Yjl({name:"safeUrl",type:fe,pure:!0})}}return fe})()},2647:(lt,be,O)=>{"use strict";O.d(be,{Q:()=>u});var v=O(4532);let u=(()=>{class he{constructor(oe,H){this.resolver=oe,this.injector=H,this.containers=new Map,this.componentRefs=new Map}registerContainer(oe,H){this.containers.set(oe,H)}putComponentToContainer(oe,H,ne={}){if(!this.containers.has(H))return;const ce=this.resolver.resolveComponentFactory(oe),te=this.containers.get(H).createComponent(ce,null,this.injector);for(const j in ne)ne.hasOwnProperty(j)&&(te.instance[j]=ne[j]);te.changeDetectorRef.detectChanges(),this.componentRefs.set(H,te)}destroyComponentFromContainer(oe){this.componentRefs.has(oe)&&(this.componentRefs.get(oe).destroy(),this.componentRefs.delete(oe))}static{this.\u0275fac=function(H){return new(H||he)(v.LFG(v._Vd),v.LFG(v.zs3))}}static{this.\u0275prov=v.Yz7({token:he,factory:he.\u0275fac,providedIn:"root"})}}return he})()},9649:(lt,be,O)=>{"use strict";O.d(be,{D9:()=>j,Ds:()=>ne,GW:()=>u,VG:()=>oe,ak:()=>fe,fF:()=>se,rg:()=>he});var v=O(1670);function u(ue,Q){const ge=window.location.href,Ie=new RegExp("([?&])"+ue+"=.*?(&|$)","i"),De=-1!==ge.indexOf("?")?"&":"?";return(ge.match(Ie)?ge.replace(Ie,"$1"+ue+"="+Q+"$2"):ge+De+ue+"="+Q).replace(window.location.origin,"")}function he(ue){const Q=window.location.href;let ge=Q.split("?"),Ie=Q;if(ge.length>=2){let De=encodeURIComponent(ue)+"=",Ge=ge[1].split(/[&;]/g);for(let yt=Ge.length;yt-- >0;)-1!==Ge[yt].lastIndexOf(De,0)&&Ge.splice(yt,1);Ie=ge[0]+(Ge.length>0?"?"+Ge.join("&"):"")}return Ie.replace(window.location.origin,"")}function fe(ue,Q){Q||(Q=window.location.href),ue=ue.replace(/[\[\]]/g,"\\$&");const Ie=new RegExp("[?&]"+ue+"(=([^&#]*)|&|#|$)").exec(Q);return Ie?Ie[2]?decodeURIComponent(Ie[2].replace(/\+/g," ")):"":null}function oe(ue){ue.toDate&&(ue=ue.toDate()),"object"!=typeof ue&&(ue=new Date(ue));const Q=Math.floor((new Date-ue)/1e3);let ge,Ie=Math.floor(Q/31536e3);return Ie>=1?ge="year":(Ie=Math.floor(Q/2592e3),Ie>=1?ge="month":(Ie=Math.floor(Q/86400),Ie>=1?ge="day":(Ie=Math.floor(Q/3600),Ie>=1?ge="hour":(Ie=Math.floor(Q/60),Ie>=1?ge="minute":(Ie=Q,ge="second"))))),(Ie>1||0===Ie)&&(ge+="s"),Ie<0&&(Ie=0),Ie+" "+ge+" ago"}function ne(ue=300){return(Q,ge,Ie)=>{let De=null;const Ge=Ie.value;function yt(...we){clearTimeout(De),De=setTimeout(()=>Ge.apply(this,we),ue)}return yt.cancel=()=>{clearTimeout(De)},Ie.value=yt,Ie}}function te(ue){return`0${ue.toString(16)}`.slice(-2)}function j(){return B.apply(this,arguments)}function B(){return(B=(0,v.Z)(function*(){const ue=new Uint8Array(10);return window.crypto.getRandomValues(ue),Array.from(ue,te).join("")})).apply(this,arguments)}let re=1;class se{constructor(Q){this.instance=Q,this.messageHandlers={},this.onMessage=({data:ge})=>{const[Ie,De]=ge.type?[ge.type,ge]:ge;Ie.toString().startsWith("worker_")&&this.messageHandlers[ge[1].type](ge[1].payload).then(yt=>{this.instance.postMessage([ge[0],yt])});const Ge=this.messageHandlers[Ie];Ge&&(Ge(De),Array.isArray(ge)&&delete this.messageHandlers[Ie])},Q.addEventListener("message",this.onMessage)}on(Q,ge){return this.messageHandlers[Q]=ge,this}postMessage(Q){const ge=re++,Ie=[ge,Q];return new Promise(De=>{this.messageHandlers[ge]=De,this.instance.postMessage(Ie)})}}},553:(lt,be,O)=>{"use strict";O.d(be,{N:()=>v});const v={production:!0,previewUrl:"https://ng-run-preview.firebaseapp.com/",hash:"9dab468ce20facb91f0bbc5c8624f053",API_URL:"https://apis.ng-run.com/v1/",socketUrl:"wss://apis.ng-run.com"}},6311:(lt,be,O)=>{"use strict";var v=O(6480),u=O(4532),he=O(7197),fe=O(755),oe=O(5032),H=O(1136),ne=O(6828),ce=O(304);let te=(()=>{class ${constructor(g){this.auth=g}canActivate(g,y){return this.auth.authenticated$}static{this.\u0275fac=function(y){return new(y||$)(u.LFG(ce.e))}}static{this.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})(),j=(()=>{class ${static{this.\u0275fac=function(y){return new(y||$)}}static{this.\u0275mod=u.oAB({type:$})}static{this.\u0275inj=u.cJS({imports:[ne.Bz.forRoot([{path:"about",loadChildren:()=>O.e(539).then(O.bind(O,4539)).then(g=>g.AboutModule)},{path:"lessons",loadChildren:()=>O.e(873).then(O.bind(O,2873)).then(g=>g.LessonsModule),canActivate:[te]}],{}),ne.Bz]})}}return $})();var B=O(3481),re=O(462),se=O(3117),ue=O(8159),Q=O(5142);class Ie{constructor(ye){this.total=ye}call(ye,g){return g.subscribe(new De(ye,this.total))}}class De extends Q.L{constructor(ye,g){super(ye),this.total=g,this.count=0}_next(ye){++this.count>this.total&&this.destination.next(ye)}}var Ge=O(3303),yt=O(106),we=O(2470),wt=O(4450),ht=O(3190),nt=O(553),ft=O(9649),ie=O(4773),rt=O.n(ie);let He;var pt=O(4225),Nn=O(6939);const Tn=["rxjs/operators","rxjs/ajax","@angular/common/http"];let Wt=(()=>{class ${constructor(g){this.projectStore=g,this.exports={},this.extraLibs={},this.imports={},this.templatePositions={},this.models=new Map,this.filesAdded$=new se.xQ,this.vendorsLoaded$=new se.xQ,(0,ue.aj)([this.filesAdded$,this.vendorsLoaded$]).pipe((0,Nn.q)(1)).subscribe(()=>{this.enableValidation()})}enableValidation(){window.setTimeout(()=>{monaco.languages.typescript.typescriptDefaults.setDiagnosticsOptions({noSemanticValidation:!1,noSyntaxValidation:!1})})}openFile(g,y){if(!g)return;this.has(y)||this.addModel(y,this.projectStore.state.files[y].contents);const D=this.getModel(y);D.setValue(D.getValue()),D.updateOptions({tabSize:2,insertSpaces:!0}),$n(D),g.setModel(D)}addFiles(g){Object.keys(g).forEach(y=>{g[y].type!==we.Wz.File||this.models.has(y)||this.addModel(y,g[y].contents)}),this.filesAdded$.next()}loadVendors(g){let y=Object.keys(this.isExtraLibsEmpty()?g.vendors:g.newVendors||g.vendors).filter(D=>D.endsWith(".d.ts")||D.endsWith("package.json")||D.endsWith(".metadata.json")).map(D=>{const N=D.replace("https://unpkg.com/",""),X=N.lastIndexOf("@");return{path:"node_modules/"+(X>0?N.substr(0,X)+N.substr(N.indexOf("/",X)):N),content:g.vendors[D].contents}});g.newVendors||(y=y.concat(Object.keys(g.dependencies).map(D=>{const N=g.dependencies[D];return{path:`node_modules/${D}/package.json`,content:`{"name":"${D}","version":"${N.version}"${N.hasOwnProperty("types")?',"types":"'+N.types+'"':""}${N.hasOwnProperty("typings")?',"typings":"'+N.typings+'"':""}}`}}))),y.forEach(D=>{this.addExtraLib(D.path,monaco.languages.typescript.typescriptDefaults.addExtraLib(D.content,D.path))}),[...Object.keys(g.dependencies),...Tn].forEach(D=>{monaco.languages.typescript.typescriptDefaults.addExtraLib(function xe($){return`import {  } from "${$}"`}(D),"zuz_/"+D)}),this.vendorsLoaded$.next(),setTimeout(()=>{this.loadSuggestions()},0)}loadSuggestions(){const g=[...Object.keys(this.projectStore.state.dependencies),...Tn];monaco.languages.typescript.getTypeScriptWorker().then(y=>{y("").then(D=>{g.slice().forEach(N=>{this.exports[N]||D.getCompletionsAtPosition("zuz_/"+N,9).then(X=>{X&&X.entries&&(this.exports[N]={type:"global",set:X.entries.filter(_e=>0!==_e.name.indexOf("\u0275")).map(_e=>_e.name)}),g.shift()})})})})}has(g){return this.models.has(g)}getModel(g){return this.models.get(g)}addModel(g,y){if(this.models.has(g))return;const D=monaco.editor.createModel(y,void 0,monaco.Uri.parse("ng:src/"+g,!0));$n(D),this.models.set(g,D)}updateModel(g,y){if(this.models.has(g)){const D=this.models.get(g);D.getValue()!==y&&(D.setValue(y),$n(D))}}_clearModelFor(g){const y=this.models.get(g);y&&(y.dispose(),this.models.delete(g),delete this.exports[g],delete this.imports[g],delete this.templatePositions[g],this.models.forEach(D=>{D.setValue(D.getValue()),$n(D)}))}clearExportsFor(g){delete this.exports[g]}isExtraLibsEmpty(){return 0===Object.keys(this.extraLibs).length}addExtraLib(g,y){this.extraLibs[g]=y}disposeExtraLibsForPackage(g){Object.keys(this.extraLibs).forEach(y=>{y.startsWith(`node_modules/${g}`)&&(this.extraLibs[y].dispose(),delete this.extraLibs[y])})}deleteSolutionItem(g){g.type===we.Wz.File&&this._clearModelFor(g.fullPath)}static{this.\u0275fac=function(y){return new(y||$)(u.LFG(we.Uf))}}static{this.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})();function $n($){$.setEOL(monaco.editor.EndOfLineSequence.LF)}let Ne=(()=>{class ${constructor(g,y,D){this.projectStore=g,this.monacoStore=y,this.playgroundStore=D,this.errorInfo$=new re.X({}),this.passed$=new se.xQ,this.confirmInstallState$=new re.X(null),this.installState$=new re.X(null),this.bundleSuccess$=new re.X(!1),this.inspect$=new se.xQ,this.decoratorsUpdated$=new re.X(!1),this.wasLexerError=!1,this.previewLoaded=new Promise(N=>{this.resolvePreviewLoaded=N}),this.changesTimeout={},this.files={},this.toUnresolvedModules=N=>{const X=this.projectStore.state.files[N.file];if(X)return X.contents.slice(N.startPos+1,N.endPos-1)},this.worker=new ft.fF(new Worker(`/${nt.N.hash?nt.N.hash+".":""}app.worker.js`)),this.worker.on("WORKER_CONNECTED",()=>{this.projectStore.projectLoaded$.subscribe(()=>{this.updateDecorators(this.projectStore.state.files),this.worker.postMessage({type:"START",payload:{...this.projectStore.state,testMode:this.playgroundStore.state.testMode,aot:!!this.projectStore.state.aot&&this.projectStore.getAotVersion()}})})}).on("PASSED",N=>{this.previewLoaded.then(()=>{this.confirmInstallState$.next(null);const X=N.payload.project,_e=this.projectStore.state.aot;N.payload.updated&&(this.projectStore.updateDeps(X.dependencies),ke({type:"UPDATE",payload:N.payload}),setTimeout(()=>{this.installState$.next(null)},500),this.bundleSuccess$.next(X),_e&&monaco.languages.typescript.typescriptDefaults.refresh()),_e?this.initPassed?N.payload.refreshed&&(this.files&&(X.files=this.files),setTimeout(()=>{this.runIvyAOT({},X)})):(0,pt.em)().then(()=>{this.bundleSuccess$.next(X),setTimeout(()=>{this.runIvyAOT({},X)})}):N.payload.diff?ke({type:"DIFF",payload:N.payload.diff}):N.payload.updated||(ke({type:"START",payload:{...X,aot:_e}}),this.bundleSuccess$.next(X)),this.passed$.next(),this.initPassed||(this.initPassed=!0)})}).on("FAILED",N=>{if(this.initPassed||this.monacoStore.enableValidation(),this.installState$.next(null),this.confirmInstallState$.next(null),N.payload.type&&"glob"===N.payload.type){const X=Oe(N.payload.sources);if(!this.initPassed||this.confirmInstall(X))return void this.install(X)}this.errorInfo$.next(N.payload),ke({type:"FAILED",payload:N.payload})}).on("COMPILE_SASS",N=>N?function Et($){return function mt(){return He||(He=new Promise($=>{fetch("https://cdnjs.cloudflare.com/ajax/libs/sass.js/0.10.6/sass.worker.min.js").then(ye=>ye.text()).then(ye=>{const g=new Blob([ye],{type:"text/javascript"});$(new(rt())(window.URL.createObjectURL(g)))})})),He}().then(ye=>new Promise((g,y)=>{ye.compile($,D=>{D.formatted?y(D.formatted):g(D.text)})}))}(N).catch(X=>{ke({type:"FAILED",payload:{message:X,file:""}})}):Promise.resolve("")),this.bundleSuccess$.subscribe(N=>{N&&this.monacoStore.loadVendors(N)}),this.handleWindowMessages()}handleWindowMessages(){(0,ht.R)(window,"message").subscribe(g=>{if(g.data)switch(g.data.type){case"PREVIEW_ERROR":this.errorInfo$.next(g.data.data);break;case"REFRESH":this.files=g.data.data;break;case"FAILED":{const y=g.data.data;if("rel"===y.type){this.errorInfo$.next(y),ke({type:"FAILED",payload:y});break}const D=Oe(y.sources);this.confirmInstall(D);break}case"PREVIEW_CONNECTED":this.initPassed&&this.post({type:"REFRESH",payload:{...this.projectStore.state,testMode:this.playgroundStore.state.testMode}}),this.resolvePreviewLoaded();break;case"URL_CHANGED":this.playgroundStore.changePreviewUrl(g.data.payload);break;case"OPEN_FILE":{let N,{filePath:y,offset:D}=g.data.payload;if(y.includes("@")){const[X,_e]=y.split("@");y=X;const[Fe,qe]=_e.split(":"),Ke=parseInt(Fe,10),St=parseInt(qe,10)+1;N=new monaco.Position(Ke,St)}this.inspect$.next({filePath:y,offset:D,position:N});break}}})}updateDecorators(g){this.worker.postMessage({type:"PARSE",payload:{files:g}}).then(y=>{this.decoratorsUpdated$.next(y);const{exports:D,imports:N,templatePositions:X}=y;Object.keys(D).forEach(_e=>{this.monacoStore.exports[_e]={type:"local",set:D[_e]}}),Object.keys(N).forEach(_e=>{this.monacoStore.imports[_e]=N[_e]}),Object.keys(X).forEach(_e=>{this.monacoStore.templatePositions[_e]=X[_e]})})}detectChanges(g,y){const D=this.projectStore.state,N=D.files;if(!N[g]||N[g].contents===y)return;if(this.setErrors({}),N[g].contents=y,this.projectStore.setDirty(),g.endsWith(".ts")&&this.updateDecorators({[g]:N[g]}),"save"===this.playgroundStore.state.reloadMode)return void(this.projectStore.state.files[g].dirty||this.projectStore.setDirtyOnFiles(!0,[g]));const X={fullPath:g,contents:y,lastModified:Date.now()},_e={add:{[g]:X},remove:[]};this.changesTimeout[g]&&clearTimeout(this.changesTimeout[g]),this.changesTimeout[g]=setTimeout(()=>{this.change(_e,D),delete this.changesTimeout[g]},500)}change(g,y=this.projectStore.state){if(this.installState$.value)return;const D={type:this.initPassed?"MERGE":"START",payload:this.initPassed?g:y};this.projectStore.state.aot?this.runIvyAOT(D):this.post(D)}post(g){this.worker.postMessage(g)}setErrors(g){this.errorInfo$.next(g)}confirmInstall(g){this.installState$.next(null),this.confirmInstallState$.next(g)}install(g){this.installState$.next(g),this.confirmInstallState$.next(null),this.worker.postMessage({type:"INSTALL",payload:{packages:g,aotEnabled:!!this.projectStore.state.aot&&this.projectStore.getAotVersion()}})}runIvyAOT(g,y){let D;this.setErrors({}),nt.N.production||(D=performance.now(),console.log("AOT started"));const N=this.projectStore.getAotVersion();this.confirmInstallState$.next(null),monaco.languages.typescript.getAotWorker(this.projectStore.getAotVersion()).then(X=>{ke({type:"COMPILE_START"}),X("").then(_e=>{this.wasLexerError&&(this.wasLexerError=!1,Object.keys(this.projectStore.state.files).forEach(Fe=>{Fe.endsWith(".ts")&&(g.payload.add[Fe]=this.projectStore.state.files[Fe])})),_e.ivy(g,N).then(Fe=>{if(y)Object.keys(Fe.output).forEach(qe=>{const Ke=qe.slice(4);y.files[Ke]||(y.files[Ke]={fullPath:Ke}),y.files[Ke].contents=Fe.output[qe]}),ke({type:"START",payload:{...y,aot:N,failed:!!Fe.diagnostics}});else if(!Fe.diagnostics){const qe={add:{},remove:[]};Object.keys(Fe.output).forEach(Ke=>{qe.add[Ke.slice(4)]={fullPath:Ke.slice(4),contents:Fe.output[Ke]}}),"MERGE"===g.type&&Object.keys(g.payload.add||{}).forEach(Ke=>{Ke.endsWith(".css")&&(qe.add[Ke]=g.payload.add[Ke])}),ke({type:"DIFF",payload:qe})}if(Fe.diagnostics&&(Fe.ngtscDiagnostics.length&&(this.wasLexerError=Fe.ngtscDiagnostics.some(qe=>qe.message.includes("Lexer Error"))),ke({type:"FAILED",payload:{message:Fe.diagnostics}})),Fe.ngtscDiagnostics&&Fe.ngtscDiagnostics.length){const qe=Fe.ngtscDiagnostics[0],Ke=Fe.ngtscDiagnostics.filter(({code:St,category:qt})=>2307===St&&1===qt).map(this.toUnresolvedModules).filter(Boolean);if(Ke.length){const St=Oe(Ke);(!this.initPassed||this.confirmInstall(St))&&this.install(St)}else this.errorInfo$.next(qe)}if(!nt.N.production){const qe=performance.now();console.log("Ivy:AOT",qe-D)}})})})}doSave(){if("edit"===this.playgroundStore.state.reloadMode)return;const{files:g}=this.projectStore.state,y=Object.keys(g).filter(N=>g[N].dirty),D={add:{},remove:[]};y.forEach(N=>{const X=g[N];D.add[X.fullPath]={fullPath:X.fullPath,contents:X.contents,lastModified:Date.now()}}),this.projectStore.setDirtyOnFiles(!1),this.change(D,this.projectStore.state)}static{this.\u0275fac=function(y){return new(y||$)(u.LFG(we.Uf),u.LFG(Wt),u.LFG(we.$m))}}static{this.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})();function ke($){preview.postMessage($,"*")}function Oe($){return $.map(ye=>function We($){if($.startsWith("@")){const[ye,g]=$.split("/");return ye+(g?"/"+g:"")}if($.startsWith("."))return $;{const ye=$.indexOf("/");return $.substring(0,ye>0?ye:$.length)}}(ye)).filter(it)}function it($,ye,g){return g.indexOf($)===ye}var ot=O(6575),en=O(6865),In=O(6338),kt=O(1670),gn=O(2321),Zt=O(9718),vt=O(7422),At=O(5046);let un=(()=>{class ${get roomId(){return this.roomId$.value}set roomId(g){this.roomId$.next(g)}get isConnected(){return this.roomId&&this.liveManager&&this.liveManager.isConnected}get isApplyingOperation(){return this.liveManager&&this.liveManager.isApplyingOperation}constructor(g,y,D,N,X,_e){this.authService=g,this.location=y,this.projectStore=D,this.monacoStore=N,this.editorWorker=X,this.notificationService=_e,this.roomId$=new re.X((0,ft.ak)("live")),this.room$=new re.X(null),this.activeEditor$=new re.X(null),this._listeners=Object.create(null),g.authState$.subscribe(Fe=>{this.roomId&&(Fe?this.activeEditor$.pipe((0,At.h)(Boolean)).pipe((0,Nn.q)(1)).subscribe(()=>{this.getLiveManager().then(qe=>{qe.connect(Fe,this.roomId).then()})}):this.isConnected?this.liveManager.disconnect():this.notificationService.notify({type:"error",message:"You can't access this session. Please sign in"},1e4))}),this.listenToModelChanges().then()}detectChangeCursor(g,y,D){this.isConnected&&this.liveManager.detectChangeCursor(g,y,D)}listenToModelChanges(){var g=this;return(0,kt.Z)(function*(){yield(0,pt.em)(),monaco.editor.onDidCreateModel(y=>{const D=y.uri.path.substring(4);g.isConnected&&g.projectStore.state&&!Object.keys(g.projectStore.state.files).includes(D)&&g.liveManager.send("addModel",g.roomId,{path:D,contents:y.getValue()}),g._listeners[y.uri.toString()]=y.onDidChangeContent(N=>{if(g.isApplyingOperation)return;const X=y.getValue(),_e=g.projectStore.state.files[D];g.isConnected&&_e&&_e.contents!==X&&g.liveManager.sendChangeOperations(N,_e),_e&&_e.contents!==X&&g.editorWorker.detectChanges(D,X)})}),monaco.editor.onWillDisposeModel(y=>{const D=y.uri.path.substring(4);g.isConnected&&g.liveManager.send("removeItem",g.roomId,{path:D,type:"file"});let N=y.uri.toString(),X=g._listeners[N];X&&(X.dispose(),delete g._listeners[N])})})()}getLiveManager(){return this.liveManagerPromise$||(this.liveManagerPromise$=O.e(8).then(O.bind(O,9542)).then(g=>(this.liveManager=new g.LiveSessionManager(this.location,this.projectStore,this.monacoStore,this.editorWorker,this.notificationService,this.activeEditor$,this.room$,this.roomId$),this.liveManager))),this.liveManagerPromise$}toggleLive(){var g=this;return(0,kt.Z)(function*(){g.roomId=g.roomId?null:yield(0,ft.D9)(),document.body.classList.toggle("live-enabled",!!g.roomId),g.location.replaceState((0,ft.GW)("live",g.roomId)),g.getLiveManager().then(y=>{g.roomId?(g.projectStore.save(!1).then(),y.connect(g.authService.user,g.roomId,!0).then()):y.disconnect()})})()}gotoUser(g){this.isConnected&&this.liveManager.gotoUser(g)}static{this.\u0275fac=function(y){return new(y||$)(u.LFG(ce.e),u.LFG(ot.Ye),u.LFG(we.Uf),u.LFG(Wt),u.LFG(Ne),u.LFG(B.gq))}}static{this.\u0275prov=u.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"})}}return $})();var zt=O(5164),er=O(2476),Ar=O(6992),tr=O(7554);function ei($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",18),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.setCurrentFile())}),u.ALo(1,"async"),u.ALo(2,"async"),u._uU(3),u.qZA()}if(2&$){const g=u.oxw();u.ekj("editor-tab-title--active",u.lcZ(1,5,g.selectedFile$)===g.openedFile)("editor-tab-title--dirty",u.lcZ(2,7,g.isDirty$)),u.xp6(3),u.hij(" ",g.openedFile," ")}}function Pr($,ye){1&$&&(u.ynx(0),u.TgZ(1,"div",8)(2,"b"),u._uU(3,"Emmet"),u.qZA(),u._uU(4," is enabled."),u.qZA(),u.TgZ(5,"div",19)(6,"b"),u._uU(7,"Angular language service"),u.qZA(),u._uU(8," is enabled."),u.qZA(),u.BQk())}function Wn($,ye){1&$&&(u.TgZ(0,"div",8)(1,"b"),u._uU(2,"F2"),u.qZA(),u._uU(3," - Next highlighted error"),u.qZA(),u.TgZ(4,"div",8)(5,"b"),u._uU(6,"Alt + Enter"),u.qZA(),u._uU(7," - Auto-import current symbol"),u.qZA(),u.TgZ(8,"div",8)(9,"b"),u._uU(10,"Ctrl + Alt + C"),u.qZA(),u._uU(11," - console.log($0)"),u.qZA())}let pr=(()=>{class ${constructor(g,y){this.projectStore=g,this.playgroundStore=y,this.formatCodeClicked=new u.vpe,this.isScreenShotMode$=this.playgroundStore.screenShotMode$.pipe((0,vt.U)(D=>this.mode&&D===this.mode)),this.selectedFile$=this.projectStore.select(D=>D.selectedFile),this.isDirty$=this.projectStore.select(D=>D.files[this.openedFile]&&D.files[this.openedFile].dirty),this.prettierConfig$=this.playgroundStore.prettierConfig$}setCurrentFile(){this.projectStore.state.selectedFile!==this.openedFile&&this.projectStore.selectFile(this.openedFile)}makeScreenShot(){this.playgroundStore.toggleScreenShotMode(this.mode)}formatCode(){this.formatCodeClicked.emit()}updatePrettierConfig(g){this.playgroundStore.updatePrettierConfig(g)}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf),u.Y36(we.$m))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-editor-header"]],inputs:{openedFile:"openedFile",mode:"mode"},outputs:{formatCodeClicked:"formatCodeClicked"},decls:38,vars:13,consts:[[1,"editor-header","flex-y-center"],["class","editor-tab-title",3,"editor-tab-title--active","editor-tab-title--dirty","click",4,"ngIf"],[1,"editor-actions","ml-auto"],["ng-run-tooltip","Toggle screenshot mode",1,"editor-action","editor-action-screenshot",3,"click"],["width","30","height","30",1,"icon-screenshot"],[0,"xlink","href","#icon-screenshot"],[1,"ml-2",3,"showArrow"],["menuTrigger",""],[1,"editor-action-option"],[4,"ngIf","ngIfElse"],["tips",""],["title","Shift-Alt-F",1,"editor-action",3,"click"],["width","30",1,"icon-format"],[0,"xlink","href","#icon-format"],["align","right",1,"ml-2"],["width","16","height","16",1,"icon-settings"],[0,"xlink","href","#icon-settings"],[1,"prettier-config",3,"value","input"],[1,"editor-tab-title",3,"click"],[1,"editor-action-option","editor-action-option--new"]],template:function(y,D){if(1&y&&(u.TgZ(0,"div",0),u.YNc(1,ei,4,9,"div",1),u.TgZ(2,"div",2)(3,"div",3),u.NdJ("click",function(){return D.makeScreenShot()}),u.ALo(4,"async"),u.O4$(),u.TgZ(5,"svg",4),u._UZ(6,"use",5),u.qZA()(),u.kcU(),u.TgZ(7,"ng-run-dropdown-menu",6),u.ynx(8,7),u._uU(9,"Tips"),u.BQk(),u.ynx(10),u.TgZ(11,"div",8)(12,"b"),u._uU(13,"Alt + Shift + F"),u.qZA(),u._uU(14," - Auto-format"),u.qZA(),u.TgZ(15,"div",8)(16,"b"),u._uU(17,"Ctrl + Alt + Shift + P"),u.qZA(),u._uU(18," - Prettier format"),u.qZA(),u.YNc(19,Pr,9,0,"ng-container",9),u.YNc(20,Wn,12,0,"ng-template",null,10,u.W1O),u.TgZ(22,"div",8)(23,"b"),u._uU(24,"Ctrl + P"),u.qZA(),u._uU(25," - Quick open recent files"),u.qZA(),u.BQk(),u.qZA(),u.TgZ(26,"div",11),u.NdJ("click",function(){return D.formatCode()}),u.O4$(),u.TgZ(27,"svg",12),u._UZ(28,"use",13),u.qZA(),u._uU(29," Format "),u.qZA(),u.kcU(),u.TgZ(30,"ng-run-dropdown-menu",14),u.ynx(31,7),u.O4$(),u.TgZ(32,"svg",15),u._UZ(33,"use",16),u.qZA(),u._uU(34,"\xa0 .prettierrc "),u.BQk(),u.kcU(),u.TgZ(35,"textarea",17),u.NdJ("input",function(X){return D.updatePrettierConfig(X.target.value)}),u.ALo(36,"json"),u.ALo(37,"async"),u.qZA()()()()),2&y){const N=u.MAs(21);u.xp6(1),u.Q6J("ngIf",D.openedFile),u.xp6(2),u.ekj("editor-action-screenshot--enabled",u.lcZ(4,7,D.isScreenShotMode$)),u.xp6(4),u.Q6J("showArrow",!0),u.xp6(12),u.Q6J("ngIf","html"===D.mode)("ngIfElse",N),u.xp6(16),u.Q6J("value",u.lcZ(36,9,u.lcZ(37,11,D.prettierConfig$)))}},dependencies:[ot.O5,zt.N,tr.i,ot.Ov,ot.Ts],styles:['@charset "UTF-8";.editor-header[_ngcontent-%COMP%]{height:40px;background:var(--box-header-bg)}.editor-tab-title[_ngcontent-%COMP%]{position:relative;padding:0 22px 0 15px;line-height:40px;cursor:pointer;font-size:13px;-webkit-user-select:none;user-select:none;white-space:nowrap;background:var(--tab-bg);color:var(--tab-color)}.editor-tab-title--active[_ngcontent-%COMP%]{box-shadow:inset 0 -1px 0 var(--tab-color)}.editor-tab-title--dirty[_ngcontent-%COMP%]:after{content:"\\25cf";position:absolute;top:50%;right:9px;transform:translateY(-50%)}.editor-actions[_ngcontent-%COMP%]{display:flex;padding:0 10px;height:100%;line-height:40px;flex-shrink:0}.editor-action[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;margin-left:10px}.editor-action[_ngcontent-%COMP%]:hover{color:var(--editor-action-hovered-color)}.icon-format[_ngcontent-%COMP%]{stroke:var(--editor-action-color)}.editor-action[_ngcontent-%COMP%]:hover   .icon-format[_ngcontent-%COMP%]{stroke:var(--editor-action-hovered-color)}.icon-screenshot[_ngcontent-%COMP%]{fill:var(--editor-action-color)}.editor-action[_ngcontent-%COMP%]:hover   .icon-screenshot[_ngcontent-%COMP%]{fill:var(--editor-action-hovered-color)}.prettier-config[_ngcontent-%COMP%]{width:190px;height:135px;resize:none;border:none;margin:15px 15px 0;outline:none}.editor-action-option[_ngcontent-%COMP%]{position:relative;font-size:13px;white-space:nowrap;padding:0 10px}.editor-action-option--new[_ngcontent-%COMP%]:before{content:"New";position:absolute;right:2px;top:-5px;background:#539a42;color:#fff;padding:0 3px;line-height:18px;font-size:10px;border-radius:5px}.editor-action-screenshot[_ngcontent-%COMP%]{display:flex;align-items:center;width:36px;height:100%;justify-content:center}.editor-action-screenshot--enabled[_ngcontent-%COMP%]{background:#565d61}.editor-action-screenshot--enabled[_ngcontent-%COMP%]   .icon-screenshot[_ngcontent-%COMP%], .editor-action-screenshot--enabled[_ngcontent-%COMP%]:hover   .icon-screenshot[_ngcontent-%COMP%]{fill:#fff!important}.icon-format[_ngcontent-%COMP%], .icon-screenshot[_ngcontent-%COMP%]{width:18px;height:18px;margin-right:5px}.icon-screenshot[_ngcontent-%COMP%]{margin-right:0}.icon-settings[_ngcontent-%COMP%]{fill:var(--color)}'],changeDetection:0})}}return $})();const Ye=["editorTarget"],Te=["editorBody"];function ze($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"ng-run-editor-header",21),u.NdJ("formatCodeClicked",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.formatCode())}),u.ALo(1,"async"),u.qZA()}if(2&$){const g=u.oxw(2);u.Q6J("openedFile",u.lcZ(1,2,g.openedFile$))("mode",g.mode)}}function et($,ye){1&$&&u._UZ(0,"ng-run-loading")}function gt($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"li",15)(1,"label",17)(2,"input",22),u.NdJ("change",function(D){const X=u.CHM(g).$implicit,_e=u.oxw(2);return X.checked=D.target.checked,u.KtG(_e.updateCompilerOptions())}),u.qZA(),u._uU(3),u.qZA()()}if(2&$){const g=ye.$implicit;u.xp6(2),u.Q6J("checked",g.checked),u.xp6(1),u.hij(" ",g.key," ")}}function nn($,ye){if(1&$){const g=u.EpF();u.ynx(0),u.YNc(1,ze,2,4,"ng-run-editor-header",1),u.TgZ(2,"div",2,3),u.YNc(4,et,1,0,"ng-run-loading",0),u.ALo(5,"async"),u._UZ(6,"div",4,5),u.qZA(),u.TgZ(8,"div",6),u._UZ(9,"div",7),u.TgZ(10,"div",8)(11,"div"),u._uU(12,"Typescript"),u.qZA(),u.TgZ(13,"div",9),u._uU(14,"4.0.5"),u.qZA(),u.TgZ(15,"ng-run-dropdown-menu",10,11),u.ynx(17,12),u._uU(18,"tsconfig.json "),u._UZ(19,"ng-run-icon",13),u.BQk(),u.TgZ(20,"div",14)(21,"div",15)(22,"b"),u._uU(23,"Compiler options"),u.qZA()(),u.TgZ(24,"ul"),u.YNc(25,gt,4,2,"li",16),u.ALo(26,"async"),u.TgZ(27,"li",15)(28,"label",17)(29,"b"),u._uU(30,"Target"),u.qZA(),u.TgZ(31,"select",18),u.NdJ("change",function(D){u.CHM(g);const N=u.MAs(16);return u.oxw().setTarget(D),u.KtG(N.close())}),u.ALo(32,"async"),u.TgZ(33,"option",19),u._uU(34,"es5"),u.qZA(),u.TgZ(35,"option",20),u._uU(36,"es2015"),u.qZA()()()()()()()()(),u.BQk()}if(2&$){const g=ye.ngIf,y=u.oxw();u.xp6(1),u.Q6J("ngIf",g.projectLoaded),u.xp6(3),u.Q6J("ngIf",u.lcZ(5,4,y.loading$)||!g.projectLoaded),u.xp6(21),u.Q6J("ngForOf",u.lcZ(26,6,y.compilerOptions$)),u.xp6(6),u.Q6J("value",u.lcZ(32,8,y.target$))}}const yn=function($){return{projectLoaded:$}},Ln="app/app.component.html",vn="app/app.component.ts";class mn{constructor(ye,g,y,D,N,X,_e,Fe){this.elRef=ye,this.route=g,this.projectStore=y,this.playgroundStore=D,this.monacoStore=N,this.editorWorker=X,this.liveService=_e,this.injector=Fe,this.cursorPositions={},this.decorationsCache={},this.projectLoaded$=this.projectStore.projectLoaded$,this.target$=this.projectStore.target$,this.openedFile$=this.projectStore.select(qe=>qe.selectedFile).pipe((0,vt.U)(qe=>{const Ke=qe.endsWith(".html"),St=this.projectStore.state;return this.isHtml&&!Ke?qe=this.openedFile||(St.files[Ln]?Ln:St.manifest.indexHtml):!this.isHtml&&Ke&&(qe=this.openedFile||(St.files[vn]?vn:St.manifest.entry)),St.files[qe]||(qe=this.isHtml?St.manifest.indexHtml:St.manifest.entry),qe}),(0,yt.b)(qe=>{if(this.openedFile===qe)return this.cursorPositions[qe]=this.editor&&this.editor.getPosition(),void(this.projectStore.state.selectedFile===qe&&this.focus(qe));this.openFile(qe),this.refreshDecorators()})),this.loading$=new re.X(!0),this.compilerOptions$=new re.X([])}ngOnInit(){var ye=this;return(0,kt.Z)(function*(){ye.isHtml="html"===ye.mode,yield(0,pt.em)(),ye.initEditor()})()}formatCode(){this.editor.getAction("editor.action.formatDocument").run()}refreshDecorators(){if(!this.editor||!this.projectStore.state||this.projectStore.state.selectedFile!==this.openedFile)return;const ye=this.openedFile,g=this.editor.getModel(),y=g.getModeId();if(!["typescript","html"].includes(y))return;const D=this.decorationsCache.hasOwnProperty(ye)?this.decorationsCache[ye]:[];this.decorations=this.editor.deltaDecorations(this.decorations?this.decorations:[],D);const N=this.editorWorker.errorInfo$.getValue();if(!N||N.file&&N.file!==this.openedFile)return void monaco.editor.setModelMarkers(g,null,[]);let X;if(N.startPos){const qe=g.getPositionAt(N.startPos),Ke=g.getPositionAt(N.endPos);X=qe.lineNumber,N.start={line:qe.lineNumber,ch:qe.column},N.end={line:Ke.lineNumber,ch:Ke.column}}else X=N.line;const _e=void 0!==X?[{range:new monaco.Range(X,1,X,1),options:{isWholeLine:!0,glyphMarginClassName:"errored-line",glyphMarginHoverMessage:{value:N.message},hoverMessage:{value:N.message}}}]:[];let Fe=[];if(N.start&&N.end){const{start:qe,end:Ke}=N;qe.ch===Ke.ch&&qe.line===Ke.line&&Ke.ch++,Fe=[{severity:monaco.MarkerSeverity.Error,startLineNumber:qe.line,startColumn:qe.ch,endLineNumber:Ke.line,endColumn:Ke.ch,message:N.message}]}monaco.editor.setModelMarkers(g,null,Fe),this.decorations=this.editor.deltaDecorations(this.decorations,D.concat(_e))}initEditor(){const{theme:ye}=this.playgroundStore.state;this.editor=monaco.editor.create(this.editorTarget.nativeElement,{theme:["light","vstudio"].includes(ye)?"vs-light":"vs-dark",minimap:{enabled:!1},wordWrapColumn:0,wordWrap:"on",dragAndDrop:!1,glyphMargin:!0,fixedOverflowWidgets:!0,trimAutoWhitespace:!1}),this.handleEvents()}handleEvents(){this.enableAutoResize(),this.projectStore.projectLoaded$.subscribe(()=>{const{compilerOptions:ye,files:g}=this.projectStore.state;ye&&(0,pt.xy)(ye),this.compilerOptions$.next(["strict","noImplicitAny","noImplicitThis","noImplicitReturns","alwaysStrict","strictBindCallApply","strictNullChecks","strictFunctionTypes","strictPropertyInitialization"].map(y=>({key:y,checked:ye&&!!ye[y]}))),this.monacoStore.addFiles(g),this.openFile(this.openedFile),this.enablePlugins()}),"typescript"===this.mode?this.editorWorker.decoratorsUpdated$.subscribe(ye=>{if(!ye)return;const{decorators:g}=ye;Object.keys(g).forEach(y=>{this.decorationsCache[y]=g[y]}),Object.keys(g).indexOf(this.openedFile)>-1&&this.refreshDecorators(),this.loading$.value&&this.loading$.next(!1)}):this.loading$.next(!1),(0,Zt.T)(this.editorWorker.passed$,this.editorWorker.errorInfo$).subscribe(()=>this.refreshDecorators()),this.editorWorker.inspect$.subscribe(ye=>this.inspect(ye)),this.playgroundStore.screenShotMode$.pipe((0,At.h)(ye=>ye===this.mode)).subscribe(()=>this.prepareScreenShot()),this.editor.onDidChangeCursorSelection(ye=>{this.playgroundStore.state.screenShotMode?this.prepareScreenShot(ye.selection):this.liveService.detectChangeCursor(this.editor,ye,this.openedFile)})}enablePlugins(){const ye=["emmet"];this.projectStore.state.vimMode&&ye.push("vim"),(this.projectStore.state.record||this.route.snapshot.params?.lessonId)&&ye.push("recording");for(const y of ye)O(3425)(`./${y}/${y}.plugin`).then(({plugIn:D})=>{D(this.editor,this)});const g=["go-to-definition","prettier"];"typescript"===this.mode&&g.push("auto-import","macros","go-to-error","path-completion");for(const y of g){const{plugIn:D}=O(8107)(`./${y}/${y}.plugin`);D(this.editor,this)}}enableAutoResize(){new ResizeObserver(()=>{requestAnimationFrame(()=>this.editor.layout())}).observe(this.editorTarget.nativeElement)}openFile(ye){this.openedFile&&(this.cursorPositions[this.openedFile]=this.editor&&this.editor.getPosition()),this.openedFile=ye,this.monacoStore.openFile(this.editor,ye),this.projectStore.state.selectedFile===ye&&this.focus(ye)}focus(ye){this.editor&&(this.liveService.activeEditor$.next(this.editor),this.refreshDecorators(),setTimeout(()=>{const g=this.cursorPositions[ye];this.editor.focus(),g&&this.editor.setPosition(g),this.liveService.detectChangeCursor(this.editor,{selection:this.editor.getSelections(),secondarySelections:[],source:"api"},this.openedFile)},0))}prepareScreenShot(ye){ye||(ye=this.editor.getSelection()).startLineNumber===ye.endLineNumber&&(ye=void 0);const g=this.editor._modelData.viewModel._lines,{startLineNumber:y,startColumn:D,endLineNumber:N,endColumn:X}=ye||{startLineNumber:1,endLineNumber:g.lines.length,startColumn:0,endColumn:0};if(ye&&y===N&&D===X)return;const _e=document.getElementById("screenshot");_e.innerHTML="";const Fe=this.editorBody.nativeElement;Fe.classList.add("screenshot-mode");const qe=Fe.offsetWidth;let Ke=0;for(let Un=y-1;Un<N;Un++)Ke+=g.lines[Un].outputLineCount||1;let St=1;for(let Un=0;Un<y-1;Un++)St+=g.lines[Un].outputLineCount||1;let qt=0;for(let Un=y-1;Un<N;Un++)qt+=g.lines[Un].outputLineCount||1;const zn=St+qt-1,ur=19*Ke+60,or=Fe.cloneNode(!0);Fe.classList.remove("screenshot-mode"),[].forEach.call(or.querySelectorAll(".view-line"),(Un,_r)=>{Un.style.top=parseInt(Un.style.top,10)-19*(St-1)+"px",(_r<St-1||_r>zn-1)&&Un.parentNode.removeChild(Un)});const $r=or.querySelector(".monaco-editor");or.style.width=qe+"px",$r.style.width="auto",$r.style.height=19*Ke+"px",or.style.height=ur+"px",_e.appendChild(or)}inspect({filePath:ye,position:g,offset:y}){if("typescript"===this.mode&&!ye.endsWith(".ts")||"html"===this.mode&&!ye.endsWith(".html"))return;let D=this.editor;this.projectStore.state.selectedFile!==ye&&this.projectStore.selectFile(ye),this.monacoStore.openFile(D,ye);const N=D.getModel();g&&(y+=N.getOffsetAt(g)),g=N.getPositionAt(y),setTimeout(()=>{D.focus(),D.setPosition(g),D.revealLineInCenter(g.lineNumber),this.highlightLine(g.lineNumber),clearTimeout(this.highlightTimeout),this.highlightTimeout=setTimeout(()=>{this.clearHighlighting()},1500)},50)}highlightLine(ye){const g=this.openedFile,y=this.decorationsCache.hasOwnProperty(g)?this.decorationsCache[g]:[],D=[{range:new monaco.Range(ye,1,ye,1),options:{isWholeLine:!0,glyphMarginClassName:"source-map-line"}}];this.decorations=this.editor.deltaDecorations(this.decorations||[],y.concat(D))}clearHighlighting(){const ye=this.openedFile,g=this.decorationsCache.hasOwnProperty(ye)?this.decorationsCache[ye]:[];this.decorations=this.editor.deltaDecorations(this.decorations?this.decorations:[],g)}updateCompilerOptions(){const ye=this.compilerOptions$.value.filter(g=>g.checked).reduce((g,y)=>(g[y.key]=!0,g),{});this.projectStore.updateCompilerOptions(Object.keys(ye).length?ye:null),(0,pt.xy)(ye),this.projectStore.state.aot&&this.editorWorker.runIvyAOT({})}setTarget(ye){const g=ye.target.value;this.projectStore.setTarget(g),this.editorWorker.post({type:"UPDATE_TARGET",payload:{files:this.projectStore.state.files,target:g}})}static{this.\u0275fac=function(g){return new(g||mn)(u.Y36(u.SBq),u.Y36(ne.gz),u.Y36(we.Uf),u.Y36(we.$m),u.Y36(Wt),u.Y36(Ne),u.Y36(un),u.Y36(u.zs3))}}static{this.\u0275cmp=u.Xpm({type:mn,selectors:[["ng-run-editor"]],viewQuery:function(g,y){if(1&g&&(u.Gf(Ye,5),u.Gf(Te,5)),2&g){let D;u.iGM(D=u.CRH())&&(y.editorTarget=D.first),u.iGM(D=u.CRH())&&(y.editorBody=D.first)}},inputs:{mode:"mode"},decls:2,vars:5,consts:[[4,"ngIf"],[3,"openedFile","mode","formatCodeClicked",4,"ngIf"],[1,"editor-body"],["editorBody",""],[1,"h-100"],["editorTarget",""],[1,"status-bar"],[1,"status-bar-line","flex-1","flex-y-center"],[1,"d-flex","no-wrap","ml-3"],[1,"ml-2"],["align","top",1,"ml-2"],["menu",""],["menuTrigger",""],["name","pencil",1,"icon-edit","ml-2"],[1,"tsconfig-options-menu"],[1,"mb-1"],["class","mb-1",4,"ngFor","ngForOf"],[1,"flex-y-center"],[1,"ml-auto",3,"value","change"],["value","es5"],["value","es2015"],[3,"openedFile","mode","formatCodeClicked"],["type","checkbox",3,"checked","change"]],template:function(g,y){1&g&&(u.YNc(0,nn,37,10,"ng-container",0),u.ALo(1,"async")),2&g&&u.Q6J("ngIf",u.VKq(3,yn,u.lcZ(1,1,y.projectLoaded$)))},dependencies:[ot.sg,ot.O5,zt.N,er.o,Ar.N,pr,ot.Ov],styles:['[_nghost-%COMP%]{position:relative;display:flex;flex-direction:column}[_nghost-%COMP%]     .monaco-editor-background, [_nghost-%COMP%]     .monaco-editor .margin{background:var(--bg)}.editor-body[_ngcontent-%COMP%]{padding-top:10px;width:100%;flex:1;box-sizing:border-box;position:relative;background:var(--bg)}.status-bar[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;left:0;display:flex;padding:0 15px;line-height:24px;font-size:12px;background:var(--tray-bg);color:#fff}.status-bar-line[_ngcontent-%COMP%]{font-size:13px}.status-bar-line[_ngcontent-%COMP%]     input{margin-left:2px;border:none}  .editor-body.screenshot-mode{display:inline-block;text-align:left;margin:30px;padding:48px 18px 18px 15px;border-radius:5px;overflow:hidden}  .editor-body.screenshot-mode>div:before,   .editor-body.screenshot-mode:before,   .editor-body.screenshot-mode:after{content:"";position:absolute;top:15px;width:12px;height:12px;background:#fff;border-radius:50%;border:.5px solid}  .editor-body.screenshot-mode:before{left:15px;background:#ff5e5e;border-color:#e0443e}  .editor-body.screenshot-mode:after{left:35px;background:#ffbe4d;border-color:#dea123}  .editor-body.screenshot-mode>div:before{left:55px;background:#00cd5a;border-color:#1aab29}  .editor-body.screenshot-mode .monaco-scrollable-element{left:0!important;height:100%!important}  .editor-body.screenshot-mode .slider,   .editor-body.screenshot-mode .margin,   .editor-body.screenshot-mode .view-overlays,   .editor-body.screenshot-mode .view-zones,   .editor-body.screenshot-mode .cursors-layer{display:none}  .editor-body.screenshot-mode .overflow-guard{height:100%!important}.tsconfig-options-menu[_ngcontent-%COMP%]{white-space:nowrap;padding:10px;font-size:13px}.icon-edit[_ngcontent-%COMP%], .icon-edit[_ngcontent-%COMP%]:hover{stroke:#fff}'],changeDetection:0})}}(0,gn.gn)([(0,ft.Ds)()],mn.prototype,"prepareScreenShot",null);const Rt=["input"];function lo($,ye){if(1&$&&u._UZ(0,"ng-run-icon",7),2&$){const g=u.oxw().$implicit;u.Q6J("name",g.extension||"")}}function ti($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",5),u.NdJ("click",function(){const N=u.CHM(g).$implicit,X=u.oxw();return u.KtG(X.select(N))}),u.TgZ(1,"div"),u.YNc(2,lo,1,1,"ng-run-icon",6),u.qZA(),u._uU(3),u.TgZ(4,"span"),u._uU(5),u.qZA()()}if(2&$){const g=ye.$implicit,y=ye.index,D=u.oxw();u.ekj("selected",D.selectedIndex===y),u.xp6(1),u.Gre("type d-flex ",g.extension,""),u.xp6(1),u.Q6J("ngIf","ts"!==g.extension),u.xp6(1),u.hij(" ",g.name," "),u.xp6(2),u.Oqu(g.fullPath)}}let sn=(()=>{class ${set input(g){g&&g.nativeElement.focus()}constructor(g){this.projectStore=g,this.closed=new u.vpe,this.files=[],this.filteredFiles=[],this.selectedIndex=0}ngOnInit(){const{files:g,selectedFile:y}=this.projectStore.state;this.files=Object.keys(g).filter(N=>g[N].type===we.Wz.File&&N!==y);const D=this.projectStore.selectedFiles.slice(1);this.files=this.files.sort((N,X)=>{const _e=D.indexOf(N),Fe=D.indexOf(X);return _e>-1&&-1===Fe?-1:Fe>-1&&-1===_e?1:_e>-1&&Fe>-1?_e-Fe:0}),this.files=this.filteredFiles=this.files.map(N=>({name:g[N].name,fullPath:N,extension:N.substr(N.lastIndexOf(".")+1)}))}onKeyDown(g){switch(g.key){case"ArrowUp":this.selectedIndex--,this.selectedIndex<0&&(this.selectedIndex=this.filteredFiles.length-1),(0,u.FYj)(this);break;case"ArrowDown":this.selectedIndex++,this.selectedIndex===this.filteredFiles.length&&(this.selectedIndex=0),(0,u.FYj)(this);break;case"Escape":this.closed.emit();break;case"Enter":this.select(this.filteredFiles[this.selectedIndex])}}filter(g){this.filteredFiles=this.files.filter(y=>y.fullPath.includes(g.target.value)),this.selectedIndex=0,(0,u.FYj)(this)}select(g){this.projectStore.selectFile(g.fullPath),this.closed.emit()}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-go-to-file"]],viewQuery:function(y,D){if(1&y&&u.Gf(Rt,5),2&y){let N;u.iGM(N=u.CRH())&&(D.input=N.first)}},outputs:{closed:"closed"},decls:5,vars:1,consts:[[1,"filter","p-2"],["placeholder","Type file name...","type","text",3,"input","keydown"],["input",""],[1,"files"],["class","file d-flex px-2",3,"selected","click",4,"ngFor","ngForOf"],[1,"file","d-flex","px-2",3,"click"],["class","icon-file","width","15","height","15",3,"name",4,"ngIf"],["width","15","height","15",1,"icon-file",3,"name"]],template:function(y,D){1&y&&(u.TgZ(0,"div",0)(1,"input",1,2),u.NdJ("input",function(X){return D.filter(X)})("keydown",function(X){return D.onKeyDown(X)}),u.qZA()(),u.TgZ(3,"div",3),u.YNc(4,ti,6,8,"div",4),u.qZA()),2&y&&(u.xp6(4),u.Q6J("ngForOf",D.filteredFiles))},dependencies:[ot.sg,ot.O5,er.o],styles:['[_nghost-%COMP%]{position:absolute;top:20px;left:50%;z-index:6;min-width:300px;max-width:90%;background:var(--solution-tree-bg);box-shadow:0 2px 8px #000;transform:translate(-50%)}input[_ngcontent-%COMP%]{padding:0 5px;width:100%;line-height:26px}.files[_ngcontent-%COMP%]{overflow-y:auto;max-height:45vh}.file[_ngcontent-%COMP%]{cursor:pointer;font-size:13px;line-height:28px}.file[_ngcontent-%COMP%]:hover{background:#34393c}.file.selected[_ngcontent-%COMP%]{color:#f3f3f3;background:#22596f}.file.selected[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e0e0e0}.file[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:3px;color:#94989a;font-size:10px}.type[_ngcontent-%COMP%]{width:20px}.type.ts[_ngcontent-%COMP%]:before{content:"TS";position:relative;left:2px;color:#95c9de;font-size:10px}']})}}return $})();var rr=O(4114),Rr=O.n(rr),ai=O(6932);const wn=["input"];function Qt($,ye){if(1&$&&(u.TgZ(0,"div")(1,"span"),u._uU(2),u.qZA(),u.TgZ(3,"b"),u._uU(4),u.qZA(),u.TgZ(5,"span"),u._uU(6),u.qZA()()),2&$){const g=ye.$implicit;u.xp6(2),u.Oqu(g.leftPart),u.xp6(2),u.Oqu(g.match),u.xp6(2),u.Oqu(g.rightPart)}}function bn($,ye){if(1&$&&(u.TgZ(0,"li")(1,"div"),u._uU(2),u.qZA(),u.TgZ(3,"div"),u.YNc(4,Qt,7,3,"div",4),u.qZA()()),2&$){const g=ye.$implicit;u.xp6(2),u.Oqu(g.path),u.xp6(2),u.Q6J("ngForOf",g.matches)}}function dn($,ye){1&$&&(u.TgZ(0,"li"),u._uU(1,"Loading..."),u.qZA())}let wi=(()=>{class ${set input(g){g&&g.nativeElement.focus()}constructor(g){this.projectStore=g,this.found$=new se.xQ,this.loading$=new re.X(!1),this.searchItems$=this.found$.pipe((0,yt.b)(y=>console.log(y)),(0,ai.R)((y,D)=>y.concat(D),[]),(0,yt.b)(y=>console.log(y)))}search(g){var y=this;return(0,kt.Z)(function*(){const D=y.projectStore.state.files,X=new RegExp(function Mi($){return $.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}(g),"gi");y.loading$.next(!0),yield Promise.all(Object.keys(D).map(function(){var _e=(0,kt.Z)(function*(Fe){const qe=function me($,{fullPath:ye,contents:g}){const y=Rr()(g);let D;const N=()=>D=$.exec(g),X={path:ye,matches:[]};for(N();D;){const{0:_e,index:Fe}=D,qe=g.lastIndexOf("\n",Fe),Ke=g.slice(qe>-1?qe+1:0,Fe).slice(-20).trimLeft(),St=g.indexOf("\n",Fe),qt=g.slice(Fe+_e.length,St>-1?St:g.length).slice(0,20).trimRight(),{line:zn,col:ur}=y.fromIndex(Fe);X.matches.push({line:zn,col:ur,leftPart:Ke,match:_e,rightPart:qt}),N()}return X}(X,D[Fe]);qe.matches.length&&y.found$.next(qe)});return function(Fe){return _e.apply(this,arguments)}}())),y.loading$.next(!1)})()}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-search-dialog"]],viewQuery:function(y,D){if(1&y&&u.Gf(wn,5),2&y){let N;u.iGM(N=u.CRH())&&(D.input=N.first)}},decls:9,vars:6,consts:[[1,"p-2"],["placeholder","Search across files...","type","text",3,"keydown.enter"],["input",""],[1,"results","p-2"],[4,"ngFor","ngForOf"],[4,"ngIf"]],template:function(y,D){if(1&y){const N=u.EpF();u.TgZ(0,"div",0)(1,"input",1,2),u.NdJ("keydown.enter",function(){u.CHM(N);const _e=u.MAs(2);return u.KtG(D.search(_e.value))}),u.qZA()(),u.TgZ(3,"div",3)(4,"ul"),u.YNc(5,bn,5,2,"li",4),u.ALo(6,"async"),u.YNc(7,dn,2,0,"li",5),u.ALo(8,"async"),u.qZA()()}2&y&&(u.xp6(5),u.Q6J("ngForOf",u.lcZ(6,2,D.searchItems$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(8,4,D.loading$)))},dependencies:[ot.sg,ot.O5,ot.Ov],styles:["[_nghost-%COMP%]{position:absolute;top:20px;left:50%;z-index:6;min-width:300px;max-width:90%;background:var(--solution-tree-bg);box-shadow:0 2px 8px #000;transform:translate(-50%)}input[_ngcontent-%COMP%]{padding:0 5px;width:100%;line-height:26px}"]})}}return $})();var Z=O(8623);const J=["child"];function Y($,ye){1&$&&(u.TgZ(0,"ng-run-loading"),u._uU(1,"Preparing preview..."),u.qZA())}function K($,ye){if(1&$&&(u.TgZ(0,"div",17),u._uU(1),u.qZA()),2&$){const g=ye.$implicit;u.xp6(1),u.Oqu(g)}}function Ae($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"ng-run-loading",13),u._uU(1),u._UZ(2,"br")(3,"br"),u.YNc(4,K,2,1,"div",14),u.TgZ(5,"div",15)(6,"div",16),u.NdJ("click",function(){const N=u.CHM(g).ngIf,X=u.oxw();return u.KtG(X.editorWorker.install(N))}),u._uU(7,"Install"),u.qZA()()()}if(2&$){const g=ye.ngIf;u.xp6(1),u.hij(" Can't find package",(null==g?null:g.length)>1?"s":""," "),u.xp6(3),u.Q6J("ngForOf",g)}}function Xe($,ye){if(1&$&&(u.TgZ(0,"b",19),u._uU(1),u.qZA()),2&$){const g=ye.$implicit,y=ye.last;u.xp6(1),u.AsE("",g," ",y?"":",\xa0","")}}function Tt($,ye){if(1&$&&(u.TgZ(0,"ng-run-loading"),u.YNc(1,Xe,2,2,"b",18),u._UZ(2,"br")(3,"br"),u._uU(4),u.qZA()),2&$){const g=ye.ngIf;u.xp6(1),u.Q6J("ngForOf",g),u.xp6(3),u.hij(" ",g.length>1?"packages have":"package has"," been installing... ")}}function Gt($,ye){1&$&&u._UZ(0,"div",26)}const Ht=function(){return[]};function hn($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",20),u._UZ(1,"div",21,22),u.TgZ(3,"div",23),u.NdJ("click",function(){u.CHM(g);const D=u.MAs(2),N=u.oxw();return u.KtG(N.saveScreenShot(D.firstElementChild))}),u.TgZ(4,"div",24),u.YNc(5,Gt,1,0,"div",25),u.qZA()()()}2&$&&(u.xp6(5),u.Q6J("ngForOf",u.DdM(1,Ht).constructor(6)))}let Ut=(()=>{class ${constructor(g,y){this.editorWorker=g,this.playgroundStore=y,this.previewUrl=`${nt.N.previewUrl}?${nt.N.hash}`,this.hash=nt.N.hash,this.url$=this.playgroundStore.previewUrl$,this.bundleSuccess$=this.editorWorker.bundleSuccess$,this.error$=this.editorWorker.errorInfo$.pipe((0,vt.U)(D=>D&&D.constructor===Object&&Object.keys(D).length>1)),this.pkgNames$=this.editorWorker.confirmInstallState$,this.installingPkgNames$=this.editorWorker.installState$,this.inspectMode$=new re.X(!1),this.screenShotMode$=this.playgroundStore.screenShotMode$}ngAfterViewInit(){window.preview=this.child.nativeElement.contentWindow}reload(g){preview.postMessage({type:"RELOAD",payload:g},"*")}toggleInspectMode(){this.inspectMode$.next(!this.inspectMode$.value),preview.postMessage({type:"TOGGLE_INSPECT"},"*")}saveScreenShot(g){O.e(308).then(O.t.bind(O,6308,23)).then(y=>y.default).then(y=>{y(g,{width:g.offsetWidth,height:g.offsetHeight,scale:2}).then(D=>{const N=D.toDataURL(),X=document.createElement("a");X.download="code.png",X.href=N,document.body.appendChild(X),X.click(),document.body.removeChild(X)})})}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(Ne),u.Y36(we.$m))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-preview"]],viewQuery:function(y,D){if(1&y&&u.Gf(J,7),2&y){let N;u.iGM(N=u.CRH())&&(D.child=N.first)}},decls:24,vars:29,consts:[[1,"overflow-hidden"],[4,"ngIf"],["class","broken",4,"ngIf"],[1,"preview-toolbar"],["title","Inspect mode",1,"icon-inspect",3,"click"],["width","16","height","16"],[0,"xlink","href","#icon-inspect"],[1,"icon-reload",3,"click"],[0,"xlink","href","#icon-reload"],["type","text","aria-label","App address bar",1,"address-bar",3,"value","change","keydown.enter"],["title","Preview",3,"name","src"],["child",""],["class","screenshot-preview",4,"ngIf"],[1,"broken"],["class","package-name",4,"ngFor","ngForOf"],[1,"-actions"],[1,"-confirm",3,"click"],[1,"package-name"],["class","package-name--info",4,"ngFor","ngForOf"],[1,"package-name--info"],[1,"screenshot-preview"],["id","screenshot",1,"screenshot-preview-content"],["screenshot",""],["title","Take a screenshot",1,"capture-btn",3,"click"],[1,"capture-inner"],["class","capture-blade",4,"ngFor","ngForOf"],[1,"capture-blade"]],template:function(y,D){1&y&&(u.TgZ(0,"div",0),u.ALo(1,"async"),u.YNc(2,Y,2,0,"ng-run-loading",1),u.ALo(3,"async"),u.ALo(4,"async"),u.YNc(5,Ae,8,2,"ng-run-loading",2),u.ALo(6,"async"),u.YNc(7,Tt,5,2,"ng-run-loading",1),u.ALo(8,"async"),u.TgZ(9,"div",3)(10,"div",4),u.NdJ("click",function(){return D.toggleInspectMode()}),u.ALo(11,"async"),u.O4$(),u.TgZ(12,"svg",5),u._UZ(13,"use",6),u.qZA()(),u.kcU(),u.TgZ(14,"div",7),u.NdJ("click",function(){return D.reload()}),u.O4$(),u.TgZ(15,"svg",5),u._UZ(16,"use",8),u.qZA()(),u.kcU(),u.TgZ(17,"input",9),u.NdJ("change",function(X){return D.reload(X.target.value)})("keydown.enter",function(X){return D.reload(X.target.value)}),u.ALo(18,"async"),u.qZA()(),u._UZ(19,"iframe",10,11),u.ALo(21,"safeUrl"),u.qZA(),u.YNc(22,hn,6,2,"div",12),u.ALo(23,"async")),2&y&&(u.ekj("d-none",u.lcZ(1,11,D.screenShotMode$)),u.xp6(2),u.Q6J("ngIf",!u.lcZ(3,13,D.bundleSuccess$)&&!u.lcZ(4,15,D.error$)),u.xp6(3),u.Q6J("ngIf",u.lcZ(6,17,D.pkgNames$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(8,19,D.installingPkgNames$)),u.xp6(3),u.ekj("icon-inspect--enabled",u.lcZ(11,21,D.inspectMode$)),u.xp6(7),u.Q6J("value",u.lcZ(18,23,D.url$)),u.xp6(2),u.Q6J("name","preview_"+D.hash)("src",u.lcZ(21,25,D.previewUrl),u.uOi),u.xp6(3),u.Q6J("ngIf",u.lcZ(23,27,D.screenShotMode$)))},dependencies:[ot.sg,ot.O5,Ar.N,ot.Ov,Z.Q],styles:['[_nghost-%COMP%]{position:relative}.-actions[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.-confirm[_ngcontent-%COMP%]{border:none;line-height:34px;padding:0 20px;cursor:pointer;background:#2a7b9e;color:#fff;margin-right:10px;display:inline-block}.package-name[_ngcontent-%COMP%]{display:inline-block;background:#fff;font-weight:700;color:#333;padding:0 10px;line-height:22px;margin-right:5px;margin-bottom:10px}.package-name--info[_ngcontent-%COMP%]{color:#fff}iframe[_ngcontent-%COMP%]{position:absolute;left:0;top:40px;width:100%;height:calc(100% - 40px);background:#fff;border:none}.preview-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;height:40px;background:#f0f0f0}.preview-toolbar[_ngcontent-%COMP%]   .icon-reload[_ngcontent-%COMP%], .preview-toolbar[_ngcontent-%COMP%]   .icon-inspect[_ngcontent-%COMP%]{margin:0 5px;cursor:pointer;padding:3px 5px;border-radius:3px}.preview-toolbar[_ngcontent-%COMP%]   .icon-reload[_ngcontent-%COMP%]:hover, .preview-toolbar[_ngcontent-%COMP%]   .icon-inspect[_ngcontent-%COMP%]:hover{background:#dcdbdb}.preview-toolbar[_ngcontent-%COMP%]   .icon-inspect[_ngcontent-%COMP%]{margin-right:0}.preview-toolbar[_ngcontent-%COMP%]   .icon-inspect--enabled[_ngcontent-%COMP%]{background:#dcdbdb;fill:#0671c7}.preview-toolbar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;margin-right:10px;padding:0 3px;line-height:22px;border:1px solid #b3b0b0;outline:none}.screenshot-preview[_ngcontent-%COMP%]{width:100%;height:100%;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAAAAACo4kLRAAAAF0lEQVR4AWP4CQf/4WBoCyKYCOkhLQgAFBGJ0NmZHwYAAAAASUVORK5CYII=)}.screenshot-preview-content[_ngcontent-%COMP%]{text-align:center;width:100%;height:100%;overflow:auto}.address-bar[_ngcontent-%COMP%]{min-width:0}.capture-btn[_ngcontent-%COMP%]{position:absolute;bottom:30px;right:30px;width:57px;height:57px;border-radius:50%;border:3px solid #555;box-sizing:initial;cursor:pointer}.capture-btn[_ngcontent-%COMP%]:hover   .capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:after{transform:rotate(-14deg) scale(1.12)}.capture-inner[_ngcontent-%COMP%]{border-radius:52px;content:"";height:104px;left:50%;overflow:hidden;position:absolute;top:50%;transform:scale(.5) translate(-100%,-100%);width:104px}.capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:nth-child(1){align-items:flex-end;bottom:0;display:flex;height:52px;left:calc(50% - 82px);position:absolute;transform:rotate(60deg);transform-origin:center top}.capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:nth-child(2){align-items:flex-end;bottom:0;display:flex;height:52px;left:calc(50% - 82px);position:absolute;transform:rotate(120deg);transform-origin:center top}.capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:nth-child(3){align-items:flex-end;bottom:0;display:flex;height:52px;left:calc(50% - 82px);position:absolute;transform:rotate(180deg);transform-origin:center top}.capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:nth-child(4){align-items:flex-end;bottom:0;display:flex;height:52px;left:calc(50% - 82px);position:absolute;transform:rotate(240deg);transform-origin:center top}.capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:nth-child(5){align-items:flex-end;bottom:0;display:flex;height:52px;left:calc(50% - 82px);position:absolute;transform:rotate(300deg);transform-origin:center top}.capture-inner[_ngcontent-%COMP%]   .capture-blade[_ngcontent-%COMP%]:nth-child(6){align-items:flex-end;bottom:0;display:flex;height:52px;left:calc(50% - 82px);position:absolute;transform:rotate(360deg);transform-origin:center top}.capture-blade[_ngcontent-%COMP%]:after{border-bottom:142px solid #555;border-left:82px solid transparent;border-right:82px solid transparent;content:"";display:block;height:0;margin-bottom:-105px;transform-origin:center center;transition:transform .3s cubic-bezier(0,0,0,.9);transform:rotate(-28deg);width:0}']})}}return $})();function Zn($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",7),u.NdJ("click",function(){const N=u.CHM(g).$implicit;u.oxw();const X=u.MAs(1);return u.oxw().applyTheme(N),u.KtG(X.close())}),u._uU(1),u.qZA()}if(2&$){const g=ye.$implicit,y=u.oxw().ngIf;u.ekj("menu-item--active",g.key===y.key),u.xp6(1),u.hij(" ",g.label," ")}}function qn($,ye){if(1&$&&(u.TgZ(0,"ng-run-dropdown-menu",1,2),u.ynx(2,3),u._UZ(3,"ng-run-icon",4),u.TgZ(4,"span",5),u._uU(5),u.qZA(),u.BQk(),u.YNc(6,Zn,2,3,"div",6),u.qZA()),2&$){const g=ye.ngIf,y=u.oxw();u.xp6(5),u.Oqu(g.label),u.xp6(1),u.Q6J("ngForOf",y.themes)}}let Oi=(()=>{class ${constructor(g){this.playgroundStore=g,this.themes=[{key:"atom",label:"Atom one dark"},{key:"dark",label:"Dark+"},{key:"dracula",label:"Dracula"},{key:"vstudio",label:"Light (Visual Studio)"},{key:"light",label:"Light+"},{key:"material",label:"Material"},{key:"monokai",label:"Monokai"},{key:"monokaiPro",label:"Monokai Pro (Filter Ristretto)"},{key:"night-owl",label:"Night Owl"},{key:"nord",label:"Nord"},{key:"northemDark",label:"Northem Dark"},{key:"oceanicNext",label:"Oceanic Next"},{key:"winter-is-coming",label:"Winter is coming"}],this.activeTheme$=this.playgroundStore.activeTheme$.pipe((0,vt.U)(y=>this.themes.find(D=>D.key===y)))}applyTheme(g){this.playgroundStore.applyTheme(g.key)}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.$m))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-theme-picker"]],decls:2,vars:3,consts:[["align","right","ng-run-tooltip","Theme Picker",4,"ngIf"],["align","right","ng-run-tooltip","Theme Picker"],["menu",""],["menuTrigger",""],["name","fill",1,"mr-1"],[1,"active-theme"],["class","menu-item",3,"menu-item--active","click",4,"ngFor","ngForOf"],[1,"menu-item",3,"click"]],template:function(y,D){1&y&&(u.YNc(0,qn,7,2,"ng-run-dropdown-menu",0),u.ALo(1,"async")),2&y&&u.Q6J("ngIf",u.lcZ(1,1,D.activeTheme$))},dependencies:[ot.sg,ot.O5,zt.N,er.o,tr.i,ot.Ov],styles:['[_ngcontent-%COMP%]:root{--color: #c7c7c7;--color-hover: #fff;--solution-tree-bg: #1d2129;--sidebar-bg: #2e3440;--header-bg: #2e3440;--logo-color: #fff;--box-header-bg: #1d2129;--box-resizer-bg: #2e3440;--box-resizer-border-left-color: rgba(255, 255, 255, .15);--box-resizer-border-right-color: rgba(0, 0, 0, .34);--tab-bg: #444446;--tab-color: #fff;--editor-action-color: #c7c7c7;--editor-action-hovered-color: #fff;--cursor-color: #fff;--tray-bg: #2978bb;--scrollbar: rgba(67, 76, 94, .6);--lineNumbers: rgba(216, 222, 233, .4);--activeLineNumber: rgba(216, 222, 233, .9);--bg: #2e3440;--foreground: #d8dee9;--comment: #67728a;--className: #8fbcbb;--functionName: #88c0d0;--decorator: #d08770;--string: #a3be8c;--keyword: #81a1c1;--tag: #81a1c1;--attr: #8fbcbb;--type: #8fbcbb;--constKeyword: #81a1c1;--consoleKeyword: #8fbcbb;--constant: #b48ead;--this: #81a1c1;--propAccess: #d8dee9;--method: #88c0d0;--param: #d8dee9;--call: #88c0d0;--brackets: #d8dee}[_nghost-%COMP%]     .trigger{padding:0 10px}.menu-item.menu-item[_ngcontent-%COMP%]{padding-left:30px}.menu-item--active[_ngcontent-%COMP%]{background:rgba(0,0,0,.08)}.menu-item--active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:13px;top:50%;width:4px;height:8px;border:solid #000;border-width:0 2px 2px 0;transform:rotate(45deg);margin-top:-5.5px}@media (max-width: 960px){.active-theme[_ngcontent-%COMP%]{display:none}ng-run-icon[_ngcontent-%COMP%]{margin-right:0}}'],changeDetection:0})}}return $})();function En($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",2),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.login())}),u._UZ(1,"ng-run-icon",3),u._uU(2," Sign in\n"),u.qZA()}}function $e($,ye){if(1&$&&(u.TgZ(0,"div",10),u._UZ(1,"img",11),u.qZA()),2&$){const g=u.oxw().ngIf;u.xp6(1),u.Q6J("src",g.photoURL,u.LSH)("alt",g.displayName)}}function Se($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"ng-run-dropdown-menu",5),u.ynx(1,6),u.YNc(2,$e,2,2,"div",7),u.TgZ(3,"div",8),u._uU(4),u.qZA(),u.BQk(),u.TgZ(5,"div",9),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.logout())}),u._uU(6," Sign out "),u.qZA()()}if(2&$){const g=ye.ngIf;u.Q6J("showArrow",!0),u.xp6(2),u.Q6J("ngIf",g.photoURL),u.xp6(1),u.ekj("ml-2",!!g.photoURL),u.xp6(1),u.hij(" ",g.displayName||g.email," ")}}function at($,ye){if(1&$&&(u.YNc(0,Se,7,5,"ng-run-dropdown-menu",4),u.ALo(1,"async")),2&$){const g=u.oxw();u.Q6J("ngIf",u.lcZ(1,1,g.user$))}}let jt=(()=>{class ${constructor(g){this.auth=g,this.user$=this.auth.user$}login(){this.auth.signInWithGithub().then()}logout(){this.auth.signOut()}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(ce.e))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-user-panel"]],decls:4,vars:4,consts:[["class","flex-y-center h-100 login-btn trigger",3,"click",4,"ngIf","ngIfElse"],["userTmpl",""],[1,"flex-y-center","h-100","login-btn","trigger",3,"click"],["name","github","width","35","height","35",1,"mr-1"],["align","right",3,"showArrow",4,"ngIf"],["align","right",3,"showArrow"],["menuTrigger",""],["class","user-photo",4,"ngIf"],[1,"user-name"],[1,"menu-item",3,"click"],[1,"user-photo"],["width","35","height","35",3,"src","alt"]],template:function(y,D){if(1&y&&(u.YNc(0,En,3,0,"div",0),u.ALo(1,"async"),u.YNc(2,at,2,3,"ng-template",null,1,u.W1O)),2&y){const N=u.MAs(3);u.Q6J("ngIf",!u.lcZ(1,2,D.user$))("ngIfElse",N)}},dependencies:[ot.O5,zt.N,er.o,ot.Ov],styles:["[_ngcontent-%COMP%]:root{--color: #c7c7c7;--color-hover: #fff;--solution-tree-bg: #1d2129;--sidebar-bg: #2e3440;--header-bg: #2e3440;--logo-color: #fff;--box-header-bg: #1d2129;--box-resizer-bg: #2e3440;--box-resizer-border-left-color: rgba(255, 255, 255, .15);--box-resizer-border-right-color: rgba(0, 0, 0, .34);--tab-bg: #444446;--tab-color: #fff;--editor-action-color: #c7c7c7;--editor-action-hovered-color: #fff;--cursor-color: #fff;--tray-bg: #2978bb;--scrollbar: rgba(67, 76, 94, .6);--lineNumbers: rgba(216, 222, 233, .4);--activeLineNumber: rgba(216, 222, 233, .9);--bg: #2e3440;--foreground: #d8dee9;--comment: #67728a;--className: #8fbcbb;--functionName: #88c0d0;--decorator: #d08770;--string: #a3be8c;--keyword: #81a1c1;--tag: #81a1c1;--attr: #8fbcbb;--type: #8fbcbb;--constKeyword: #81a1c1;--consoleKeyword: #8fbcbb;--constant: #b48ead;--this: #81a1c1;--propAccess: #d8dee9;--method: #88c0d0;--param: #d8dee9;--call: #88c0d0;--brackets: #d8dee}.login-btn[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px}@media (max-width: 960px){.user-name[_ngcontent-%COMP%]{display:none}.user-photo[_ngcontent-%COMP%]{border-radius:50%;overflow:hidden}[_nghost-%COMP%]{margin-right:10px}[_nghost-%COMP%]     .trigger.trigger{padding-right:0}[_nghost-%COMP%]     .trigger.trigger:before{content:none}}"],changeDetection:0})}}return $})(),Jt=(()=>{class ${constructor(g){this.playgroundStore=g,this.layout$=this.playgroundStore.layout$}toggle(){this.playgroundStore.toggleLayout()}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.$m))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-layout-picker"]],hostBindings:function(y,D){1&y&&u.NdJ("click",function(){return D.toggle()})},decls:8,vars:4,consts:[["ng-run-tooltip","Layout Picker",1,"layout-picker"],[1,"layout-option"],["width","20","height","18","viewBox","0 -1 16 16"],["d","M1 1v12h14V1H1zm1 3h12v8H2V4z"],["d","M1 1v12h14V1H1zm1 3h4.999v8H2V4zm12 8H8.999V4H14v8z"]],template:function(y,D){1&y&&(u.TgZ(0,"div",0),u.ALo(1,"async"),u.TgZ(2,"div",1),u.O4$(),u.TgZ(3,"svg",2),u._UZ(4,"path",3),u.qZA()(),u.kcU(),u.TgZ(5,"div",1),u.O4$(),u.TgZ(6,"svg",2),u._UZ(7,"path",4),u.qZA()()()),2&y&&u.ekj("layout-picker--right","1"===u.lcZ(1,2,D.layout$))},dependencies:[tr.i,ot.Ov],styles:['[_ngcontent-%COMP%]:root{--color: #c7c7c7;--color-hover: #fff;--solution-tree-bg: #1d2129;--sidebar-bg: #2e3440;--header-bg: #2e3440;--logo-color: #fff;--box-header-bg: #1d2129;--box-resizer-bg: #2e3440;--box-resizer-border-left-color: rgba(255, 255, 255, .15);--box-resizer-border-right-color: rgba(0, 0, 0, .34);--tab-bg: #444446;--tab-color: #fff;--editor-action-color: #c7c7c7;--editor-action-hovered-color: #fff;--cursor-color: #fff;--tray-bg: #2978bb;--scrollbar: rgba(67, 76, 94, .6);--lineNumbers: rgba(216, 222, 233, .4);--activeLineNumber: rgba(216, 222, 233, .9);--bg: #2e3440;--foreground: #d8dee9;--comment: #67728a;--className: #8fbcbb;--functionName: #88c0d0;--decorator: #d08770;--string: #a3be8c;--keyword: #81a1c1;--tag: #81a1c1;--attr: #8fbcbb;--type: #8fbcbb;--constKeyword: #81a1c1;--consoleKeyword: #8fbcbb;--constant: #b48ead;--this: #81a1c1;--propAccess: #d8dee9;--method: #88c0d0;--param: #d8dee9;--call: #88c0d0;--brackets: #d8dee}.layout-picker[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;padding:0 10px;height:30px;border-right:1px solid #505050;cursor:pointer}.layout-picker[_ngcontent-%COMP%]:hover:before{background:var(--color-hover)}.layout-picker[_ngcontent-%COMP%]:before{content:"";position:absolute;top:50%;left:15px;width:22px;height:22px;background:var(--color);border-radius:50%;box-shadow:0 2px 5px #0000004d;transition:left .3s;transform:translateY(-50%)}.layout-picker--right[_ngcontent-%COMP%]:before{left:48px}.layout-option[_ngcontent-%COMP%]{padding:0 6px;fill:var(--color);cursor:pointer}@media (max-width: 960px){[_nghost-%COMP%]{display:none}}'],changeDetection:0})}}return $})();function Xt($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",10),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.toggleMenu())}),u.qZA()}}function cn($,ye){}function gr($,ye){1&$&&u.YNc(0,cn,0,0,"ng-template",17)}function Rn($,ye){if(1&$&&(u.TgZ(0,"i"),u._uU(1),u.qZA()),2&$){const g=u.oxw(2).ngIf;u.xp6(1),u.hij(" ",g.room.users.length," ")}}function Nr($,ye){1&$&&(u.TgZ(0,"span",28),u._uU(1,"host"),u.qZA())}function ln($,ye){1&$&&(u.TgZ(0,"span"),u._uU(1,"(you)"),u.qZA())}function Ur($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"li",23),u.NdJ("click",function(){const N=u.CHM(g).$implicit,X=u.oxw(4);return u.KtG(X.gotoUser(N))}),u.TgZ(1,"div",24),u._UZ(2,"img",25),u.YNc(3,Nr,2,0,"span",26),u.qZA(),u.TgZ(4,"div",27),u._uU(5),u.YNc(6,ln,2,0,"span",12),u.qZA()()}if(2&$){const g=ye.$implicit,y=u.oxw(3).ngIf;u.xp6(2),u.Q6J("src",g.photoUrl,u.LSH)("alt",g.displayName),u.xp6(1),u.Q6J("ngIf",y.room.owner.conId===g.conId),u.xp6(2),u.hij(" ",g.displayName||g.email," "),u.xp6(1),u.Q6J("ngIf",y.room.currentUser.conId===g.conId)}}function Qo($,ye){if(1&$&&(u.TgZ(0,"div",21)(1,"ul"),u.YNc(2,Ur,7,5,"li",22),u.qZA()()),2&$){const g=u.oxw(2).ngIf;u.xp6(2),u.Q6J("ngForOf",g.room.users)}}function Ao($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",18)(1,"ng-run-icon",19),u.NdJ("click",function(){u.CHM(g);const D=u.oxw().ngIf,N=u.oxw();return u.KtG(D.canEdit&&N.toggleLive())}),u.qZA(),u.YNc(2,Rn,2,1,"i",12),u.YNc(3,Qo,3,1,"div",20),u.qZA()}if(2&$){const g=u.oxw().ngIf;u.xp6(1),u.ekj("live-btn--enabled",g.room),u.Q6J("title",g.canEdit?(g.room?"Stop":"Start")+" live collaboration":""),u.xp6(1),u.Q6J("ngIf",g.room),u.xp6(1),u.Q6J("ngIf",g.room)}}function mr($,ye){1&$&&u._UZ(0,"div",29)}function Qr($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"button",33),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(3);return u.KtG(D.saveOrForkProject())}),u._uU(1," Save "),u.qZA()}if(2&$){const g=u.oxw(2).ngIf;u.Q6J("title",g.loading||!g.isProjectDirty?"There is no changes":"Save your changes")("disabled",g.loading||!g.isProjectDirty)}}function Xi($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"button",34),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(3);return u.KtG(D.saveOrForkProject(!0))}),u._uU(1," Fork "),u.qZA()}if(2&$){const g=u.oxw(2).ngIf;u.Q6J("disabled",g.loading)}}function kn($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",36),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(4);return u.KtG(D.toggleTest())}),u.qZA()}if(2&$){const g=ye.ngIf;u.ekj("test-mode-switcher--enabled",g.testEnabled),u.uIk("title",g.testEnabled?"Disable tests":"Enable tests")}}const eo=function($){return{testEnabled:$}};function $o($,ye){if(1&$&&(u.ynx(0),u.YNc(1,kn,1,3,"div",35),u.ALo(2,"async"),u.BQk()),2&$){const g=u.oxw(3);u.xp6(1),u.Q6J("ngIf",u.VKq(3,eo,u.lcZ(2,1,g.testEnabled$)))}}function bi($,ye){if(1&$&&(u.ynx(0),u.YNc(1,Qr,2,2,"button",30),u.YNc(2,Xi,2,1,"button",31),u.ALo(3,"async"),u.YNc(4,$o,3,5,"ng-container",12),u.ALo(5,"async"),u._UZ(6,"ng-run-layout-picker",32),u.BQk()),2&$){const g=u.oxw().ngIf,y=u.oxw();u.xp6(1),u.Q6J("ngIf",g.canEdit),u.xp6(1),u.Q6J("ngIf",u.lcZ(3,3,y.authenticated$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(5,5,y.isTestsSupported$))}}function Jo($,ye){if(1&$&&(u.TgZ(0,"div",11),u.YNc(1,gr,1,0,null,12),u.ALo(2,"async"),u.YNc(3,Ao,4,5,"div",13),u.YNc(4,mr,1,0,"div",14),u.YNc(5,bi,7,7,"ng-container",12),u._UZ(6,"ng-run-theme-picker",15)(7,"ng-run-user-panel",16),u.qZA()),2&$){const g=ye.ngIf,y=u.oxw();u.xp6(1),u.Q6J("ngIf",u.lcZ(2,4,y.authenticated$)),u.xp6(2),u.Q6J("ngIf",(g.canEdit||g.room)&&!g.isLessonRecording&&!g.isLesson),u.xp6(1),u.Q6J("ngIf",g.loading),u.xp6(1),u.Q6J("ngIf",!g.isLesson&&!g.isLessonRecording)}}const gi=function($,ye,g,y,D,N,X){return{isLesson:$,isLessonRecording:ye,loading:g,isProjectDirty:y,canEdit:D,room:N,recordState:X}};let ni=(()=>{class ${constructor(g,y,D,N,X,_e,Fe,qe){this.projectStore=g,this.editorWorker=y,this.authService=D,this.playgroundStore=N,this.notificationService=X,this.location=_e,this.elRef=Fe,this.liveService=qe,this.menuOpened$=new re.X(!1),this.loading$=new re.X(!1),this.canEdit$=this.projectStore.canEdit$,this.isProjectDirty$=this.projectStore.isProjectDirty$,this.isLesson$=this.projectStore.isLesson$,this.isLessonRecording$=this.projectStore.isLessonRecording$,this.authenticated$=this.authService.authenticated$,this.isTestsSupported$=this.projectStore.isTestsSupported$,this.testEnabled$=this.playgroundStore.testEnabled$,this.recordState$=new re.X("init")}ngOnInit(){this.projectStore.aotEnabled$.subscribe(g=>{this.elRef.nativeElement.classList.toggle("header--aot",g)})}onBeforeUnload(g){const{dirty:y}=this.projectStore.state;if(y){const X="You have unsaved changes on this page. Do you want to leave this page and discard your changes or stay on this page?";return g.returnValue=X,X}}toggleMenu(g){const y=void 0!==g?g:!this.menuOpened$.value;this.menuOpened$.value!==y&&(this.menuOpened$.next(y),document.body.classList.toggle("menu--opened",this.menuOpened$.value))}saveOrForkProject(g=!1){this.loading$.next(!0),this.editorWorker.doSave(),this.projectStore.save(g).then(y=>{this.notificationService.notify({type:"success",message:"Project has been successfully "+(g?"forked":"updated")}),g&&this.location.go("/edit/"+y)}).catch(y=>{this.notificationService.notify({type:"error",message:y.message})}).finally(()=>this.loading$.next(!1))}toggleTest(){this.playgroundStore.toggleTestMode(),setTimeout(()=>{location.reload()},400)}toggleLive(){this.playgroundStore.setReloadMode("edit"),this.liveService.toggleLive()}gotoUser(g){this.liveService.gotoUser(g)}toggleActive(){this.recordState$.next("active"===this.recordState$.value?"init":"active")}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf),u.Y36(Ne),u.Y36(ce.e),u.Y36(we.$m),u.Y36(B.gq),u.Y36(ot.Ye),u.Y36(u.SBq),u.Y36(un))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-header"]],hostBindings:function(y,D){1&y&&u.NdJ("beforeunload",function(X){return D.onBeforeUnload(X)},!1,u.Jf7)},decls:20,vars:26,consts:[[1,"menu",3,"click"],[1,"menu-icon"],["class","fake-bg",3,"click",4,"ngIf"],["href",".",1,"flex-y-center","logo"],["viewBox","0 0 500 500","width","40","height","40","xmlns","http://www.w3.org/2000/svg"],["d","M250.696,82 L91,138.2 L116.235,347.426 L250.864,421.421 L386.186,346.424 L411.413,137.205 L250.696,82","fill","#FFFFFF"],["d","M395.484,149.298 L250.323,99.795 L250.323,403.742 L371.974,336.416 L395.484,149.298","fill","#a80e00"],["d","M108.92,150.189 L130.544,337.309 L250.32,403.742 L250.32,99.789 L108.92,150.189","fill","#e01600"],["d","M210,180 L210,300 L310,240 z","fill","#FFFFFF"],["class","ml-auto flex-y-center h-100",4,"ngIf"],[1,"fake-bg",3,"click"],[1,"ml-auto","flex-y-center","h-100"],[4,"ngIf"],["class","mr-1 cursor-pointer live-icon",4,"ngIf"],["class","loader",4,"ngIf"],[1,"h-100"],[1,"ml-1","h-100"],["ng-run-container","header-menu"],[1,"mr-1","cursor-pointer","live-icon"],["name","live","width","24","height","24",1,"cursor-pointer","live-btn",3,"title","click"],["class","live-menu",4,"ngIf"],[1,"live-menu"],["class","client",3,"click",4,"ngFor","ngForOf"],[1,"client",3,"click"],[1,"mr-1","client-photo"],["width","35","height","35",3,"src","alt"],["class","host-marker",4,"ngIf"],[1,"client-info"],[1,"host-marker"],[1,"loader"],["class","top-button top-button--save ml-2",3,"title","disabled","click",4,"ngIf"],["class","top-button ml-2 trigger","ng-run-tooltip","Save your changes as a fork of this project",3,"disabled","click",4,"ngIf"],[1,"mr-1"],[1,"top-button","top-button--save","ml-2",3,"title","disabled","click"],["ng-run-tooltip","Save your changes as a fork of this project",1,"top-button","ml-2","trigger",3,"disabled","click"],["class","test-mode-switcher",3,"test-mode-switcher--enabled","click",4,"ngIf"],[1,"test-mode-switcher",3,"click"]],template:function(y,D){1&y&&(u.TgZ(0,"div",0),u.NdJ("click",function(){return D.toggleMenu()}),u._UZ(1,"i",1),u.qZA(),u.YNc(2,Xt,1,0,"div",2),u.ALo(3,"async"),u.TgZ(4,"a",3),u.O4$(),u.TgZ(5,"svg",4),u._UZ(6,"path",5)(7,"path",6)(8,"path",7)(9,"path",8),u.qZA(),u.kcU(),u.TgZ(10,"h1"),u._uU(11,"Angular demo"),u.qZA()(),u.YNc(12,Jo,8,6,"div",9),u.ALo(13,"async"),u.ALo(14,"async"),u.ALo(15,"async"),u.ALo(16,"async"),u.ALo(17,"async"),u.ALo(18,"async"),u.ALo(19,"async")),2&y&&(u.xp6(2),u.Q6J("ngIf",u.lcZ(3,2,D.menuOpened$)),u.xp6(10),u.Q6J("ngIf",u.Hh0(18,gi,u.lcZ(13,4,D.isLesson$),u.lcZ(14,6,D.isLessonRecording$),u.lcZ(15,8,D.loading$),u.lcZ(16,10,D.isProjectDirty$),u.lcZ(17,12,D.canEdit$),u.lcZ(18,14,D.liveService.room$),u.lcZ(19,16,D.recordState$))))},dependencies:[ot.sg,ot.O5,er.o,tr.i,In.l,Oi,jt,Jt,ot.Ov],styles:['[_ngcontent-%COMP%]:root{--color: #c7c7c7;--color-hover: #fff;--solution-tree-bg: #1d2129;--sidebar-bg: #2e3440;--header-bg: #2e3440;--logo-color: #fff;--box-header-bg: #1d2129;--box-resizer-bg: #2e3440;--box-resizer-border-left-color: rgba(255, 255, 255, .15);--box-resizer-border-right-color: rgba(0, 0, 0, .34);--tab-bg: #444446;--tab-color: #fff;--editor-action-color: #c7c7c7;--editor-action-hovered-color: #fff;--cursor-color: #fff;--tray-bg: #2978bb;--scrollbar: rgba(67, 76, 94, .6);--lineNumbers: rgba(216, 222, 233, .4);--activeLineNumber: rgba(216, 222, 233, .9);--bg: #2e3440;--foreground: #d8dee9;--comment: #67728a;--className: #8fbcbb;--functionName: #88c0d0;--decorator: #d08770;--string: #a3be8c;--keyword: #81a1c1;--tag: #81a1c1;--attr: #8fbcbb;--type: #8fbcbb;--constKeyword: #81a1c1;--consoleKeyword: #8fbcbb;--constant: #b48ead;--this: #81a1c1;--propAccess: #d8dee9;--method: #88c0d0;--param: #d8dee9;--call: #88c0d0;--brackets: #d8dee}[_nghost-%COMP%]{position:relative;z-index:2;display:flex;align-items:center;height:50px;-webkit-user-select:none;user-select:none;background-color:var(--header-bg);box-shadow:0 1px 8px #0000004d}.header--aot[_nghost-%COMP%]:before{content:"";position:absolute;top:-120px;left:-149px;width:411px;height:181px;background:url(/assets/images/ivy-top.png) 0 0/contain no-repeat}.logo[_ngcontent-%COMP%]{position:relative}.logo[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:42px}.menu[_ngcontent-%COMP%]{position:relative;display:none;min-width:46px;width:46px;height:48px;border-radius:50%;cursor:pointer}.menu-icon[_ngcontent-%COMP%], .menu-icon[_ngcontent-%COMP%]:before, .menu-icon[_ngcontent-%COMP%]:after{position:absolute;border-top:2px solid #fff}.menu-icon[_ngcontent-%COMP%]{top:19px;right:14px;left:14px}.menu-icon[_ngcontent-%COMP%]:before{content:"";top:3px;right:0;left:0}.menu-icon[_ngcontent-%COMP%]:after{content:"";top:8px;right:0;left:0}[_nghost-%COMP%]     .top-button{padding:0 20px 0 35px;outline:none;border:none;border-right:1px solid #505050;border-left:1px solid #505050;font-size:12px;line-height:30px;text-transform:uppercase;background-color:transparent;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 438.529 438.529" fill="%23c7c7c7"><path d="M349.459,52.534c-10.663-10.657-23.605-15.987-38.834-15.987c-15.222,0-28.165,5.327-38.825,15.987 c-10.656,10.657-15.984,23.598-15.984,38.828c0,9.897,2.467,19.081,7.416,27.55c4.948,8.47,11.604,15.086,19.985,19.842   c0,9.897-0.805,18.608-2.42,26.125c-1.622,7.517-4.284,14.128-7.994,19.842c-3.72,5.711-7.566,10.561-11.566,14.56   c-4.001,3.999-9.616,7.755-16.848,11.278c-7.231,3.521-13.945,6.468-20.129,8.851c-6.184,2.375-14.514,5.182-24.982,8.419   c-19.036,5.903-33.689,11.323-43.968,16.275V102.206c8.375-4.755,15.037-11.37,19.985-19.84c4.947-8.47,7.421-17.655,7.421-27.552   c0-15.225-5.327-28.169-15.987-38.826C156.073,5.332,143.132,0,127.903,0c-15.23,0-28.171,5.328-38.831,15.988   C78.416,26.645,73.085,39.589,73.085,54.814c0,9.897,2.474,19.082,7.421,27.552c4.948,8.47,11.609,15.085,19.985,19.84v234.117   c-8.376,4.753-15.037,11.375-19.985,19.842c-4.947,8.473-7.421,17.658-7.421,27.552c0,15.225,5.327,28.168,15.987,38.824   s23.604,15.988,38.831,15.988c15.226,0,28.17-5.332,38.826-15.988c10.657-10.656,15.987-23.6,15.987-38.824   c0-9.894-2.474-19.079-7.421-27.552c-4.949-8.467-11.61-15.089-19.985-19.842V328.9c0-13.131,3.949-22.645,11.847-28.544   c7.898-5.907,24.029-12.662,48.395-20.273c25.699-8.186,45.021-15.899,57.963-23.134c42.633-24.167,64.142-63.568,64.521-118.196   c8.381-4.755,15.037-11.372,19.985-19.842c4.945-8.47,7.423-17.653,7.423-27.55C365.447,76.135,360.116,63.194,349.459,52.534z    M147.321,403.138c-5.332,5.331-11.803,7.994-19.414,7.994c-7.616,0-14.087-2.663-19.417-7.994   c-5.327-5.325-7.994-11.8-7.994-19.411c0-7.617,2.664-14.085,7.994-19.417c5.33-5.328,11.801-7.994,19.417-7.994   c7.611,0,14.083,2.669,19.414,7.994c5.33,5.332,7.993,11.8,7.993,19.417C155.313,391.338,152.651,397.812,147.321,403.138z M147.321,74.232c-5.332,5.33-11.803,7.994-19.414,7.994c-7.616,0-14.087-2.664-19.417-7.994 c-5.327-5.33-7.994-11.798-7.994-19.414c0-7.614,2.664-14.087,7.994-19.412c5.33-5.329,11.801-7.994,19.417-7.994 c7.611,0,14.083,2.666,19.414,7.994c5.33,5.325,7.993,11.798,7.993,19.412C155.313,62.434,152.651,68.905,147.321,74.232z M330.042,110.779c-5.328,5.327-11.796,7.993-19.41,7.993c-7.618,0-14.09-2.666-19.414-7.993 c-5.328-5.327-7.994-11.799-7.994-19.414c0-7.614,2.666-14.083,7.994-19.414s11.796-7.993,19.414-7.993 c7.614,0,14.082,2.663,19.41,7.993c5.328,5.326,7.994,11.799,7.994,19.414C338.036,98.979,335.374,105.452,330.042,110.779z"></path></svg>\');background-position-x:14px;background-position-y:center;background-size:20px;background-repeat:no-repeat;transition:background .1s ease}[_nghost-%COMP%]     .top-button:hover{background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 438.529 438.529" fill="%23ffffff"><path d="M349.459,52.534c-10.663-10.657-23.605-15.987-38.834-15.987c-15.222,0-28.165,5.327-38.825,15.987 c-10.656,10.657-15.984,23.598-15.984,38.828c0,9.897,2.467,19.081,7.416,27.55c4.948,8.47,11.604,15.086,19.985,19.842   c0,9.897-0.805,18.608-2.42,26.125c-1.622,7.517-4.284,14.128-7.994,19.842c-3.72,5.711-7.566,10.561-11.566,14.56   c-4.001,3.999-9.616,7.755-16.848,11.278c-7.231,3.521-13.945,6.468-20.129,8.851c-6.184,2.375-14.514,5.182-24.982,8.419   c-19.036,5.903-33.689,11.323-43.968,16.275V102.206c8.375-4.755,15.037-11.37,19.985-19.84c4.947-8.47,7.421-17.655,7.421-27.552   c0-15.225-5.327-28.169-15.987-38.826C156.073,5.332,143.132,0,127.903,0c-15.23,0-28.171,5.328-38.831,15.988   C78.416,26.645,73.085,39.589,73.085,54.814c0,9.897,2.474,19.082,7.421,27.552c4.948,8.47,11.609,15.085,19.985,19.84v234.117   c-8.376,4.753-15.037,11.375-19.985,19.842c-4.947,8.473-7.421,17.658-7.421,27.552c0,15.225,5.327,28.168,15.987,38.824   s23.604,15.988,38.831,15.988c15.226,0,28.17-5.332,38.826-15.988c10.657-10.656,15.987-23.6,15.987-38.824   c0-9.894-2.474-19.079-7.421-27.552c-4.949-8.467-11.61-15.089-19.985-19.842V328.9c0-13.131,3.949-22.645,11.847-28.544   c7.898-5.907,24.029-12.662,48.395-20.273c25.699-8.186,45.021-15.899,57.963-23.134c42.633-24.167,64.142-63.568,64.521-118.196   c8.381-4.755,15.037-11.372,19.985-19.842c4.945-8.47,7.423-17.653,7.423-27.55C365.447,76.135,360.116,63.194,349.459,52.534z    M147.321,403.138c-5.332,5.331-11.803,7.994-19.414,7.994c-7.616,0-14.087-2.663-19.417-7.994   c-5.327-5.325-7.994-11.8-7.994-19.411c0-7.617,2.664-14.085,7.994-19.417c5.33-5.328,11.801-7.994,19.417-7.994   c7.611,0,14.083,2.669,19.414,7.994c5.33,5.332,7.993,11.8,7.993,19.417C155.313,391.338,152.651,397.812,147.321,403.138z M147.321,74.232c-5.332,5.33-11.803,7.994-19.414,7.994c-7.616,0-14.087-2.664-19.417-7.994 c-5.327-5.33-7.994-11.798-7.994-19.414c0-7.614,2.664-14.087,7.994-19.412c5.33-5.329,11.801-7.994,19.417-7.994 c7.611,0,14.083,2.666,19.414,7.994c5.33,5.325,7.993,11.798,7.993,19.412C155.313,62.434,152.651,68.905,147.321,74.232z M330.042,110.779c-5.328,5.327-11.796,7.993-19.41,7.993c-7.618,0-14.09-2.666-19.414-7.993 c-5.328-5.327-7.994-11.799-7.994-19.414c0-7.614,2.666-14.083,7.994-19.414s11.796-7.993,19.414-7.993 c7.614,0,14.082,2.663,19.41,7.993c5.328,5.326,7.994,11.799,7.994,19.414C338.036,98.979,335.374,105.452,330.042,110.779z"></path></svg>\')}[_nghost-%COMP%]     .top-button--save{margin-right:5px;padding-left:25px;border-right:none;color:#fff;background:#539a42;border-radius:3px}[_nghost-%COMP%]     .top-button--save:hover{background:#53a53f}[_nghost-%COMP%]     .top-button--save:disabled{background:#565658;cursor:default}[_nghost-%COMP%]     .top-button--save:disabled, [_nghost-%COMP%]     .top-button--save:disabled:hover{color:var(--color)}.loader[_ngcontent-%COMP%]{--width: 22px;--height: 22px}.test-mode-switcher[_ngcontent-%COMP%]{display:flex;position:relative;align-items:center;cursor:pointer;width:65px;height:30px;padding:0 10px;border-left:1px solid #505050}.test-mode-switcher[_ngcontent-%COMP%]:before{content:"";position:absolute;height:22px;left:13px;width:22px;transition:left .3s;border-radius:50%;top:50%;transform:translateY(-50%);box-shadow:0 2px 5px #0000004d;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAM2kwapile7g6osobryDq93A1JpFgfr1+KBOiMSRtbBunebS4NWyy5U8e/Tr8pdAfbZ4pKVYjuPL3J1KhceYudm4z+rZ5pg/fr6Ir9Gpxf7+/qxll/fw9bR0oZAydKJTi/Dk7eXQ36heksugvsmbu9/E17l+qNi2zejW48aVt9Otx+zd6MCLsdCnxJI2d9q70ZhBfqZbkK5pmvLo77Jwno4tcrh7pvjy9o8wc+DG2AAAAACZZgCZmQCZzACZ/wDMAADMMwDMZgDMmQDMzADM/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMzADMzMzMzZjMzmTMzzDMz/zNmADNmMzNmZjNmmTNmzDNm/zOZADOZMzOZZjOZmTOZzDOZ/zPMADPMMzPMZjPMmTPMzDPM/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YzAGYzM2YzZmYzmWYzzGYz/2ZmAGZmM2ZmZmZmmWZmzGZm/2aZAGaZM2aZZmaZmWaZzGaZ/2bMAGbMM2bMZmbMmWbMzGbM/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5kzAJkzM5kzZpkzmZkzzJkz/5lmAJlmM5lmZplmmZlmzJlm/5mZAJmZM5mZZpmZmZmZzJmZ/5nMAJnMM5nMZpnMmZnMzJnM/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wzAMwzM8wzZswzmcwzzMwz/8xmAMxmM8xmZsxmmcxmzMxm/8yZAMyZM8yZZsyZmcyZzMyZ/8zMAMzMM8zMZszMmczMzMzM/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8zAP8zM/8zZv8zmf8zzP8z//9mAP9mM/9mZv9mmf9mzP9m//+ZAP+ZM/+ZZv+Zmf+ZzP+Z///MAP/MM//MZv/Mmf/MzP/M////AP//M///Zv//mf//zP////ODlywAAAA8dFJOUwD/////////////////////////////////////////////////////////////////////////////ANr9ko0AAAAJcEhZcwAADsMAAA7DAcdvqGQAAAW1SURBVFhHdVfpgqI4EAZcxPaIB8z2tlGEcRlb0ZHoTrfT7/9gW1dCUOf7A1SSL3WlKgT6D7i99sPT/LpajT6H9VdPpI94TnBc7haZUsoQ4JlFp2Yqg108IRg0c1hsEh9AoopTKjN8PBAMJtH9aoFRyfyR4p6gf1VKFjyBSuJXmWjRJShj2MYB9SZ4CqmXUOYKOgTpxS2Hxdklj0/D4Wk3KpKWxKi8lOkEn2AJKjKUWsST/VrkepqG+YszTV18T3gEld1FJfnkIWbHEJwr41kjQkBLMJT1SuVfIupiXW/tlORdZB7BN0tfTETyiOlBjDRJX0SO4KddP/eytqkngOVePgFf4mb1MhaJEPwAUoD558DfjOsZg7jxZeUvYYj+YwETlExsTDfII5KqSj4Jt50w7PibCWIR8voyvNFT826WoHwf4GPwKZPZV0TQiHNl5vxDXroE8W9+WV9ZXFBCIcE6YsknCgCNMZwqHYKJyiSBeguWn/ADCZb8vXApWm22lEg+wfHlXOMT0aA4MRmGBwjWW57Xptdg9BHj0yOwIsYbD7zBKxBM+GvOY4Tji8LtPIJvohSjLNBrpoCcAYKcpiWdWgEGg34tQV+JWwQVj0DUAr3P6J0VcLucfkfTluBYnP+VAZ7CKqgrEoQ0y5AH0supzxzTyIxbgvp3TlJdTvIrJcmJhpIxEJAFsy0d/uqszIXr7x5UbjPx7yOIjvVnAZWFbElxBG0IpqwMxVRjihhlFjHXcPbOmcO4xJoCcxUdjVs0w2VzHYxxjlgwJncQRxFDTeljVTxfSv0a5q7Sq4gymmwwl0HwTi8Zqii+JcDS61Q3P+s63Ou02yfIBg5+dgwO+MKsA05yi7M9xndytuE7a5sGn+QCCuIruojEBOUiJ5lCANUoIhLIJrjSk33omwrquR7ChwVg1KyI3+nM3OgEqp/BFgdYK4RzdqJGIgJhhgIvPAiyS1XBgggoUoIehVttvOqUb6CkS4JYUJapwxMCwH+Tz9XBm72Po1NfypSFJWAThiJlrF1PcoAoUfhbWBNGZC+ebMEtPRQYlH7sCkQ4hCJebne+CestpeIyoHrKkUHxj+FWfajRAJLqnFS0aS+H1y/I/o+zDQFKbRgp+2ZbMrB/uqiPWXRIb7qPjUL9ggRtCpihtqXeh7+SzbnYTYiDTxMkUoMECZW3QfSXWVUpblty3TznupfRG7eB12Webbhmc25kZSD1hIp8jbYS5jSMFeOVexZYyyO9ZU5ngU2PdHC7kC1exQRwkQHxUK9X/G4yS06Y2mWBplZluEsIvlPmwfgK4plaFfDDgXsRlN5A17QDVWHB1G2617dBqw4fGAZ3SKgCgY0H1EcLrvogW+rxAmyTZpiY9uYgnoPoQ1nnzso1CcGlAoZhbYrE0ruhG1LZQUhnAUYg+MHmrCRVxwWmGAiglAEBnsk+CUA0klQck5PUAj6BwBZfOX2nDX6B5/CmxAS21iklNxuuMHQEkYA9auN0q+gixAdUCAa0hyrETHbrjCKHBJZwJQriRUhOhxBAa5rBDVOuTylHmVUmAgm1uyCUO+svS4CetTWjxz5VKzo/ROBsdJGuJGKOQFf2YlfydcRIN2YCW7jV213VoDB2cOT1rogxAdgo4u5NGoyzlUJg7+Mql62EgM8/Dmw799zBvvu3FPLhhmNoN7IEemKEIRl2lfAwzm1/XLie4Qh0bTgDIdyh3EK72L/J9jCjvf22BHoiN2noIMWQ6pKHaRPb5aC/99/jEeiU6xgAfnxWw/fxlFhuZVrHF/cvdPfL4hPo3rxtrtDfsiIa5fkoKvzuDgnVUa5DAKVSwsmQvy63GCXR3d/IHYE+gqnegi7AOfYe7nBPAAURKHw1LECdRfUY4UcCqP7VyvvPQ6At2ZM/McAzAkjAtMoXGbAwkiyKa1fOunhOgLgdv97Db8NDtWzSP+am1v8D/C1knnnu4z4AAAAASUVORK5CYII=);background-size:100%;z-index:1;opacity:.75}.test-mode-switcher[_ngcontent-%COMP%]:after{content:"";position:absolute;left:10px;right:10px;height:13px;background:#fff;border-radius:9px;opacity:.65}.test-mode-switcher--enabled[_ngcontent-%COMP%]:before{left:35px;opacity:1}.test-mode-switcher--enabled[_ngcontent-%COMP%]:after{opacity:1}.live-icon[_ngcontent-%COMP%]{position:relative;margin-top:4px;padding-bottom:4px}.live-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:-6px;bottom:-2px;color:#fff;font-family:Arial;font-size:9px;font-style:normal}.live-menu[_ngcontent-%COMP%]{visibility:hidden;position:absolute;top:100%;right:0;z-index:2;overflow:hidden;margin-top:8px;height:0;color:#333;background:#fff;border-radius:4px;box-shadow:0 2px 10px #0003;opacity:0;transition:opacity .1s linear,top .1s linear,visibility .1s linear,margin .1s linear;pointer-events:none}.live-icon[_ngcontent-%COMP%]:hover   .live-menu[_ngcontent-%COMP%]{visibility:visible;margin-top:0;height:auto;opacity:1;pointer-events:auto}.live-btn[_ngcontent-%COMP%]:hover     .icon{fill:#fff}.live-btn--enabled[_ngcontent-%COMP%]     .icon, .live-btn--enabled[_ngcontent-%COMP%]:hover     .icon{fill:#80e480}.client[_ngcontent-%COMP%]{display:flex;align-items:center;margin:10px 0;padding:0 15px;line-height:35px;white-space:nowrap}.client[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:unset}.client[_ngcontent-%COMP%]:hover{background:#f3f3f3}.client-photo[_ngcontent-%COMP%]{position:relative}.client-photo[_ngcontent-%COMP%]   .host-marker[_ngcontent-%COMP%]{position:absolute;bottom:100%;left:100%;margin-bottom:-6px;margin-left:-10px;padding:0 5px;color:#fff;font-size:10px;line-height:13px;background:#2978bb;border-radius:5px}.client-info[_ngcontent-%COMP%]{flex-shrink:0}@media (max-width: 500px){h1[_ngcontent-%COMP%]{display:none}}@media (max-width: 960px){.menu[_ngcontent-%COMP%]{display:block}}'],changeDetection:0})}}return $})();var vr=O(5608);function ri($,ye){if(1&$&&(u.TgZ(0,"option",4),u._uU(1),u.qZA()),2&$){const g=ye.$implicit,y=u.oxw();u.Q6J("value",g)("selected",y.version===g),u.xp6(1),u.Oqu(g)}}let Ni=(()=>{class ${constructor(g,y,D,N){this.projectService=g,this.projectStore=y,this.monacoStore=D,this.editorWorker=N,this.versionChanged=new u.vpe}ngOnInit(){document.querySelector("ng-run-sidebar").addEventListener("mouseenter",()=>{this.projectService.getVersions(this.depName).then(g=>{this.versions=g,(0,u.FYj)(this)})},{once:!0})}changeVersion(g){const y={name:this.depName,version:g,prevVersion:this.version};if(this.depName.startsWith("@angular")&&parseInt(g,10)>7){const D=[],N=this.projectStore.state.dependencies;if(Object.keys(N).forEach(X=>{if(!X.startsWith("@angular"))return;const _e={name:X,version:g,prevVersion:N[X].version};D.push(_e),this.monacoStore.clearExportsFor(X),this.monacoStore.disposeExtraLibsForPackage(X),this.projectStore.updateDep(_e)}),!D.length)return;return this.editorWorker.installState$.next(D.map(X=>`${X.name}@${X.version}`)),void this.editorWorker.post({type:"UPDATE_DEPS",payload:{aot:!!this.projectStore.state.aot&&this.projectStore.getAotVersion(),deps:D}})}this.editorWorker.installState$.next([`${this.depName}@${g}`]),this.monacoStore.clearExportsFor(this.depName),this.monacoStore.disposeExtraLibsForPackage(this.depName),this.projectStore.updateDep(y),this.editorWorker.post({type:"UPDATE_DEPS",payload:{aot:!!this.projectStore.state.aot&&this.projectStore.getAotVersion(),deps:[y]}})}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(vr.Y4),u.Y36(we.Uf),u.Y36(Wt),u.Y36(Ne))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-dependency-resolver"]],inputs:{depName:"depName",version:"version"},outputs:{versionChanged:"versionChanged"},decls:5,vars:2,consts:[[1,"d-flex"],[1,"dependency-versions",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[1,"dependency-version"],[3,"value","selected"]],template:function(y,D){1&y&&(u.TgZ(0,"label",0)(1,"select",1),u.NdJ("change",function(X){return D.changeVersion(X.target.value)}),u.YNc(2,ri,2,3,"option",2),u.qZA(),u.TgZ(3,"span",3),u._uU(4),u.qZA()()),2&y&&(u.xp6(2),u.Q6J("ngForOf",D.versions),u.xp6(2),u.Oqu(D.version))},dependencies:[ot.sg],styles:["[_ngcontent-%COMP%]:root{--color: #c7c7c7;--color-hover: #fff;--solution-tree-bg: #1d2129;--sidebar-bg: #2e3440;--header-bg: #2e3440;--logo-color: #fff;--box-header-bg: #1d2129;--box-resizer-bg: #2e3440;--box-resizer-border-left-color: rgba(255, 255, 255, .15);--box-resizer-border-right-color: rgba(0, 0, 0, .34);--tab-bg: #444446;--tab-color: #fff;--editor-action-color: #c7c7c7;--editor-action-hovered-color: #fff;--cursor-color: #fff;--tray-bg: #2978bb;--scrollbar: rgba(67, 76, 94, .6);--lineNumbers: rgba(216, 222, 233, .4);--activeLineNumber: rgba(216, 222, 233, .9);--bg: #2e3440;--foreground: #d8dee9;--comment: #67728a;--className: #8fbcbb;--functionName: #88c0d0;--decorator: #d08770;--string: #a3be8c;--keyword: #81a1c1;--tag: #81a1c1;--attr: #8fbcbb;--type: #8fbcbb;--constKeyword: #81a1c1;--consoleKeyword: #8fbcbb;--constant: #b48ead;--this: #81a1c1;--propAccess: #d8dee9;--method: #88c0d0;--param: #d8dee9;--call: #88c0d0;--brackets: #d8dee}  .dependency-item:hover .dependency-versions{opacity:1}.dependency-versions[_ngcontent-%COMP%]{display:block;opacity:0;width:50px;font-size:12px;font-family:sans-serif;font-weight:700;color:#444;line-height:1;padding:0 16px 0 4px;max-width:100%;box-sizing:border-box;margin:0;box-shadow:0 1px 0 1px #0000000a;border-radius:.5em;appearance:none;background-color:#fff;background-image:url(data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23007CB2%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E),linear-gradient(to bottom,#ffffff 0%,#e5e5e5 100%);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%;border:0}.dependency-versions[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked{color:#fff;background:#22596f}.dependency-versions[_ngcontent-%COMP%]:focus{outline:none}.dependency-versions[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{font-weight:400}.dependency-version[_ngcontent-%COMP%]{margin-left:5px;padding:0 5px;border-radius:5px;background:var(--sidebar-bg)}"],changeDetection:0})}}return $})();var Do=O(4665),to=O(5083);const ci=["newItemControl"],Wi=["dropdown"];function Ls($,ye){1&$&&u._UZ(0,"i",6)}function Qs($,ye){if(1&$&&u._UZ(0,"ng-run-icon",9),2&$){const g=u.oxw(2);u.Q6J("name","arrow-"+(g.opened?"down":"right"))}}function ui($,ye){if(1&$&&(u.ynx(0),u._UZ(1,"ng-run-icon",7),u.YNc(2,Qs,1,1,"ng-run-icon",8),u.BQk()),2&$){const g=u.oxw();u.xp6(1),u.Q6J("name",g.opened?"opened-folder":"folder"),u.xp6(1),u.Q6J("ngIf",!g.newItem&&!g.editMode)}}function Xo($,ye){if(1&$&&u._UZ(0,"ng-run-icon",11),2&$){const g=u.oxw(2);u.Q6J("name",g.extension||"")}}function ws($,ye){if(1&$&&u.YNc(0,Xo,1,1,"ng-run-icon",10),2&$){const g=u.oxw();u.Q6J("ngIf","ts"!==g.extension)}}function ms($,ye){if(1&$){const g=u.EpF();u.ynx(0),u.TgZ(1,"input",12,13),u.NdJ("keyup.enter",function(D){u.CHM(g);const N=u.oxw();return u.KtG(N.updateItem(D.target))})("keydown.escape",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.deleteItem())}),u.qZA(),u.TgZ(3,"div",14),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.deleteItem())}),u.qZA(),u.BQk()}if(2&$){const g=u.oxw();u.xp6(1),u.Q6J("value",g.editMode?g.item.name:"")}}function _s($,ye){if(1&$&&u._uU(0),2&$){const g=u.oxw();u.Oqu(g.item.name)}}function So($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",29),u.NdJ("click",function(){const N=u.CHM(g).$implicit;u.oxw();const X=u.MAs(2);return u.oxw(2).openCliGenerator(N),u.KtG(X.close())}),u._uU(1),u.qZA()}if(2&$){const g=ye.$implicit;u.xp6(1),u.hij(" ",g," ")}}const bs=function(){return["Component","Directive","Module","Service","Pipe"]};function no($,ye){if(1&$){const g=u.EpF();u.ynx(0),u.TgZ(1,"ng-run-dropdown-menu",19,20)(3,"div",21),u.O4$(),u.TgZ(4,"svg",22),u._UZ(5,"use",23),u.qZA()(),u.kcU(),u.TgZ(6,"div"),u.YNc(7,So,2,1,"div",24),u.qZA()(),u.TgZ(8,"div",25),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.addItem("file"))}),u.O4$(),u.TgZ(9,"svg"),u._UZ(10,"use",26),u.qZA()(),u.kcU(),u.TgZ(11,"div",27),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.addItem("folder"))}),u.O4$(),u.TgZ(12,"svg"),u._UZ(13,"use",28),u.qZA()(),u.BQk()}2&$&&(u.xp6(7),u.Q6J("ngForOf",u.DdM(1,bs)))}function ys($,ye){if(1&$){const g=u.EpF();u.O4$(),u.TgZ(0,"svg",30),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.editItem())}),u._UZ(1,"use",31),u.qZA()}}function ho($,ye){if(1&$){const g=u.EpF();u.O4$(),u.TgZ(0,"svg",32),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.deleteItem())}),u._UZ(1,"use",33),u.qZA()}}function vs($,ye){if(1&$&&(u.TgZ(0,"div",15),u.NdJ("mousedown",function(y){return y.stopPropagation()}),u.ALo(1,"async"),u.YNc(2,no,14,2,"ng-container",16),u.YNc(3,ys,2,0,"svg",17),u.YNc(4,ho,2,0,"svg",18),u.qZA()),2&$){const g=u.oxw();u.ekj("solution-actions--opened",g.dropdown&&u.lcZ(1,5,g.dropdown.opened)),u.xp6(2),u.Q6J("ngIf",g.isFolder),u.xp6(1),u.Q6J("ngIf",g.canDelete),u.xp6(1),u.Q6J("ngIf",g.canDelete)}}let Ci=(()=>{class ${get className(){return`solution-tree-item ${this.item.type}${this.isSelected?" selected":""}${this.opened?" opened":""}`}onClick(g){if(!this.editMode&&!this.newItem&&3!==g.which){if(this.item.type!==we.Wz.Folder)return this.projectStore.selectFile(this.item.fullPath),void this.cdRef.markForCheck();this.opened=!this.opened,this.cdRef.markForCheck()}}constructor(g,y,D,N,X){this.playgroundStore=g,this.projectStore=y,this.editorWorker=D,this.monacoStore=N,this.cdRef=X,this.opened=!1,this.isFailed$=this.editorWorker.errorInfo$.pipe((0,vt.U)(_e=>!(!_e.file||_e.file!==this.item.fullPath)),(0,to.x)()),this.actionsOpened$=new re.X(!1),this.supportedExtensions=["css","scss","ts","html"],this.isDirty$=this.projectStore.select(_e=>_e.files[this.item.fullPath].dirty),this.destroyed$=new se.xQ}ngOnInit(){this.canDelete=-1===["main.ts","index.html","styles.css","app","index.ts"].indexOf(this.item.fullPath),this.isFolder=this.item.type===we.Wz.Folder,!this.isFolder&&this.item.name&&(this.extension=this.item.name.substr(this.item.name.lastIndexOf(".")+1)),this.newItem=""===this.item.name,this.isFolder&&0===this.projectStore.state.selectedFile.indexOf(this.item.fullPath)&&(this.opened=!0),this.projectStore.select(y=>y.selectedFile).pipe((0,Ge.R)(this.destroyed$)).subscribe(y=>{const D=this.item.fullPath===y,N=this.isFolder&&0===y.indexOf(this.item.fullPath);(this.isSelected!==D||this.opened!==N)&&(this.isSelected=D,this.opened=N||this.opened,this.cdRef.markForCheck())})}ngAfterViewInit(){this.newItem&&this.newItemControl.nativeElement.focus()}openCliGenerator(g){this.playgroundStore.useSchematic({command:g,path:this.item.fullPath}),this.actionsOpened$.next(!1)}addItem(g){this.opened=!0,this.projectStore.addItem({key:this.item.fullPath+"/",value:{name:"",type:g,contents:""}}),(0,u.FYj)(this)}editItem(){this.editMode=!0,(0,u.FYj)(this),this.newItemControl.nativeElement.focus(),this.newItemControl.nativeElement.setSelectionRange(0,this.newItemControl.nativeElement.value.length)}updateItem(g){const y=this.newItemControl.nativeElement.value,D=this.item.fullPath.endsWith("/")?this.item.fullPath:this.item.fullPath.substring(0,this.item.fullPath.length-this.item.name.length),N=this.validate(y,D,this.isFolder);if(N)return void this.openError(N,g);this.editMode=!1,this.closeError();const X={add:{},remove:[]},_e=this.projectStore.state.files;X.remove.push(this.item.fullPath),this.monacoStore.deleteSolutionItem(this.item),this.isFolder&&Object.keys(_e).forEach(St=>{if(0===St.indexOf(this.item.fullPath+"/")){X.remove.push(St),this.monacoStore.deleteSolutionItem(Object.assign(_e[St],{fullPath:St}));const qt={..._e[St]};qt.fullPath=qt.fullPath.replace(this.item.fullPath,D+y),X.add[qt.fullPath]=qt}});const Fe=this.item,qe=this.item.fullPath;Fe.name=y,Fe.fullPath=D+y,X.add[Fe.fullPath]=Fe,this.monacoStore.addFiles(X.add),this.projectStore.merge(X),this.newItem||this.editorWorker.updateDecorators(Object.keys(X.add).reduce((St,qt)=>(qt.endsWith(".ts")&&(St[qt]=X.add[qt]),St),{}));let Ke=Fe.fullPath;if(this.isFolder){const St=this.projectStore.state.selectedFile;0===St.indexOf(qe+"/")&&(Ke=St.replace(qe,Fe.fullPath))}this.projectStore.selectFile(Ke),this.editorWorker.change(X)}deleteItem(){if(this.editMode)return this.editMode=!1,this.closeError(),void(0,u.FYj)(this);if(this.newItem||confirm(`Are you sure you want to delete ${this.item.fullPath} ${this.isFolder?"folder":"file"}?`)){const y={add:{},remove:[]},D=this.projectStore.state.files;this.isFolder&&Object.keys(D).forEach(N=>{0===N.indexOf(this.item.fullPath+"/")&&(y.remove.push(N),this.monacoStore.deleteSolutionItem(Object.assign(D[N],{fullPath:N})))}),y.remove.push(this.item.fullPath),this.editorWorker.change(y),this.projectStore.deleteItem(this.item),this.monacoStore.deleteSolutionItem(this.item),(!this.isFolder&&this.item.fullPath===this.projectStore.state.selectedFile||this.isFolder&&this.projectStore.state.selectedFile.startsWith(this.item.fullPath))&&this.projectStore.selectFile(this.projectStore.state.selectedFile.endsWith(".html")?"index.html":"main.ts")}}ngOnDestroy(){this.closeError(),this.destroyed$.next()}openError(g,y){const D=document.createElement("div");D.className="solution-tree-item__error",D.textContent=g;const{top:N,left:X}=y.getBoundingClientRect();D.style.top=N+"px",D.style.left=X+y.clientWidth+"px",document.body.appendChild(D),this.errorElem=D,(0,u.FYj)(this)}closeError(){this.errorElem&&(document.body.removeChild(this.errorElem),this.errorElem=null,(0,u.FYj)(this))}validate(g,y,D){if(!g||!g.trim())return"Please enter name.";const N="Please consider another name.";return this.projectStore.state.files[y+g]?"There is already file with such name! "+N:/[a-z0-9\-]+$/i.test(g)?D&&g.indexOf(".")>-1?"Sorry, using '.' character is forbidden for folders. "+N:D||this.supportedExtensions.includes(g.split(".").pop())?void 0:`Sorry, we only support ${this.supportedExtensions.join(", ")} extensions. `+N:"Sorry, only alphanumeric values and '-' are allowed! "+N}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.$m),u.Y36(we.Uf),u.Y36(Ne),u.Y36(Wt),u.Y36(u.sBO))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-solution-tree-item"]],viewQuery:function(y,D){if(1&y&&(u.Gf(ci,5),u.Gf(Wi,5)),2&y){let N;u.iGM(N=u.CRH())&&(D.newItemControl=N.first),u.iGM(N=u.CRH())&&(D.dropdown=N.first)}},hostVars:2,hostBindings:function(y,D){1&y&&u.NdJ("mousedown",function(X){return D.onClick(X)}),2&y&&u.Tol(D.className)},inputs:{item:"item"},decls:11,vars:13,consts:[[1,"solution-tree-item__name",3,"ngClass"],["class","item-dirty",4,"ngIf"],[4,"ngIf","ngIfElse"],["fileIconTmpl",""],["inline",""],["class","solution-actions",3,"solution-actions--opened","mousedown",4,"ngIf"],[1,"item-dirty"],[1,"icon-folder",3,"name"],["class","icon-arrow",3,"name",4,"ngIf"],[1,"icon-arrow",3,"name"],["class","icon-file","width","15","height","15",3,"name",4,"ngIf"],["width","15","height","15",1,"icon-file",3,"name"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"solution-tree-item__input",3,"value","keyup.enter","keydown.escape"],["newItemControl",""],[1,"solution-tree-item__blocker",3,"click"],[1,"solution-actions",3,"mousedown"],[4,"ngIf"],["class","icon-edit",3,"click",4,"ngIf"],["class","icon-delete",3,"click",4,"ngIf"],["align","left"],["dropdown",""],["menuTrigger","","title","CLI Generator",1,"cli-trigger"],[1,"ng-icon"],["href","#angular"],["class","option-item",3,"click",4,"ngFor","ngForOf"],["title","New File",1,"icon-add-file",3,"click"],["href","#icon-add-file"],["title","New Folder",1,"icon-add-folder",3,"click"],["href","#icon-add-folder"],[1,"option-item",3,"click"],[1,"icon-edit",3,"click"],[0,"xlink","href","#icon-pencil"],[1,"icon-delete",3,"click"],[0,"xlink","href","#icon-delete"]],template:function(y,D){if(1&y&&(u.TgZ(0,"span",0),u.ALo(1,"async"),u.YNc(2,Ls,1,0,"i",1),u.ALo(3,"async"),u.YNc(4,ui,3,2,"ng-container",2),u.YNc(5,ws,1,1,"ng-template",null,3,u.W1O),u.YNc(7,ms,4,1,"ng-container",2),u.YNc(8,_s,1,1,"ng-template",null,4,u.W1O),u.qZA(),u.YNc(10,vs,5,7,"div",5)),2&y){const N=u.MAs(6),X=u.MAs(9);u.ekj("solution-tree-item--failed",u.lcZ(1,9,D.isFailed$)),u.Q6J("ngClass",D.extension),u.xp6(2),u.Q6J("ngIf",u.lcZ(3,11,D.isDirty$)),u.xp6(2),u.Q6J("ngIf",D.isFolder)("ngIfElse",N),u.xp6(3),u.Q6J("ngIf",D.newItem||D.editMode)("ngIfElse",X),u.xp6(3),u.Q6J("ngIf",!D.newItem&&!D.editMode)}},dependencies:[ot.mk,ot.sg,ot.O5,zt.N,er.o,ot.Ov],styles:['@charset "UTF-8";  .solution-tree-item{display:flex;-webkit-user-select:none;user-select:none;position:relative;padding:0 10px 0 1000px;margin-left:-1000px;align-items:center;justify-content:space-between;cursor:pointer}  .solution-tree-item:hover{background:#34393c}  .solution-tree-item:hover .solution-actions{background:#34393c}  .solution-tree-item.selected{background:#22596f;color:#f3f3f3}  .solution-tree-item.selected:hover .solution-actions{background:#22596f}  .solution-tree-item__name{display:flex;width:100%;position:relative;padding-left:37px;font-size:13px;line-height:28px;height:28px;white-space:nowrap;align-items:center}  .item-dirty:before{content:"\\25cf";position:absolute;top:50%;left:0;transform:translateY(-50%)}  .solution-tree-item--failed:after{content:"";position:absolute;left:0;background:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 90"><path d="M0,90 50,0 100,90" fill="%23FFC107"></path><line x1="50" y1="32" x2="50" y2="60" stroke="%23212121" stroke-width="9"></line><circle r="5" cx="50" cy="75" fill="%23212121" /></svg>\');width:14px;height:14px;top:50%;transform:translateY(-50%)}  .solution-tree-item__input{border:none;color:#fff;padding:0 3px;line-height:18px;background:#3e3e39;z-index:11;position:relative;width:calc(100% - 15px)}  .icon-add-file,   .icon-add-folder{cursor:pointer;position:relative;padding:0 7px 0 3px;line-height:normal}  .icon-add-folder   svg{width:14px;height:14px;fill:#afb0b3}  .solution-tree-item .icon-edit,   .icon-delete{display:inline-block}  .icon-add-folder svg{width:14px;height:14px;fill:#afb0b3}  .cli-generator-input{position:fixed;top:30%;left:50%;z-index:100;transform:translate(-50%,-50%)}  .cli-generator-input input{position:relative;line-height:32px;padding:0 10px;width:400px;font-size:16px}  .cli-trigger{display:flex;align-items:center;margin-right:2px}  .ng-icon{width:20px;height:21px;opacity:.8}  .ng-icon:hover{opacity:1}  .icon-add-file svg{width:10px;height:12px;stroke:#afb0b3}  .icon-edit,   .icon-delete{fill:#afb0b3;width:12px;height:12px;cursor:pointer;stroke:#afb0b3}  .icon-edit{margin:0 5px}  .icon-add-folder:before,   .icon-add-file:before{content:"+";position:absolute;color:#1aa01a;right:0;bottom:6px;font-size:14px;font-weight:700;font-family:Arial;line-height:0}  .icon-add-file:hover:before,   .icon-add-folder:hover:before{color:#25d625}  .solution-explorer:hover .solution-title .icon-add-file,   .solution-explorer:hover .solution-title .icon-add-folder{display:block}  .icon-delete:hover,   .icon-edit:hover,   .icon-add-file:hover svg,   .icon-add-folder:hover svg{fill:#d6d6d6;stroke:#d6d6d6}  .solution-actions{display:none;position:absolute;top:0;right:0;bottom:0;padding:0 10px;align-items:center;justify-content:space-between}  .solution-title>.solution-tree-item__input,   .icon-folder+.solution-tree-item__input{width:100%}  .solution-title>.solution-tree-item__input{font-size:14px;font-family:inherit}  .solution-tree-item__blocker{position:fixed;inset:0;z-index:10;background:rgba(0,0,0,.5)}  .solution-tree{display:block;background:var(--solution-tree-bg);padding:10px 0 10px 5px}  .solution-tree-item__error{position:absolute;left:100%;top:10px;z-index:12;padding:10px;background:#cc441a;color:#fff;line-height:24px;font-size:13px;margin-left:8px;margin-top:-10px;border-radius:8px}  .solution-tree-item__error:before{content:"";position:absolute;width:0;height:0;left:-16px;border:8px solid transparent;border-right-color:#cc441a;top:10px}  .solution-tree-item.file .solution-tree-item__name{padding-left:19px}  .solution-tree-item__name:after{position:absolute}  .solution-tree-item__name .icon-folder{position:absolute;top:50%;width:17px;height:15px;left:16px;transform:translateY(-50%)}  .solution-tree-item__name .icon-folder svg{fill:#ecb81c}  .solution-tree-item__name .icon-file{width:15px;height:15px;position:relative;vertical-align:top;left:-3px}  .solution-tree-item.folder .icon-arrow{position:absolute;width:14px;height:14px;left:0;top:50%;transform:translateY(-50%)}  .solution-tree-item.file .solution-tree-item__name.ts:before{content:"TS";color:#95c9de;margin-right:3px;font-size:10px;position:relative;left:-2px}  .solution-tree-item.folder+ng-run-solution-tree{display:none}  .solution-tree-item.folder.opened+ng-run-solution-tree{display:block;padding-left:20px}  .solution-tree-item .icon-add-file,   .solution-tree-item .icon-add-folder{margin-right:2px;top:1px}  .solution-tree-item ng-run-menu{margin-right:2px}  .solution-tree-item ng-run-menu .animated-menu{left:0;right:auto}  .solution-tree-item:hover .solution-actions,   .solution-actions--opened{display:flex}  .solution-tree-item ng-run-menu.opened{display:inline-block}.option-item[_ngcontent-%COMP%]{line-height:34px;padding:0 15px}.option-item[_ngcontent-%COMP%]:hover{background:#f3f3f3}'],changeDetection:0})}}return $})();function Zi($,ye){if(1&$&&(u.ynx(0),u._UZ(1,"ng-run-solution-tree-item",1)(2,"ng-run-solution-tree",2),u.BQk()),2&$){const g=ye.$implicit,y=u.oxw();u.xp6(1),u.Q6J("item",g),u.xp6(1),u.Q6J("curItem",g)("files",y.files)}}let Bo=(()=>{class ${ngOnChanges(){this.items=this.files.filter(this.curItem?this.filter.bind(this):this.rootFilter).sort((g,y)=>g.type!==y.type?g.type===we.Wz.Folder?-1:1:g.fullPath<y.fullPath?-1:g.fullPath>y.fullPath?1:0)}trackByFn(g,y){return y.fullPath}rootFilter(g){return 1===g.fullPath.split("/").length}filter(g){if(g.fullPath.startsWith(this.curItem.fullPath)){const y=g.fullPath.split("/"),D=this.curItem.fullPath.split("/");return y.length===D.length+1&&D[D.length-1]===y[y.length-2]}}static{this.\u0275fac=function(y){return new(y||$)}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-solution-tree"]],inputs:{curItem:"curItem",files:"files"},features:[u.TTD],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[3,"item"],[3,"curItem","files"]],template:function(y,D){1&y&&u.YNc(0,Zi,3,3,"ng-container",0),2&y&&u.Q6J("ngForOf",D.items)("ngForTrackBy",D.trackByFn)},dependencies:[ot.sg,Ci,$],encapsulation:2,changeDetection:0})}}return $})();function es($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",2)(1,"div",3),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.deleteProject())}),u._uU(2," Delete project "),u.O4$(),u.TgZ(3,"svg",4),u._UZ(4,"use",5),u.qZA()()()}}let xo=(()=>{class ${constructor(g,y,D){this.projectStore=g,this.notificationService=y,this.location=D,this.files$=this.projectStore.select(N=>Object.keys(N.files).reduce((X,_e)=>(N.files[_e].fullPath=_e,X.push(N.files[_e]),X),[])),this.canEdit$=this.projectStore.canEdit$}deleteProject(){const g=this.projectStore.state;confirm(`Are you sure you want to delete project: "${g.title}"?`)&&this.projectStore.deleteProject(g.id).then(()=>{this.notificationService.notify({type:"success",message:"Project has been successfully deleted"}),this.location.go("/"),location.reload()}).catch(D=>{this.notificationService.notify({type:"error",message:D.message})})}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf),u.Y36(B.gq),u.Y36(ot.Ye))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-solution-explorer"]],decls:4,vars:6,consts:[[1,"solution-tree",3,"files"],["class","project-actions",4,"ngIf"],[1,"project-actions"],[1,"flex-y-center","trigger",3,"click"],[1,"icon-delete","ml-1"],[0,"xlink","href","#icon-delete"]],template:function(y,D){1&y&&(u._UZ(0,"ng-run-solution-tree",0),u.ALo(1,"async"),u.YNc(2,es,5,0,"div",1),u.ALo(3,"async")),2&y&&(u.Q6J("files",u.lcZ(1,2,D.files$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(3,4,D.canEdit$)))},dependencies:[ot.O5,Bo,ot.Ov],styles:["[_nghost-%COMP%]{display:block}.project-actions[_ngcontent-%COMP%]{margin-top:5px;padding:10px;font-size:12px}"],changeDetection:0})}}return $})();var rn=O(4791);function cr($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"ng-run-checkbox",3),u.NdJ("change",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.toggleAot())}),u.ALo(1,"async"),u.qZA()}if(2&$){const g=u.oxw();u.Q6J("checked",u.lcZ(1,1,g.aotEnabled$))}}function dr($,ye){1&$&&(u.TgZ(0,"span",8),u._uU(1,"Only for ng >=9"),u.qZA())}let kr=(()=>{class ${constructor(g,y,D,N,X){this.projectStore=g,this.editorWorker=y,this.monacoStore=D,this.playgroundStore=N,this.liveService=X,this.ngVersion$=this.projectStore.ngVersion$,this.aotEnabled$=this.projectStore.aotEnabled$,this.vimEnabled$=this.projectStore.vimEnabled$,this.recording$=this.projectStore.recording$,this.reloadMode$=this.playgroundStore.reloadMode$}toggleAot(){this.projectStore.toggleAotStatus();const g=this.projectStore.state.dependencies,y=[];Object.keys(g).forEach(D=>{D.startsWith("@angular")&&(y.push({name:D,version:g[D].version,prevVersion:g[D].version}),this.monacoStore.clearExportsFor(D),this.monacoStore.disposeExtraLibsForPackage(D))}),this.editorWorker.installState$.next(y.map(D=>`${D.name}@${D.version}`)),this.editorWorker.post({type:"UPDATE_DEPS",payload:{aot:!!this.projectStore.state.aot&&this.projectStore.getAotVersion(),deps:y,force:!0,files:this.projectStore.state.files}})}toggleVim(){this.projectStore.toggleVimMode()}toggleRecording(){this.projectStore.toggleRecording()}setReloadMode(g){this.playgroundStore.setReloadMode(g.target.value)}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf),u.Y36(Ne),u.Y36(Wt),u.Y36(we.$m),u.Y36(un))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-solution-settings"]],decls:23,vars:16,consts:[[1,"d-flex","align-items-center","no-wrap","mb-2","setting"],["class","ml-auto",3,"checked","change",4,"ngIf","ngIfElse"],["notSupportedTmpl",""],[1,"ml-auto",3,"checked","change"],[1,"d-flex","align-items-center","no-wrap","setting"],[1,"ml-auto",3,"disabled","value","change"],["value","edit"],["value","save"],[1,"ml-auto"]],template:function(y,D){if(1&y&&(u.TgZ(0,"div",0),u._uU(1," Ivy AOT "),u.YNc(2,cr,2,3,"ng-run-checkbox",1),u.ALo(3,"async"),u.YNc(4,dr,2,0,"ng-template",null,2,u.W1O),u.qZA(),u.TgZ(6,"div",0),u._uU(7," Vim mode "),u.TgZ(8,"ng-run-checkbox",3),u.NdJ("change",function(){return D.toggleVim()}),u.ALo(9,"async"),u.qZA()(),u.TgZ(10,"div",0),u._uU(11," Recording "),u.TgZ(12,"ng-run-checkbox",3),u.NdJ("change",function(){return D.toggleRecording()}),u.ALo(13,"async"),u.qZA()(),u.TgZ(14,"label",4),u._uU(15," Reload mode "),u.TgZ(16,"select",5),u.NdJ("change",function(X){return D.setReloadMode(X)}),u.ALo(17,"async"),u.ALo(18,"async"),u.TgZ(19,"option",6),u._uU(20,"Edit"),u.qZA(),u.TgZ(21,"option",7),u._uU(22,"Save"),u.qZA()()()),2&y){const N=u.MAs(5);u.xp6(2),u.Q6J("ngIf",u.lcZ(3,6,D.ngVersion$)>8)("ngIfElse",N),u.xp6(6),u.Q6J("checked",u.lcZ(9,8,D.vimEnabled$)),u.xp6(4),u.Q6J("checked",u.lcZ(13,10,D.recording$)),u.xp6(4),u.Q6J("disabled",u.lcZ(17,12,D.liveService.roomId$))("value",u.lcZ(18,14,D.reloadMode$))}},dependencies:[ot.O5,rn.b,ot.Ov],styles:["[_nghost-%COMP%]{display:block;padding:10px;font-size:12px;background:#1d2129}.setting[_ngcontent-%COMP%]:hover{color:#fff}"]})}}return $})();const Fr=["editTitleControl"];function li($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"ng-run-icon",9),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(3);return u.KtG(D.editTitle())}),u.qZA()}}function Cs($,ye){if(1&$&&(u.TgZ(0,"div",7),u._uU(1),u.YNc(2,li,1,0,"ng-run-icon",8),u.ALo(3,"async"),u.qZA()),2&$){const g=u.oxw().ngIf,y=u.oxw();u.xp6(1),u.hij(" ",g.title," "),u.xp6(1),u.Q6J("ngIf",u.lcZ(3,2,y.canEdit$))}}function Bn($,ye){if(1&$&&(u.TgZ(0,"div",14),u._uU(1),u.qZA()),2&$){const g=ye.ngIf;u.xp6(1),u.Oqu(g)}}function fo($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"input",10,11),u.NdJ("keyup.enter",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.updateTitle())})("keydown.escape",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.editMode$.next(!1))}),u.qZA(),u.TgZ(2,"div",12),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.editMode$.next(!1))}),u.qZA(),u.YNc(3,Bn,2,1,"div",13),u.ALo(4,"async")}if(2&$){const g=u.oxw().ngIf,y=u.oxw();u.Q6J("value",g.title),u.xp6(3),u.Q6J("ngIf",u.lcZ(4,2,y.error$))}}function qi($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",2),u.YNc(1,Cs,4,4,"div",3),u.ALo(2,"async"),u.YNc(3,fo,5,4,"ng-template",null,4,u.W1O),u.TgZ(5,"div",5),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.settingsOpened$.next(!D.settingsOpened$.value))}),u._UZ(6,"ng-run-icon",6),u.qZA()()}if(2&$){const g=u.MAs(4),y=u.oxw();u.xp6(1),u.Q6J("ngIf",!u.lcZ(2,2,y.editMode$))("ngIfElse",g)}}function Kn($,ye){1&$&&u._UZ(0,"ng-run-solution-settings")}let bt=(()=>{class ${constructor(g){this.projectStore=g,this.project$=this.projectStore.state$,this.canEdit$=this.projectStore.canEdit$,this.error$=new re.X(null),this.editMode$=new re.X(!1),this.settingsOpened$=new re.X(!1)}editTitle(){this.error$.next(""),this.editMode$.next(!0),this.editTitleControl.nativeElement.focus(),this.editTitleControl.nativeElement.setSelectionRange(0,this.editTitleControl.nativeElement.value.length)}updateTitle(){const g=this.editTitleControl.nativeElement.value.trim(),y=this.validate(g);y?this.error$.next(y):(this.editMode$.next(!1),this.projectStore.setTitle(g))}validate(g){return g?/[a-z0-9\-]+$/i.test(g)?g.length>100?"Please enter a Title that is less than 100 characters long":void 0:"Sorry, only alphanumeric values and '-' are allowed! Please consider another title.":"Please enter title."}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-solution-title"]],viewQuery:function(y,D){if(1&y&&u.Gf(Fr,5),2&y){let N;u.iGM(N=u.CRH())&&(D.editTitleControl=N.first)}},decls:4,vars:6,consts:[["class","flex-y-center title p-2",4,"ngIf"],[4,"ngIf"],[1,"flex-y-center","title","p-2"],["class","flex-y-center flex-1",4,"ngIf","ngIfElse"],["editTmpl",""],["ng-run-tooltip","App settings",1,"icon-settings-btn","trigger",3,"click"],["name","settings","height","16","width","16",1,"icon-settings"],[1,"flex-y-center","flex-1"],["class","icon-edit ml-2","name","pencil",3,"click",4,"ngIf"],["name","pencil",1,"icon-edit","ml-2",3,"click"],["autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"solution-tree-item__input",3,"value","keyup.enter","keydown.escape"],["editTitleControl",""],[1,"solution-tree-item__blocker",3,"click"],["class","solution-tree-item__error",4,"ngIf"],[1,"solution-tree-item__error"]],template:function(y,D){1&y&&(u.YNc(0,qi,7,4,"div",0),u.ALo(1,"async"),u.YNc(2,Kn,1,0,"ng-run-solution-settings",1),u.ALo(3,"async")),2&y&&(u.Q6J("ngIf",u.lcZ(1,2,D.project$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(3,4,D.settingsOpened$)))},dependencies:[ot.O5,er.o,tr.i,kr,ot.Ov],styles:[".title[_ngcontent-%COMP%]{display:flex;font-size:14px;line-height:20px;color:#fff;justify-content:space-between}.icon-edit[_ngcontent-%COMP%]{fill:#afb0b3;width:12px;height:12px;cursor:pointer;stroke:#afb0b3}"]})}}return $})();const Kt=["newItemControl"];function ir($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"li",4)(1,"a",5),u._uU(2),u.qZA(),u.O4$(),u.TgZ(3,"svg",6),u.NdJ("click",function(){const N=u.CHM(g).$implicit,X=u.oxw();return u.KtG(X.deleteSource(N))}),u._UZ(4,"use",7),u.qZA()()}if(2&$){const g=ye.$implicit;u.xp6(1),u.Q6J("href",g,u.LSH)("title",g),u.xp6(1),u.Oqu(g.split("/").pop())}}let Lr=(()=>{class ${constructor(g){this.projectStore=g,this.resources$=this.projectStore.externalResources$,this.supportedExtensions=["css","js"]}addSource(){const g=this.newItemControl.nativeElement.value,y=this.validate(g);y?this.openError(y,this.newItemControl.nativeElement):(this.projectStore.addExternalResource(g),this.closeError(),this.newItemControl.nativeElement.value="")}deleteSource(g){this.projectStore.removeExternalResource(g)}openError(g,y){const D=document.createElement("div");D.className="solution-tree-item__error",D.textContent=g;const{top:N,left:X}=y.getBoundingClientRect();D.style.top=N+"px",D.style.left=X+y.clientWidth+"px",document.body.appendChild(D),this.errorElem=D,setTimeout(()=>{this.closeError()},2e3)}closeError(){this.errorElem&&(document.body.removeChild(this.errorElem),this.errorElem=null)}validate(g){if(!g||!g.trim())return"Please enter url.";const y="Please consider another url.";return/[a-z0-9\-]+$/i.test(g)?this.supportedExtensions.includes(g.split(".").pop())?void 0:`Sorry, we only support ${this.supportedExtensions.join(", ")} extensions. `+y:"Sorry, only alphanumeric values and '-' are allowed! "+y}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-external-resources"]],viewQuery:function(y,D){if(1&y&&u.Gf(Kt,7),2&y){let N;u.iGM(N=u.CRH())&&(D.newItemControl=N.first)}},decls:5,vars:3,consts:[["type","text","id","external-resources","placeholder",".js or .css url","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"input",3,"keyup.enter"],["newItemControl",""],[1,"list"],["class","flex-y-center mb-2",4,"ngFor","ngForOf"],[1,"flex-y-center","mb-2"],["target","_blank",1,"-item-link",3,"href","title"],[1,"icon-delete","ml-1",3,"click"],[0,"xlink","href","#icon-delete"]],template:function(y,D){1&y&&(u.TgZ(0,"input",0,1),u.NdJ("keyup.enter",function(){return D.addSource()}),u.qZA(),u.TgZ(2,"ul",2),u.YNc(3,ir,5,3,"li",3),u.ALo(4,"async"),u.qZA()),2&y&&(u.xp6(3),u.Q6J("ngForOf",u.lcZ(4,1,D.resources$)))},dependencies:[ot.sg,ot.Ov],styles:["[_nghost-%COMP%]{display:block}.input[_ngcontent-%COMP%]{border:none;color:#fff;padding:0 5px;line-height:26px;width:100%;box-sizing:border-box;background:var(--solution-tree-bg)}.list[_ngcontent-%COMP%]{margin:5px 0 0;font-size:12px}"],changeDetection:0})}}return $})();var ts=O(786);let wr=(()=>{class ${constructor(g){this.el=g,this.scrollPosition=new u.vpe}onScroll(g){const y=g.target.scrollTop;y>this.el.nativeElement.scrollHeight-this.el.nativeElement.offsetHeight-1&&this.scrollPosition.emit("bottom"),0===y&&this.scrollPosition.emit("top")}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(u.SBq))}}static{this.\u0275dir=u.lG2({type:$,selectors:[["","scrollable",""]],hostBindings:function(y,D){1&y&&u.NdJ("scroll",function(X){return D.onScroll(X)})},outputs:{scrollPosition:"scrollPosition"}})}}return $})();function ro($,ye){1&$&&(u.TgZ(0,"div",5),u._UZ(1,"div",6),u.qZA())}function Vn($,ye){if(1&$&&(u.TgZ(0,"li",10)(1,"a",11)(2,"span",12),u._uU(3),u.qZA(),u.TgZ(4,"span",13),u._uU(5),u.qZA()()()),2&$){const g=ye.$implicit;u.xp6(1),u.ekj("active",g.current),u.MGl("href","/edit/",g.id,"",u.LSH),u.xp6(2),u.Oqu(g.title),u.xp6(2),u.Oqu(g.timeAgo)}}function Ai($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",14),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(3);return u.KtG(D.openAllProjects())}),u._uU(1," see all projects "),u.qZA()}}function Po($,ye){if(1&$&&(u.ynx(0),u.TgZ(1,"ul",7),u.YNc(2,Vn,6,5,"li",8),u.qZA(),u.YNc(3,Ai,2,0,"div",9),u.BQk()),2&$){const g=u.oxw().ngIf;u.xp6(2),u.Q6J("ngForOf",g),u.xp6(1),u.Q6J("ngIf",5===g.length)}}function on($,ye){if(1&$&&(u.ynx(0),u.YNc(1,Po,4,2,"ng-container",2),u.BQk()),2&$){const g=ye.ngIf;u.xp6(1),u.Q6J("ngIf",g.length)}}function Di($,ye){if(1&$&&(u.TgZ(0,"li",19)(1,"a",20)(2,"span",21),u._uU(3),u.qZA(),u.TgZ(4,"span",22),u._uU(5),u.qZA()()()),2&$){const g=ye.$implicit;u.xp6(1),u.ekj("active",g.current),u.MGl("href","/edit/",g.id,"",u.LSH),u.xp6(2),u.Oqu(g.title),u.xp6(2),u.Oqu(g.timeAgo)}}function ns($,ye){1&$&&(u.TgZ(0,"div"),u._uU(1," Loading... "),u.qZA())}function di($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",15)(1,"div",16),u.NdJ("scrollPosition",function(D){u.CHM(g);const N=u.oxw();return u.KtG(N.scrollHandler(D))}),u.TgZ(2,"ul",17),u.YNc(3,Di,6,5,"li",18),u.ALo(4,"async"),u.qZA(),u.YNc(5,ns,2,0,"div",2),u.ALo(6,"async"),u.qZA()()}if(2&$){const g=u.oxw();u.xp6(3),u.Q6J("ngForOf",u.lcZ(4,2,g.page.data)),u.xp6(2),u.Q6J("ngIf",u.lcZ(6,4,g.page.loading))}}function Ir($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",23),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.close())}),u.qZA()}}let zo=(()=>{class ${constructor(g,y,D){this.projectStore=g,this.projectService=y,this.page=D,this.projects$=this.projectService.getLastProjects().pipe((0,vt.U)(N=>{const X=this.projectStore.state?this.projectStore.state.id:"";return N.map(_e=>{const Fe=_e.id;return{id:Fe,title:_e.title,timeAgo:_e.createdAt?(0,ft.VG)(_e.createdAt):"",current:Fe===X}})}),(0,ts.x)(()=>{this.loading$.next(!1)})),this.loading$=new re.X(!0),this.opened$=new re.X(!1)}scrollHandler(g){"bottom"===g&&this.page.more()}openAllProjects(){this.page.reset(),this.page.init("projects","createdAt",{reverse:!0,prepend:!1}),this.opened$.next(!this.opened$.value)}close(){this.opened$.next(!1)}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf),u.Y36(vr.Y4),u.Y36(vr.N2))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-latest-projects"]],decls:9,vars:12,consts:[[1,"latest-projects"],["class","flex-center p-2",4,"ngIf"],[4,"ngIf"],["class","projects-modal",4,"ngIf"],["class","fake-bg",3,"click",4,"ngIf"],[1,"flex-center","p-2"],[1,"loader"],[1,"list"],["class","project",4,"ngFor","ngForOf"],["class","flex-center mt-1 trigger see-all",3,"click",4,"ngIf"],[1,"project"],[1,"link",3,"href"],[1,"d-block"],[1,"time"],[1,"flex-center","mt-1","trigger","see-all",3,"click"],[1,"projects-modal"],["scrollable","","tabindex","0",1,"projects-modal__content",3,"scrollPosition"],[1,"projects-modal__list"],["class","-project",4,"ngFor","ngForOf"],[1,"-project"],[1,"-link",3,"href"],[1,"-title"],[1,"-time"],[1,"fake-bg",3,"click"]],template:function(y,D){1&y&&(u.TgZ(0,"div",0),u.YNc(1,ro,2,0,"div",1),u.ALo(2,"async"),u.YNc(3,on,2,1,"ng-container",2),u.ALo(4,"async"),u.qZA(),u.YNc(5,di,7,6,"div",3),u.ALo(6,"async"),u.YNc(7,Ir,1,0,"div",4),u.ALo(8,"async")),2&y&&(u.xp6(1),u.Q6J("ngIf",u.lcZ(2,4,D.loading$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(4,6,D.projects$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(6,8,D.opened$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(8,10,D.opened$)))},dependencies:[ot.sg,ot.O5,wr,ot.Ov],styles:["[_nghost-%COMP%]{display:block;background:var(--solution-tree-bg)}.latest-projects[_ngcontent-%COMP%]{font-size:12px}.list[_ngcontent-%COMP%]{margin:5px 0 0}.link[_ngcontent-%COMP%]{display:block;padding:10px;text-decoration:none}.link.active[_ngcontent-%COMP%]{background:#2c5c6b;color:#fff}.project[_ngcontent-%COMP%]:hover{background:#34393c;color:#fff}.time[_ngcontent-%COMP%]{display:block;text-align:right;font-size:11px}.see-all[_ngcontent-%COMP%]{margin-bottom:15px;line-height:28px}.projects-modal[_ngcontent-%COMP%]{position:fixed;top:0;bottom:0;right:0;padding:15px;background:#fff;color:#333;z-index:6;width:380px}.projects-modal__content[_ngcontent-%COMP%]{overflow-y:auto;height:100%}.projects-modal__content[_ngcontent-%COMP%]:focus{outline:none}.projects-modal__list[_ngcontent-%COMP%]   .-link[_ngcontent-%COMP%]{display:block;padding:10px;text-decoration:none;color:#333}.projects-modal__list[_ngcontent-%COMP%]   .-link[_ngcontent-%COMP%]:hover{background:#f1f1f1}.projects-modal__list[_ngcontent-%COMP%]   .-time[_ngcontent-%COMP%]{display:block;text-align:right;font-size:11px}"],changeDetection:0})}}return $})();function io($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div",25),u.NdJ("click",function(D){return D.stopPropagation()}),u.TgZ(1,"div",26),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.addItem("file"))}),u.O4$(),u.TgZ(2,"svg"),u._UZ(3,"use",27),u.qZA()(),u.kcU(),u.TgZ(4,"div",28),u.NdJ("click",function(){u.CHM(g);const D=u.oxw(2);return u.KtG(D.addItem("folder"))}),u.O4$(),u.TgZ(5,"svg"),u._UZ(6,"use",29),u.qZA()()()}}function hi($,ye){if(1&$&&u._UZ(0,"img",33),2&$){const g=u.oxw().ngIf;u.Q6J("src",g.photoURL,u.LSH)("alt",g.displayName)}}function Ho($,ye){if(1&$&&(u.ynx(0),u.TgZ(1,"h3",30),u._uU(2,"Author"),u.qZA(),u.TgZ(3,"div",31),u.YNc(4,hi,1,2,"img",32),u._uU(5),u.qZA(),u.BQk()),2&$){const g=ye.ngIf;u.xp6(4),u.Q6J("ngIf",g.photoURL),u.xp6(1),u.hij(" ",g.displayName," ")}}function Ki($,ye){if(1&$&&(u.TgZ(0,"div",34)(1,"div",35),u._uU(2),u.qZA(),u._UZ(3,"ng-run-dependency-resolver",36),u.qZA()),2&$){const g=ye.$implicit;u.xp6(2),u.Oqu(g.name),u.xp6(1),u.Q6J("depName",g.name)("version",g.version)}}function oo($,ye){if(1&$){const g=u.EpF();u.ynx(0),u._UZ(1,"ng-run-solution-title"),u.TgZ(2,"ng-run-toggler",11),u.YNc(3,io,7,0,"div",12),u.ALo(4,"async"),u._UZ(5,"ng-run-solution-explorer",13),u.YNc(6,Ho,6,2,"ng-container",14),u.ALo(7,"async"),u.qZA(),u.TgZ(8,"ng-run-toggler",11)(9,"div",15),u.NdJ("click",function(D){return u.CHM(g),u.oxw().updateAllDeps(),u.KtG(D.stopPropagation())}),u.O4$(),u.TgZ(10,"svg",16),u._UZ(11,"use",17),u.qZA()(),u.kcU(),u.TgZ(12,"div",18),u.YNc(13,Ki,4,3,"div",19),u.ALo(14,"async"),u.TgZ(15,"div",20)(16,"input",21,22),u.NdJ("keyup.enter",function(){u.CHM(g);const D=u.MAs(17),N=u.oxw();return u.KtG(N.installDep(D))}),u.qZA()()()(),u.TgZ(18,"ng-run-toggler",23),u._UZ(19,"ng-run-external-resources",24),u.qZA(),u.BQk()}if(2&$){const g=u.oxw();u.xp6(2),u.Q6J("title","Files"),u.xp6(1),u.Q6J("ngIf",u.lcZ(4,7,g.nonNg$)),u.xp6(3),u.Q6J("ngIf",u.lcZ(7,9,g.author$)),u.xp6(2),u.Q6J("title","Dependencies"),u.xp6(5),u.Q6J("ngForOf",u.lcZ(14,11,g.dependencies$))("ngForTrackBy",g.trackByFn),u.xp6(5),u.Q6J("title","External resources")}}function Si($,ye){1&$&&(u.TgZ(0,"ng-run-toggler",11)(1,"div",37),u._UZ(2,"div",38),u.qZA()()),2&$&&u.Q6J("title","Files")}function Ro($,ye){1&$&&(u.TgZ(0,"ng-run-toggler",11),u._UZ(1,"ng-run-latest-projects"),u.qZA()),2&$&&u.Q6J("title","Latest projects")}let As=(()=>{class ${constructor(g,y,D,N,X){this.projectStore=g,this.auth=y,this.playgroundStore=D,this.monacoStore=N,this.editorWorker=X,this.closeMenu=new u.vpe,this.projectLoaded$=this.projectStore.projectLoaded$,this.author$=this.projectStore.author$,this.nonNg$=this.projectStore.nonNg$,this.authenticated$=this.auth.authenticated$,this.dependencies$=this.projectStore.dependencies$}trackByFn(g,y){return y.name}updateAllDeps(){const g=[],y=this.projectStore.state.dependencies;this.resolvers.forEach(D=>{const N=D.versions[0];if(y[D.depName].version===N)return;const X={name:D.depName,version:N,prevVersion:D.version};g.push(X),this.monacoStore.clearExportsFor(D.depName),this.monacoStore.disposeExtraLibsForPackage(D.depName),this.projectStore.updateDep(X)}),g.length&&(this.editorWorker.installState$.next(g.map(D=>`${D.name}@${D.version}`)),this.editorWorker.post({type:"UPDATE_DEPS",payload:{aot:!!this.projectStore.state.aot&&this.projectStore.getAotVersion(),deps:g}}))}installDep(g){g.value.length&&(this.editorWorker.install([g.value]),g.value="")}addItem(g){this.projectStore.addItem({key:"",value:{name:"",type:g,contents:""}})}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.Uf),u.Y36(ce.e),u.Y36(we.$m),u.Y36(Wt),u.Y36(Ne))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-sidebar"]],viewQuery:function(y,D){if(1&y&&u.Gf(Ni,5),2&y){let N;u.iGM(N=u.CRH())&&(D.resolvers=N)}},outputs:{closeMenu:"closeMenu"},decls:17,vars:7,consts:[[1,"h-100","overflow-y-auto","sidebar"],[1,"close-menu",3,"click"],["viewBox","0, 0, 500, 500","width","40","height","40","xmlns","http://www.w3.org/2000/svg"],["d","M250.696,82 L91,138.2 L116.235,347.426 L250.864,421.421 L386.186,346.424 L411.413,137.205 L250.696,82","fill","#FFFFFF"],["d","M395.484,149.298 L250.323,99.795 L250.323,403.742 L371.974,336.416 L395.484,149.298","fill","#a80e00"],["d","M108.92,150.189 L130.544,337.309 L250.32,403.742 L250.32,99.789 L108.92,150.189","fill","#e01600"],["d","M210,180 L210,300 L310,240 z","fill","#FFFFFF"],[4,"ngIf","ngIfElse"],["loadingTmpl",""],[3,"title",4,"ngIf"],["href","/about",1,"about-project"],[3,"title"],["class","icon d-flex ml-auto folder-actions",3,"click",4,"ngIf"],[1,"mb-2"],[4,"ngIf"],["title","Update all to latest",1,"icon","ml-auto","icon-update-link","trigger",3,"click"],["width","13","height","14",1,"icon"],[0,"xlink","href","#icon-update"],[1,"dependencies","p-2"],["class","dependency-item",4,"ngFor","ngForOf","ngForTrackBy"],[1,"install-dep"],["placeholder","type package to install","autocomplete","off","autocorrect","off","autocapitalize","off","spellcheck","false",1,"install-dep-input",3,"keyup.enter"],["newDepName",""],[1,"external-deps",3,"title"],[1,"p-2"],[1,"icon","d-flex","ml-auto","folder-actions",3,"click"],["title","New File",1,"icon-add-file",3,"click"],["href","#icon-add-file"],["title","New Folder",1,"icon-add-folder",3,"click"],["href","#icon-add-folder"],[1,"mb-2","px-2","author-title"],[1,"flex-y-center","px-2","author"],["class","author-image mr-1","width","30",3,"src","alt",4,"ngIf"],["width","30",1,"author-image","mr-1",3,"src","alt"],[1,"dependency-item"],[1,"dependency-name"],[1,"dependency-resolver",3,"depName","version"],[1,"flex-center","p-2","bg"],[1,"loader"]],template:function(y,D){if(1&y&&(u.TgZ(0,"div",0)(1,"div",1),u.NdJ("click",function(){return D.closeMenu.emit()}),u.O4$(),u.TgZ(2,"svg",2),u._UZ(3,"path",3)(4,"path",4)(5,"path",5)(6,"path",6),u.qZA(),u.kcU(),u.TgZ(7,"h1"),u._uU(8,"Angular demo"),u.qZA()(),u.YNc(9,oo,20,13,"ng-container",7),u.ALo(10,"async"),u.YNc(11,Si,3,1,"ng-template",null,8,u.W1O),u.YNc(13,Ro,2,1,"ng-run-toggler",9),u.ALo(14,"async"),u.qZA(),u.TgZ(15,"a",10),u._uU(16,"About project"),u.qZA()),2&y){const N=u.MAs(12);u.xp6(9),u.Q6J("ngIf",u.lcZ(10,3,D.projectLoaded$))("ngIfElse",N),u.xp6(4),u.Q6J("ngIf",u.lcZ(14,5,D.authenticated$))}},dependencies:[ot.sg,ot.O5,Do.u,xo,bt,Ni,Lr,zo,ot.Ov],styles:['[_ngcontent-%COMP%]:root{--color: #c7c7c7;--color-hover: #fff;--solution-tree-bg: #1d2129;--sidebar-bg: #2e3440;--header-bg: #2e3440;--logo-color: #fff;--box-header-bg: #1d2129;--box-resizer-bg: #2e3440;--box-resizer-border-left-color: rgba(255, 255, 255, .15);--box-resizer-border-right-color: rgba(0, 0, 0, .34);--tab-bg: #444446;--tab-color: #fff;--editor-action-color: #c7c7c7;--editor-action-hovered-color: #fff;--cursor-color: #fff;--tray-bg: #2978bb;--scrollbar: rgba(67, 76, 94, .6);--lineNumbers: rgba(216, 222, 233, .4);--activeLineNumber: rgba(216, 222, 233, .9);--bg: #2e3440;--foreground: #d8dee9;--comment: #67728a;--className: #8fbcbb;--functionName: #88c0d0;--decorator: #d08770;--string: #a3be8c;--keyword: #81a1c1;--tag: #81a1c1;--attr: #8fbcbb;--type: #8fbcbb;--constKeyword: #81a1c1;--consoleKeyword: #8fbcbb;--constant: #b48ead;--this: #81a1c1;--propAccess: #d8dee9;--method: #88c0d0;--param: #d8dee9;--call: #88c0d0;--brackets: #d8dee}[_nghost-%COMP%]{position:relative;-webkit-user-select:none;user-select:none;padding-bottom:24px;background:var(--sidebar-bg)}.sidebar[_ngcontent-%COMP%]{overflow-x:hidden}.bg[_ngcontent-%COMP%]{background:var(--solution-tree-bg)}.close-menu[_ngcontent-%COMP%]{display:none;position:relative;color:#fff;line-height:60px;padding:0 5px;align-items:center;cursor:pointer;background:var(--header-bg)}.close-menu[_ngcontent-%COMP%]:after{content:"";position:absolute;display:inline-block;width:.6em;height:.6em;border-right:.2em solid;border-top:.2em solid;transform:rotate(-135deg);right:15px}.about-project[_ngcontent-%COMP%]{color:#fff;position:absolute;bottom:0;left:0;right:0;text-align:center;line-height:24px;text-decoration:underline;background:var(--tray-bg)}.about-project[_ngcontent-%COMP%]:hover{text-decoration:none}.author-title[_ngcontent-%COMP%]{font-size:13px;font-weight:400;color:#fff}.author[_ngcontent-%COMP%]{font-size:12px}.author-image[_ngcontent-%COMP%]{flex-shrink:0;max-width:30px;height:auto}.dependencies[_ngcontent-%COMP%]{background:var(--solution-tree-bg);font-size:12px;padding-bottom:0}.dependency-item[_ngcontent-%COMP%]{position:relative;overflow:hidden;margin-bottom:10px;line-height:18px}.dependency-name[_ngcontent-%COMP%]{white-space:nowrap}.dependency-resolver[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;display:flex;padding-left:5px}.icon-update-link[_ngcontent-%COMP%]{fill:var(--editor-action-color);padding:0 5px}.install-dep[_ngcontent-%COMP%]{padding:10px;margin:0 -10px;background:var(--sidebar-bg)}.install-dep-input[_ngcontent-%COMP%]{border:none;color:#fff;padding:0 5px;line-height:26px;width:100%;box-sizing:border-box;background:var(--solution-tree-bg)}.folder-actions[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]     .toggler:hover .folder-actions{display:flex}@media (max-width: 960px){.close-menu[_ngcontent-%COMP%]{display:flex}}'],changeDetection:0})}}return $})();const Sn=["cliInput"];function Ka($,ye){if(1&$){const g=u.EpF();u.ynx(0),u.TgZ(1,"div",1)(2,"input",2,3),u.NdJ("keydown.enter",function(){u.CHM(g);const D=u.MAs(3),N=u.oxw();return u.KtG(N.runSchematics(D.value))})("keydown.escape",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.closeWindow())}),u.qZA()(),u.TgZ(4,"div",4),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.closeWindow())}),u.qZA(),u.BQk()}if(2&$){const g=ye.ngIf;u.xp6(2),u.MGl("placeholder","Type ",g.command," name...")}}let ki=(()=>{class ${set cliInput(g){g&&g.nativeElement.focus()}constructor(g,y,D,N){this.editorWorker=g,this.playgroundStore=y,this.projectStore=D,this.monacoStore=N,this.schematic$=this.playgroundStore.schematicOptions$}closeWindow(){this.playgroundStore.useSchematic()}runSchematics(g){if(!g)return;const{command:y,path:D}=this.playgroundStore.state.schematicOptions;this.playgroundStore.useSchematic(),this.editorWorker.worker.postMessage({type:"RUN_SCHEMATIC",payload:{command:y.toLowerCase(),name:g,path:D,files:this.projectStore.state.files}}).then(({changes:N,selected:X,newFiles:_e})=>{const Fe={add:{},remove:[]};Object.keys(_e).forEach(Ke=>{Fe.add[_e[Ke].fullPath]=_e[Ke],"folder"!==_e[Ke].type&&this.monacoStore.addModel(Ke,_e[Ke].contents),this.projectStore.addItem({key:Ke,value:_e[Ke]}),this.projectStore.selectFile(X)}),this.applyChanges(N).forEach(Ke=>{Fe.add[Ke.fullPath]={type:"file",contents:Ke.contents},_e[Ke.fullPath]={contents:Ke.contents}}),this.editorWorker.updateDecorators(_e),this.editorWorker.change(Fe)})}applyChanges(g){const y=this.projectStore.state.files;return g.map(D=>{const N=y[D.file];if(N){const X=N.contents,_e=X.substr(0,D.position)+D.toInsert+X.substr(D.position);return this.monacoStore.updateModel(N.fullPath,_e),N.contents=_e,{fullPath:N.fullPath,contents:_e}}})}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(Ne),u.Y36(we.$m),u.Y36(we.Uf),u.Y36(Wt))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-cli-generator"]],viewQuery:function(y,D){if(1&y&&u.Gf(Sn,5),2&y){let N;u.iGM(N=u.CRH())&&(D.cliInput=N.first)}},decls:2,vars:3,consts:[[4,"ngIf"],[1,"cli-generator-input"],["type","text",3,"placeholder","keydown.enter","keydown.escape"],["cliInput",""],[1,"fake-bg",3,"click"]],template:function(y,D){1&y&&(u.YNc(0,Ka,5,1,"ng-container",0),u.ALo(1,"async")),2&y&&u.Q6J("ngIf",u.lcZ(1,1,D.schematic$))},dependencies:[ot.O5,ot.Ov],encapsulation:2,changeDetection:0})}}return $})();const ii=["header"];function mi($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div")(1,"ng-run-go-to-file",9),u.NdJ("closed",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.toggleGoToFileDialog(!1))}),u.qZA(),u.TgZ(2,"div",10),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.toggleGoToFileDialog(!1))}),u.qZA()()}}function po($,ye){if(1&$){const g=u.EpF();u.TgZ(0,"div"),u._UZ(1,"ng-run-search-dialog"),u.TgZ(2,"div",10),u.NdJ("click",function(){u.CHM(g);const D=u.oxw();return u.KtG(D.toggleSearchDialog(!1))}),u.qZA()()}}function Mo($,ye){}const Fi=24e3/window.innerWidth,Mn=(100-Fi)/3;let Vs=(()=>{class ${constructor(g,y,D,N,X){this.playgroundStore=g,this.projectStore=y,this.editorWorker=D,this.monacoStore=N,this.route=X,this.areas=[Fi,Mn,Mn,Mn],this.goToFileDialogOpened$=new re.X(!1),this.searchDialogOpened$=new re.X(!1),this.destroyed$=new se.xQ}handleKeyboardEvent(g){(g.ctrlKey||g.metaKey)&&"s"===g.key.toLowerCase()&&"save"===this.playgroundStore.state.reloadMode&&(this.editorWorker.doSave(),this.projectStore.state.id&&this.projectStore.save(!1).then(),g.preventDefault()),(g.ctrlKey||g.metaKey)&&"p"===g.key.toLowerCase()&&!g.altKey&&(g.preventDefault(),this.goToFileDialogOpened$.next(!0)),(g.ctrlKey||g.metaKey)&&g.key.toLowerCase()}ngOnInit(){const g=this.route.snapshot.params?this.route.snapshot.params.workspace:null,y=this.route.snapshot.params?this.route.snapshot.params.lessonId:null,{testMode:D}=this.playgroundStore.state;this.projectStore.loadProject(D,g,y).then(()=>this.trackAotChanges())}trackAotChanges(){this.projectStore.aotEnabled$.pipe(function ge($){return ye=>ye.lift(new Ie($))}(1),(0,Ge.R)(this.destroyed$)).subscribe(g=>{const{key:y,contents:D}=(0,we.TR)(g,this.projectStore.state);this.monacoStore.updateModel(y,D),this.editorWorker.detectChanges(y,D)})}ngAfterViewInit(){this.updateLayout(),(0,ue.aj)([this.projectStore.selectedFile$.pipe((0,yt.b)(()=>this.header.toggleMenu(!1))),this.playgroundStore.layout$]).pipe((0,Ge.R)(this.destroyed$)).subscribe(()=>this.updateLayout())}get isMobile(){return window.matchMedia("(max-width: 960px)").matches}updateLayout(){const{areas:g}=this.splitter,y="1"===this.playgroundStore.state.layout,D=this.isMobile;if(D)this.resize();else{const N=this.splitter.areas$.value.map(X=>X*(this.splitter.containerSize-this.splitter.separatorsSize));if(!y||g[1].hidden||g[2].hidden){if(!y&&(g[1].hidden||g[2].hidden)){g[2].hidden?g[2].hidden=!1:g[1].hidden=!1;const X=N[1]/2-this.splitter.separatorSize/2;N[1]=X,N.splice(2,0,X);const _e=this.splitter.containerSize-this.splitter.separatorsSize;N.map(qe=>qe/_e*100).forEach((qe,Ke)=>g[Ke].size=qe)}}else{g[2].hidden=!0;const X=N.splice(2,1);N[1]+=X[0]+this.splitter.separatorSize;const _e=this.splitter.containerSize-this.splitter.separatorsSize,Fe=N.map(qe=>qe/_e*100);g[0].size=Fe[0],g[1].size=Fe[1],g[3].size=Fe[2]}this.splitter.updateLayout()}if(y||D){const N=!!this.projectStore.state&&this.projectStore.state.selectedFile.endsWith("html");N&&g[2].hidden?(g[2].size=g[1].size,g[1].hidden=!0,g[2].hidden=!1):!N&&g[1].hidden&&(g[1].size=g[2].size,g[2].hidden=!0,g[1].hidden=!1),this.splitter.updateLayout()}}resize(){const{areas:g}=this.splitter,y=this.isMobile;if(y&&!g[0].hidden){this.sizesCache=g.map(N=>N.size),g[0].hidden=!0;const D=!!this.projectStore.state&&this.projectStore.state.selectedFile.endsWith("html");g[D?1:2].hidden=!0,g[0].size=0,g[1].size=D?0:100,g[2].size=D?100:0,g[3].size=0}else!y&&g[0].hidden&&(this.header.toggleMenu(!1),g[0].hidden=!1,this.playgroundStore.state&&"2"===this.playgroundStore.state.layout?(g[1].hidden=g[2].hidden=!1,this.areas.forEach((D,N)=>g[N].size=D)):this.sizesCache&&(this.sizesCache.forEach((D,N)=>g[N].size=D),g[2].hidden?g[1].size+=g[2].size:g[1].hidden&&(g[2].size+=g[1].size)));this.splitter.updateLayout()}toggleGoToFileDialog(g){this.goToFileDialogOpened$.next(g)}toggleSearchDialog(g){this.searchDialogOpened$.next(g)}ngOnDestroy(){this.destroyed$.next()}static{this.\u0275fac=function(y){return new(y||$)(u.Y36(we.$m),u.Y36(we.Uf),u.Y36(Ne),u.Y36(Wt),u.Y36(ne.gz))}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-playground-page"]],viewQuery:function(y,D){if(1&y&&(u.Gf(wt.H,7),u.Gf(ii,7)),2&y){let N;u.iGM(N=u.CRH())&&(D.splitter=N.first),u.iGM(N=u.CRH())&&(D.header=N.first)}},hostBindings:function(y,D){1&y&&u.NdJ("keydown",function(X){return D.handleKeyboardEvent(X)},!1,u.Jf7)("resize",function(){return D.resize()},!1,u.Jf7)},decls:13,vars:10,consts:[[1,"px-2"],["header",""],["splitter","",1,"main"],[1,"sidebar-area",3,"split-area","closeMenu"],["mode","typescript",3,"split-area"],["mode","html",3,"split-area"],[3,"split-area"],[4,"ngIf"],["ng-run-container","player"],[3,"closed"],[1,"fake-bg",3,"click"]],template:function(y,D){if(1&y){const N=u.EpF();u._UZ(0,"ng-run-header",0,1),u.TgZ(2,"section",2)(3,"ng-run-sidebar",3),u.NdJ("closeMenu",function(){u.CHM(N);const _e=u.MAs(1);return u.KtG(_e.toggleMenu(!1))}),u.qZA(),u._UZ(4,"ng-run-editor",4)(5,"ng-run-editor",5)(6,"ng-run-preview",6),u.YNc(7,mi,3,0,"div",7),u.ALo(8,"async"),u.YNc(9,po,3,0,"div",7),u.ALo(10,"async"),u.qZA(),u._UZ(11,"ng-run-cli-generator"),u.YNc(12,Mo,0,0,"ng-template",8)}2&y&&(u.xp6(3),u.Q6J("split-area",D.areas[0]),u.xp6(1),u.Q6J("split-area",D.areas[1]),u.xp6(1),u.Q6J("split-area",D.areas[2]),u.xp6(1),u.Q6J("split-area",D.areas[3]),u.xp6(1),u.Q6J("ngIf",u.lcZ(8,6,D.goToFileDialogOpened$)),u.xp6(2),u.Q6J("ngIf",u.lcZ(10,8,D.searchDialogOpened$)))},dependencies:[ot.O5,wt.H,en.z,In.l,mn,sn,wi,Ut,ni,As,ki,ot.Ov],styles:[".main[_ngcontent-%COMP%]{position:absolute;inset:50px 0 0;height:auto}.dragging[_nghost-%COMP%], .dragging   [_nghost-%COMP%]{cursor:col-resize;-webkit-user-select:none;user-select:none}.dragging[_nghost-%COMP%]   .main[_ngcontent-%COMP%] > *[_ngcontent-%COMP%], .dragging   [_nghost-%COMP%]   .main[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none}[split-area][_ngcontent-%COMP%]{width:0}@media (max-width: 960px){.sidebar-area[_ngcontent-%COMP%]{display:block!important;position:fixed;box-shadow:0 16px 24px 2px #00000024,0 6px 30px 5px #0000001f,0 8px 10px -5px #0006;z-index:5;top:0;left:0;bottom:0;width:300px!important;overflow:hidden;transition:transform .25s;transform:translate(-300px)}  .menu--opened .sidebar-area{transform:translate(0);overflow:visible}}"]})}}return $})(),Cn=(()=>{class ${static{this.\u0275fac=function(y){return new(y||$)}}static{this.\u0275mod=u.oAB({type:$})}static{this.\u0275inj=u.cJS({imports:[B.m8]})}}return $})(),jr=(()=>{class ${static{this.\u0275fac=function(y){return new(y||$)}}static{this.\u0275mod=u.oAB({type:$})}static{this.\u0275inj=u.cJS({imports:[B.m8,Cn,ne.Bz.forChild([{path:"fork/:workspace",component:Vs},{path:"lesson/:lessonId",component:Vs},{path:"**",component:Vs}])]})}}return $})(),Go=(()=>{class ${constructor(){ot.Ov.prototype._updateLatestValue=function(g,y){g===this._obj&&(this._latestValue=y,this._ref.detectChanges())}}static{this.\u0275fac=function(y){return new(y||$)}}static{this.\u0275cmp=u.Xpm({type:$,selectors:[["ng-run-root"]],decls:1,vars:0,template:function(y,D){1&y&&u._UZ(0,"router-outlet")},dependencies:[ne.lC],encapsulation:2})}}return $})();const Li={apiKey:"AIzaSyD5BqwnntqBqNfn0nqGMItC8R3vyg6u5us",authDomain:"ng-run.firebaseapp.com",databaseURL:"https://ng-run.firebaseio.com",projectId:"ng-run",storageBucket:"ng-run.appspot.com"};let Oo=(()=>{class ${static{this.\u0275fac=function(y){return new(y||$)}}static{this.\u0275mod=u.oAB({type:$,bootstrap:[Go]})}static{this.\u0275inj=u.cJS({imports:[v.b2,j,jr,(0,he.AR)(()=>(0,he.v0)()),(0,fe.Cm)(()=>(0,fe.ad)()),(0,oe.hX)(()=>(0,oe.ZF)(Li)),(0,H.Vq)(()=>(0,H.cF)())]})}}return $})();nt.N.production&&(0,u.G48)(),v.q6().bootstrapModule(Oo).catch($=>console.error($))},6552:(lt,be,O)=>{"use strict";O.d(be,{BH:()=>ht,L:()=>te,LL:()=>it,P0:()=>yt,Pz:()=>wt,Sg:()=>nt,UG:()=>rt,ZR:()=>We,aH:()=>we,b$:()=>Et,eu:()=>Ne,hl:()=>xe,m9:()=>Mi,ne:()=>ze,q4:()=>Ge,ru:()=>mt,tV:()=>j,uI:()=>ie,vZ:()=>tr,w1:()=>Nn,xO:()=>Wn,xb:()=>er,z$:()=>ft});const fe=function(me){const Z=[];let J=0;for(let Y=0;Y<me.length;Y++){let K=me.charCodeAt(Y);K<128?Z[J++]=K:K<2048?(Z[J++]=K>>6|192,Z[J++]=63&K|128):55296==(64512&K)&&Y+1<me.length&&56320==(64512&me.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&me.charCodeAt(++Y)),Z[J++]=K>>18|240,Z[J++]=K>>12&63|128,Z[J++]=K>>6&63|128,Z[J++]=63&K|128):(Z[J++]=K>>12|224,Z[J++]=K>>6&63|128,Z[J++]=63&K|128)}return Z},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,Z){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const J=Z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<me.length;K+=3){const Ae=me[K],Xe=K+1<me.length,Tt=Xe?me[K+1]:0,Gt=K+2<me.length,Ht=Gt?me[K+2]:0;let Zn=(15&Tt)<<2|Ht>>6,qn=63&Ht;Gt||(qn=64,Xe||(Zn=64)),Y.push(J[Ae>>2],J[(3&Ae)<<4|Tt>>4],J[Zn],J[qn])}return Y.join("")},encodeString(me,Z){return this.HAS_NATIVE_SUPPORT&&!Z?btoa(me):this.encodeByteArray(fe(me),Z)},decodeString(me,Z){return this.HAS_NATIVE_SUPPORT&&!Z?atob(me):function(me){const Z=[];let J=0,Y=0;for(;J<me.length;){const K=me[J++];if(K<128)Z[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const Ae=me[J++];Z[Y++]=String.fromCharCode((31&K)<<6|63&Ae)}else if(K>239&&K<365){const Gt=((7&K)<<18|(63&me[J++])<<12|(63&me[J++])<<6|63&me[J++])-65536;Z[Y++]=String.fromCharCode(55296+(Gt>>10)),Z[Y++]=String.fromCharCode(56320+(1023&Gt))}else{const Ae=me[J++],Xe=me[J++];Z[Y++]=String.fromCharCode((15&K)<<12|(63&Ae)<<6|63&Xe)}}return Z.join("")}(this.decodeStringToByteArray(me,Z))},decodeStringToByteArray(me,Z){this.init_();const J=Z?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<me.length;){const Ae=J[me.charAt(K++)],Tt=K<me.length?J[me.charAt(K)]:0;++K;const Ht=K<me.length?J[me.charAt(K)]:64;++K;const Ut=K<me.length?J[me.charAt(K)]:64;if(++K,null==Ae||null==Tt||null==Ht||null==Ut)throw new ne;Y.push(Ae<<2|Tt>>4),64!==Ht&&(Y.push(Tt<<4&240|Ht>>2),64!==Ut&&Y.push(Ht<<6&192|Ut))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const te=function(me){return function(me){const Z=fe(me);return H.encodeByteArray(Z,!0)}(me).replace(/\./g,"")},j=function(me){try{return H.decodeString(me,!0)}catch(Z){console.error("base64Decode failed: ",Z)}return null},De=()=>{try{return function ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Z=me&&j(me[1]);return Z&&JSON.parse(Z)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},Ge=me=>{var Z,J;return null===(J=null===(Z=De())||void 0===Z?void 0:Z.emulatorHosts)||void 0===J?void 0:J[me]},yt=me=>{const Z=Ge(me);if(!Z)return;const J=Z.lastIndexOf(":");if(J<=0||J+1===Z.length)throw new Error(`Invalid host ${Z} with no separate hostname and port!`);const Y=parseInt(Z.substring(J+1),10);return"["===Z[0]?[Z.substring(1,J-1),Y]:[Z.substring(0,J),Y]},we=()=>{var me;return null===(me=De())||void 0===me?void 0:me.config},wt=me=>{var Z;return null===(Z=De())||void 0===Z?void 0:Z[`_${me}`]};class ht{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Z,J)=>{this.resolve=Z,this.reject=J})}wrapCallback(Z){return(J,Y)=>{J?this.reject(J):this.resolve(Y),"function"==typeof Z&&(this.promise.catch(()=>{}),1===Z.length?Z(J):Z(J,Y))}}}function nt(me,Z){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=Z||"demo-project",K=me.iat||0,Ae=me.sub||me.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Xe=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},me);return[te(JSON.stringify({alg:"none",type:"JWT"})),te(JSON.stringify(Xe)),""].join(".")}function ft(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ie(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())}function rt(){var me;const Z=null===(me=De())||void 0===me?void 0:me.forceEnvironment;if("node"===Z)return!0;if("browser"===Z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function mt(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function Et(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nn(){const me=ft();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function xe(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((me,Z)=>{try{let J=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),J||self.indexedDB.deleteDatabase(Y),me(!0)},K.onupgradeneeded=()=>{J=!1},K.onerror=()=>{var Ae;Z((null===(Ae=K.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(J){Z(J)}})}class We extends Error{constructor(Z,J,Y){super(J),this.code=Z,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,We.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,it.prototype.create)}}class it{constructor(Z,J,Y){this.service=Z,this.serviceName=J,this.errors=Y}create(Z,...J){const Y=J[0]||{},K=`${this.service}/${Z}`,Ae=this.errors[Z],Xe=Ae?function ot(me,Z){return me.replace(en,(J,Y)=>{const K=Z[Y];return null!=K?String(K):`<${Y}?>`})}(Ae,Y):"Error";return new We(K,`${this.serviceName}: ${Xe} (${K}).`,Y)}}const en=/\{\$([^}]+)}/g;function er(me){for(const Z in me)if(Object.prototype.hasOwnProperty.call(me,Z))return!1;return!0}function tr(me,Z){if(me===Z)return!0;const J=Object.keys(me),Y=Object.keys(Z);for(const K of J){if(!Y.includes(K))return!1;const Ae=me[K],Xe=Z[K];if(ei(Ae)&&ei(Xe)){if(!tr(Ae,Xe))return!1}else if(Ae!==Xe)return!1}for(const K of Y)if(!J.includes(K))return!1;return!0}function ei(me){return null!==me&&"object"==typeof me}function Wn(me){const Z=[];for(const[J,Y]of Object.entries(me))Array.isArray(Y)?Y.forEach(K=>{Z.push(encodeURIComponent(J)+"="+encodeURIComponent(K))}):Z.push(encodeURIComponent(J)+"="+encodeURIComponent(Y));return Z.length?"&"+Z.join("&"):""}function ze(me,Z){const J=new et(me,Z);return J.subscribe.bind(J)}class et{constructor(Z,J){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=J,this.task.then(()=>{Z(this)}).catch(Y=>{this.error(Y)})}next(Z){this.forEachObserver(J=>{J.next(Z)})}error(Z){this.forEachObserver(J=>{J.error(Z)}),this.close(Z)}complete(){this.forEachObserver(Z=>{Z.complete()}),this.close()}subscribe(Z,J,Y){let K;if(void 0===Z&&void 0===J&&void 0===Y)throw new Error("Missing Observer.");K=function nn(me,Z){if("object"!=typeof me||null===me)return!1;for(const J of Z)if(J in me&&"function"==typeof me[J])return!0;return!1}(Z,["next","error","complete"])?Z:{next:Z,error:J,complete:Y},void 0===K.next&&(K.next=yn),void 0===K.error&&(K.error=yn),void 0===K.complete&&(K.complete=yn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Ae}unsubscribeOne(Z){void 0===this.observers||void 0===this.observers[Z]||(delete this.observers[Z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Z){if(!this.finalized)for(let J=0;J<this.observers.length;J++)this.sendOne(J,Z)}sendOne(Z,J){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Z])try{J(this.observers[Z])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(Z){this.finalized||(this.finalized=!0,void 0!==Z&&(this.finalError=Z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yn(){}function Mi(me){return me&&me._delegate?me._delegate:me}},9604:lt=>{var be={}.toString;lt.exports=Array.isArray||function(O){return"[object Array]"==be.call(O)}},4114:(lt,be,O)=>{"use strict";var v=O(9604),u=O(1231);function fe(ne,ce){if(!(this instanceof fe))return"number"==typeof ce?new fe(ne).fromIndex(ce):new fe(ne,ce);this.str=ne||"",this.lineToIndex=function oe(ne){for(var ce=ne.split("\n"),te=new Array(ce.length),j=0,B=0,re=ce.length;B<re;B++)te[B]=j,j+=ce[B].length+1;return te}(this.str),this.origin=typeof(ce=ce||{}).origin>"u"?1:ce.origin}lt.exports=fe,fe.prototype.fromIndex=function(ne){if(ne<0||ne>=this.str.length||isNaN(ne))return null;var ce=function H(ne,ce){if(ne>=ce[ce.length-1])return ce.length-1;for(var B,te=0,j=ce.length-2;te<j;)if(ne<ce[B=te+(j-te>>1)])j=B-1;else{if(!(ne>=ce[B+1])){te=B;break}te=B+1}return te}(ne,this.lineToIndex);return{line:ce+this.origin,col:ne-this.lineToIndex[ce]+this.origin}},fe.prototype.toIndex=function(ne,ce){if(typeof ce>"u")return v(ne)&&ne.length>=2?this.toIndex(ne[0],ne[1]):u(ne)&&"line"in ne&&("col"in ne||"column"in ne)?this.toIndex(ne.line,"col"in ne?ne.col:ne.column):-1;if(isNaN(ne)||isNaN(ce))return-1;if(ce-=this.origin,(ne-=this.origin)>=0&&ce>=0&&ne<this.lineToIndex.length){var te=this.lineToIndex[ne];if(ce<(ne===this.lineToIndex.length-1?this.str.length:this.lineToIndex[ne+1])-te)return te+ce}return-1}},1231:(lt,be,O)=>{"use strict";var v=O(9604);lt.exports=function(he){return null!=he&&"object"==typeof he&&!1===v(he)}},462:(lt,be,O)=>{"use strict";O.d(be,{X:()=>he});var v=O(3117),u=O(6950);class he extends v.xQ{constructor(oe){super(),this._value=oe}get value(){return this.getValue()}_subscribe(oe){const H=super._subscribe(oe);return H&&!H.closed&&oe.next(this._value),H}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.N;return this._value}next(oe){super.next(this._value=oe)}}},2330:(lt,be,O)=>{"use strict";O.d(be,{y:()=>te});var v=O(5142),he=O(1999),fe=O(6195),H=O(5129),ne=O(7734),ce=O(7329);let te=(()=>{class B{constructor(se){this._isScalar=!1,se&&(this._subscribe=se)}lift(se){const ue=new B;return ue.source=this,ue.operator=se,ue}subscribe(se,ue,Q){const{operator:ge}=this,Ie=function oe(B,re,se){if(B){if(B instanceof v.L)return B;if(B[he.b])return B[he.b]()}return B||re||se?new v.L(B,re,se):new v.L(fe.c)}(se,ue,Q);if(Ie.add(ge?ge.call(Ie,this.source):this.source||ce.config.useDeprecatedSynchronousErrorHandling&&!Ie.syncErrorThrowable?this._subscribe(Ie):this._trySubscribe(Ie)),ce.config.useDeprecatedSynchronousErrorHandling&&Ie.syncErrorThrowable&&(Ie.syncErrorThrowable=!1,Ie.syncErrorThrown))throw Ie.syncErrorValue;return Ie}_trySubscribe(se){try{return this._subscribe(se)}catch(ue){ce.config.useDeprecatedSynchronousErrorHandling&&(se.syncErrorThrown=!0,se.syncErrorValue=ue),function u(B){for(;B;){const{closed:re,destination:se,isStopped:ue}=B;if(re||ue)return!1;B=se&&se instanceof v.L?se:null}return!0}(se)?se.error(ue):console.warn(ue)}}forEach(se,ue){return new(ue=j(ue))((Q,ge)=>{let Ie;Ie=this.subscribe(De=>{try{se(De)}catch(Ge){ge(Ge),Ie&&Ie.unsubscribe()}},ge,Q)})}_subscribe(se){const{source:ue}=this;return ue&&ue.subscribe(se)}[H.L](){return this}pipe(...se){return 0===se.length?this:(0,ne.U)(se)(this)}toPromise(se){return new(se=j(se))((ue,Q)=>{let ge;this.subscribe(Ie=>ge=Ie,Ie=>Q(Ie),()=>ue(ge))})}}return B.create=re=>new B(re),B})();function j(B){if(B||(B=ce.config.Promise||Promise),!B)throw new Error("no Promise impl found");return B}},6195:(lt,be,O)=>{"use strict";O.d(be,{c:()=>he});var v=O(7329),u=O(8722);const he={closed:!0,next(fe){},error(fe){if(v.config.useDeprecatedSynchronousErrorHandling)throw fe;(0,u.z)(fe)},complete(){}}},3117:(lt,be,O)=>{"use strict";O.d(be,{xQ:()=>ce,Yc:()=>ne});var v=O(2330),u=O(5142),he=O(4646),fe=O(6950);class oe extends he.w{constructor(B,re){super(),this.subject=B,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const B=this.subject,re=B.observers;if(this.subject=null,!re||0===re.length||B.isStopped||B.closed)return;const se=re.indexOf(this.subscriber);-1!==se&&re.splice(se,1)}}var H=O(1999);class ne extends u.L{constructor(B){super(B),this.destination=B}}let ce=(()=>{class j extends v.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[H.b](){return new ne(this)}lift(re){const se=new te(this,this);return se.operator=re,se}next(re){if(this.closed)throw new fe.N;if(!this.isStopped){const{observers:se}=this,ue=se.length,Q=se.slice();for(let ge=0;ge<ue;ge++)Q[ge].next(re)}}error(re){if(this.closed)throw new fe.N;this.hasError=!0,this.thrownError=re,this.isStopped=!0;const{observers:se}=this,ue=se.length,Q=se.slice();for(let ge=0;ge<ue;ge++)Q[ge].error(re);this.observers.length=0}complete(){if(this.closed)throw new fe.N;this.isStopped=!0;const{observers:re}=this,se=re.length,ue=re.slice();for(let Q=0;Q<se;Q++)ue[Q].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(re){if(this.closed)throw new fe.N;return super._trySubscribe(re)}_subscribe(re){if(this.closed)throw new fe.N;return this.hasError?(re.error(this.thrownError),he.w.EMPTY):this.isStopped?(re.complete(),he.w.EMPTY):(this.observers.push(re),new oe(this,re))}asObservable(){const re=new v.y;return re.source=this,re}}return j.create=(B,re)=>new te(B,re),j})();class te extends ce{constructor(B,re){super(),this.destination=B,this.source=re}next(B){const{destination:re}=this;re&&re.next&&re.next(B)}error(B){const{destination:re}=this;re&&re.error&&this.destination.error(B)}complete(){const{destination:B}=this;B&&B.complete&&this.destination.complete()}_subscribe(B){const{source:re}=this;return re?this.source.subscribe(B):he.w.EMPTY}}},5142:(lt,be,O)=>{"use strict";O.d(be,{L:()=>ne});var v=O(5251),u=O(6195),he=O(4646),fe=O(1999),oe=O(7329),H=O(8722);class ne extends he.w{constructor(j,B,re){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=u.c;break;case 1:if(!j){this.destination=u.c;break}if("object"==typeof j){j instanceof ne?(this.syncErrorThrowable=j.syncErrorThrowable,this.destination=j,j.add(this)):(this.syncErrorThrowable=!0,this.destination=new ce(this,j));break}default:this.syncErrorThrowable=!0,this.destination=new ce(this,j,B,re)}}[fe.b](){return this}static create(j,B,re){const se=new ne(j,B,re);return se.syncErrorThrowable=!1,se}next(j){this.isStopped||this._next(j)}error(j){this.isStopped||(this.isStopped=!0,this._error(j))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(j){this.destination.next(j)}_error(j){this.destination.error(j),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:j}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=j,this}}class ce extends ne{constructor(j,B,re,se){super(),this._parentSubscriber=j;let ue,Q=this;(0,v.m)(B)?ue=B:B&&(ue=B.next,re=B.error,se=B.complete,B!==u.c&&(Q=Object.create(B),(0,v.m)(Q.unsubscribe)&&this.add(Q.unsubscribe.bind(Q)),Q.unsubscribe=this.unsubscribe.bind(this))),this._context=Q,this._next=ue,this._error=re,this._complete=se}next(j){if(!this.isStopped&&this._next){const{_parentSubscriber:B}=this;oe.config.useDeprecatedSynchronousErrorHandling&&B.syncErrorThrowable?this.__tryOrSetError(B,this._next,j)&&this.unsubscribe():this.__tryOrUnsub(this._next,j)}}error(j){if(!this.isStopped){const{_parentSubscriber:B}=this,{useDeprecatedSynchronousErrorHandling:re}=oe.config;if(this._error)re&&B.syncErrorThrowable?(this.__tryOrSetError(B,this._error,j),this.unsubscribe()):(this.__tryOrUnsub(this._error,j),this.unsubscribe());else if(B.syncErrorThrowable)re?(B.syncErrorValue=j,B.syncErrorThrown=!0):(0,H.z)(j),this.unsubscribe();else{if(this.unsubscribe(),re)throw j;(0,H.z)(j)}}}complete(){if(!this.isStopped){const{_parentSubscriber:j}=this;if(this._complete){const B=()=>this._complete.call(this._context);oe.config.useDeprecatedSynchronousErrorHandling&&j.syncErrorThrowable?(this.__tryOrSetError(j,B),this.unsubscribe()):(this.__tryOrUnsub(B),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(j,B){try{j.call(this._context,B)}catch(re){if(this.unsubscribe(),oe.config.useDeprecatedSynchronousErrorHandling)throw re;(0,H.z)(re)}}__tryOrSetError(j,B,re){if(!oe.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{B.call(this._context,re)}catch(se){return oe.config.useDeprecatedSynchronousErrorHandling?(j.syncErrorValue=se,j.syncErrorThrown=!0,!0):((0,H.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:j}=this;this._context=null,this._parentSubscriber=null,j.unsubscribe()}}},4646:(lt,be,O)=>{"use strict";O.d(be,{w:()=>H});var v=O(7264),u=O(7560),he=O(5251);const oe=(()=>{function ce(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((j,B)=>`${B+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return ce.prototype=Object.create(Error.prototype),ce})();class H{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:j,_ctorUnsubscribe:B,_unsubscribe:re,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,j instanceof H)j.remove(this);else if(null!==j)for(let ue=0;ue<j.length;++ue)j[ue].remove(this);if((0,he.m)(re)){B&&(this._unsubscribe=void 0);try{re.call(this)}catch(ue){te=ue instanceof oe?ne(ue.errors):[ue]}}if((0,v.k)(se)){let ue=-1,Q=se.length;for(;++ue<Q;){const ge=se[ue];if((0,u.K)(ge))try{ge.unsubscribe()}catch(Ie){te=te||[],Ie instanceof oe?te=te.concat(ne(Ie.errors)):te.push(Ie)}}}if(te)throw new oe(te)}add(te){let j=te;if(!te)return H.EMPTY;switch(typeof te){case"function":j=new H(te);case"object":if(j===this||j.closed||"function"!=typeof j.unsubscribe)return j;if(this.closed)return j.unsubscribe(),j;if(!(j instanceof H)){const se=j;j=new H,j._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:B}=j;if(null===B)j._parentOrParents=this;else if(B instanceof H){if(B===this)return j;j._parentOrParents=[B,this]}else{if(-1!==B.indexOf(this))return j;B.push(this)}const re=this._subscriptions;return null===re?this._subscriptions=[j]:re.push(j),j}remove(te){const j=this._subscriptions;if(j){const B=j.indexOf(te);-1!==B&&j.splice(B,1)}}}var ce;function ne(ce){return ce.reduce((te,j)=>te.concat(j instanceof oe?j.errors:j),[])}H.EMPTY=((ce=new H).closed=!0,ce)},7329:(lt,be,O)=>{"use strict";O.d(be,{config:()=>u});let v=!1;const u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(he){if(he){const fe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+fe.stack)}else v&&console.log("RxJS: Back to a better error behavior. Thank you. <3");v=he},get useDeprecatedSynchronousErrorHandling(){return v}}},6241:(lt,be,O)=>{"use strict";O.d(be,{Ds:()=>H,IY:()=>fe,ft:()=>ce});var v=O(5142),u=O(2330),he=O(8314);class fe extends v.L{constructor(j){super(),this.parent=j}_next(j){this.parent.notifyNext(j)}_error(j){this.parent.notifyError(j),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class H extends v.L{notifyNext(j){this.destination.next(j)}notifyError(j){this.destination.error(j)}notifyComplete(){this.destination.complete()}}function ce(te,j){if(!j.closed)return te instanceof u.y?te.subscribe(j):(0,he.s)(te)(j)}},9148:(lt,be,O)=>{"use strict";O.d(be,{N:()=>H,c:()=>oe});var v=O(3117),u=O(2330),he=O(4646),fe=O(6159);class oe extends u.y{constructor(B,re){super(),this.source=B,this.subjectFactory=re,this._refCount=0,this._isComplete=!1}_subscribe(B){return this.getSubject().subscribe(B)}getSubject(){const B=this._subject;return(!B||B.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let B=this._connection;return B||(this._isComplete=!1,B=this._connection=new he.w,B.add(this.source.subscribe(new ne(this.getSubject(),this))),B.closed&&(this._connection=null,B=he.w.EMPTY)),B}refCount(){return(0,fe.x)()(this)}}const H=(()=>{const j=oe.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:j._subscribe},_isComplete:{value:j._isComplete,writable:!0},getSubject:{value:j.getSubject},connect:{value:j.connect},refCount:{value:j.refCount}}})();class ne extends v.Yc{constructor(B,re){super(B),this.connectable=re}_error(B){this._unsubscribe(),super._error(B)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const B=this.connectable;if(B){this.connectable=null;const re=B._connection;B._refCount=0,B._subject=null,B._connection=null,re&&re.unsubscribe()}}}},8159:(lt,be,O)=>{"use strict";O.d(be,{aj:()=>B});var v=O(9054),u=O(7264),he=O(5142);class fe extends he.L{notifyNext(Q,ge,Ie,De,Ge){this.destination.next(ge)}notifyError(Q,ge){this.destination.error(Q)}notifyComplete(Q){this.destination.complete()}}class oe extends he.L{constructor(Q,ge,Ie){super(),this.parent=Q,this.outerValue=ge,this.outerIndex=Ie,this.index=0}_next(Q){this.parent.notifyNext(this.outerValue,Q,this.outerIndex,this.index++,this)}_error(Q){this.parent.notifyError(Q,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var H=O(8314),ne=O(2330);function ce(ue,Q,ge,Ie,De=new oe(ue,ge,Ie)){if(!De.closed)return Q instanceof ne.y?Q.subscribe(De):(0,H.s)(Q)(De)}var te=O(1155);const j={};function B(...ue){let Q,ge;return(0,v.K)(ue[ue.length-1])&&(ge=ue.pop()),"function"==typeof ue[ue.length-1]&&(Q=ue.pop()),1===ue.length&&(0,u.k)(ue[0])&&(ue=ue[0]),(0,te.n)(ue,ge).lift(new re(Q))}class re{constructor(Q){this.resultSelector=Q}call(Q,ge){return ge.subscribe(new se(Q,this.resultSelector))}}class se extends fe{constructor(Q,ge){super(Q),this.resultSelector=ge,this.active=0,this.values=[],this.observables=[]}_next(Q){this.values.push(j),this.observables.push(Q)}_complete(){const Q=this.observables,ge=Q.length;if(0===ge)this.destination.complete();else{this.active=ge,this.toRespond=ge;for(let Ie=0;Ie<ge;Ie++)this.add(ce(this,Q[Ie],void 0,Ie))}}notifyComplete(Q){0==(this.active-=1)&&this.destination.complete()}notifyNext(Q,ge,Ie){const De=this.values,yt=this.toRespond?De[Ie]===j?--this.toRespond:this.toRespond:0;De[Ie]=ge,0===yt&&(this.resultSelector?this._tryResultSelector(De):this.destination.next(De.slice()))}_tryResultSelector(Q){let ge;try{ge=this.resultSelector.apply(this,Q)}catch(Ie){return void this.destination.error(Ie)}this.destination.next(ge)}}},2413:(lt,be,O)=>{"use strict";O.d(be,{z:()=>fe});var v=O(9681),u=O(2600);function fe(...oe){return function he(){return(0,u.J)(1)}()((0,v.of)(...oe))}},506:(lt,be,O)=>{"use strict";O.d(be,{E:()=>u,c:()=>he});var v=O(2330);const u=new v.y(oe=>oe.complete());function he(oe){return oe?function fe(oe){return new v.y(H=>oe.schedule(()=>H.complete()))}(oe):u}},4603:(lt,be,O)=>{"use strict";O.d(be,{D:()=>Q});var v=O(2330),u=O(8314),he=O(4646),fe=O(5129),ne=O(8577),ce=O(6603),B=O(8290),re=O(4361);function Q(ge,Ie){return Ie?function ue(ge,Ie){if(null!=ge){if(function j(ge){return ge&&"function"==typeof ge[fe.L]}(ge))return function oe(ge,Ie){return new v.y(De=>{const Ge=new he.w;return Ge.add(Ie.schedule(()=>{const yt=ge[fe.L]();Ge.add(yt.subscribe({next(we){Ge.add(Ie.schedule(()=>De.next(we)))},error(we){Ge.add(Ie.schedule(()=>De.error(we)))},complete(){Ge.add(Ie.schedule(()=>De.complete()))}}))})),Ge})}(ge,Ie);if((0,B.t)(ge))return function H(ge,Ie){return new v.y(De=>{const Ge=new he.w;return Ge.add(Ie.schedule(()=>ge.then(yt=>{Ge.add(Ie.schedule(()=>{De.next(yt),Ge.add(Ie.schedule(()=>De.complete()))}))},yt=>{Ge.add(Ie.schedule(()=>De.error(yt)))}))),Ge})}(ge,Ie);if((0,re.z)(ge))return(0,ne.r)(ge,Ie);if(function se(ge){return ge&&"function"==typeof ge[ce.hZ]}(ge)||"string"==typeof ge)return function te(ge,Ie){if(!ge)throw new Error("Iterable cannot be null");return new v.y(De=>{const Ge=new he.w;let yt;return Ge.add(()=>{yt&&"function"==typeof yt.return&&yt.return()}),Ge.add(Ie.schedule(()=>{yt=ge[ce.hZ](),Ge.add(Ie.schedule(function(){if(De.closed)return;let we,wt;try{const ht=yt.next();we=ht.value,wt=ht.done}catch(ht){return void De.error(ht)}wt?De.complete():(De.next(we),this.schedule())}))})),Ge})}(ge,Ie)}throw new TypeError((null!==ge&&typeof ge||ge)+" is not observable")}(ge,Ie):ge instanceof v.y?ge:new v.y((0,u.s)(ge))}},1155:(lt,be,O)=>{"use strict";O.d(be,{n:()=>fe});var v=O(2330),u=O(4491),he=O(8577);function fe(oe,H){return H?(0,he.r)(oe,H):new v.y((0,u.V)(oe))}},3190:(lt,be,O)=>{"use strict";O.d(be,{R:()=>H});var v=O(2330),u=O(7264),he=O(5251),fe=O(7422);function H(B,re,se,ue){return(0,he.m)(se)&&(ue=se,se=void 0),ue?H(B,re,se).pipe((0,fe.U)(Q=>(0,u.k)(Q)?ue(...Q):ue(Q))):new v.y(Q=>{ne(B,re,function ge(Ie){Q.next(arguments.length>1?Array.prototype.slice.call(arguments):Ie)},Q,se)})}function ne(B,re,se,ue,Q){let ge;if(function j(B){return B&&"function"==typeof B.addEventListener&&"function"==typeof B.removeEventListener}(B)){const Ie=B;B.addEventListener(re,se,Q),ge=()=>Ie.removeEventListener(re,se,Q)}else if(function te(B){return B&&"function"==typeof B.on&&"function"==typeof B.off}(B)){const Ie=B;B.on(re,se),ge=()=>Ie.off(re,se)}else if(function ce(B){return B&&"function"==typeof B.addListener&&"function"==typeof B.removeListener}(B)){const Ie=B;B.addListener(re,se),ge=()=>Ie.removeListener(re,se)}else{if(!B||!B.length)throw new TypeError("Invalid event target");for(let Ie=0,De=B.length;Ie<De;Ie++)ne(B[Ie],re,se,ue,Q)}ue.add(ge)}},9718:(lt,be,O)=>{"use strict";O.d(be,{T:()=>oe});var v=O(2330),u=O(9054),he=O(2600),fe=O(1155);function oe(...H){let ne=Number.POSITIVE_INFINITY,ce=null,te=H[H.length-1];return(0,u.K)(te)?(ce=H.pop(),H.length>1&&"number"==typeof H[H.length-1]&&(ne=H.pop())):"number"==typeof te&&(ne=H.pop()),null===ce&&1===H.length&&H[0]instanceof v.y?H[0]:(0,he.J)(ne)((0,fe.n)(H,ce))}},9681:(lt,be,O)=>{"use strict";O.d(be,{of:()=>fe});var v=O(9054),u=O(1155),he=O(8577);function fe(...oe){let H=oe[oe.length-1];return(0,v.K)(H)?(oe.pop(),(0,he.r)(oe,H)):(0,u.n)(oe)}},3994:(lt,be,O)=>{"use strict";O.d(be,{_:()=>u});var v=O(2330);function u(fe,oe){return new v.y(oe?H=>oe.schedule(he,0,{error:fe,subscriber:H}):H=>H.error(fe))}function he({error:fe,subscriber:oe}){oe.error(fe)}},7293:(lt,be,O)=>{"use strict";O.d(be,{b:()=>u});var v=O(7965);function u(he,fe){return(0,v.zg)(he,fe,1)}},2345:(lt,be,O)=>{"use strict";O.d(be,{d:()=>u});var v=O(5142);function u(oe=null){return H=>H.lift(new he(oe))}class he{constructor(H){this.defaultValue=H}call(H,ne){return ne.subscribe(new fe(H,this.defaultValue))}}class fe extends v.L{constructor(H,ne){super(H),this.defaultValue=ne,this.isEmpty=!0}_next(H){this.isEmpty=!1,this.destination.next(H)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5083:(lt,be,O)=>{"use strict";O.d(be,{x:()=>u});var v=O(5142);function u(oe,H){return ne=>ne.lift(new he(oe,H))}class he{constructor(H,ne){this.compare=H,this.keySelector=ne}call(H,ne){return ne.subscribe(new fe(H,this.compare,this.keySelector))}}class fe extends v.L{constructor(H,ne,ce){super(H),this.keySelector=ce,this.hasKey=!1,"function"==typeof ne&&(this.compare=ne)}compare(H,ne){return H===ne}_next(H){let ne;try{const{keySelector:te}=this;ne=te?te(H):H}catch(te){return this.destination.error(te)}let ce=!1;if(this.hasKey)try{const{compare:te}=this;ce=te(this.key,ne)}catch(te){return this.destination.error(te)}else this.hasKey=!0;ce||(this.key=ne,this.destination.next(H))}}},5046:(lt,be,O)=>{"use strict";O.d(be,{h:()=>u});var v=O(5142);function u(oe,H){return function(ce){return ce.lift(new he(oe,H))}}class he{constructor(H,ne){this.predicate=H,this.thisArg=ne}call(H,ne){return ne.subscribe(new fe(H,this.predicate,this.thisArg))}}class fe extends v.L{constructor(H,ne,ce){super(H),this.predicate=ne,this.thisArg=ce,this.count=0}_next(H){let ne;try{ne=this.predicate.call(this.thisArg,H,this.count++)}catch(ce){return void this.destination.error(ce)}ne&&this.destination.next(H)}}},786:(lt,be,O)=>{"use strict";O.d(be,{x:()=>he});var v=O(5142),u=O(4646);function he(H){return ne=>ne.lift(new fe(H))}class fe{constructor(ne){this.callback=ne}call(ne,ce){return ce.subscribe(new oe(ne,this.callback))}}class oe extends v.L{constructor(ne,ce){super(ne),this.add(new u.w(ce))}}},7627:(lt,be,O)=>{"use strict";O.d(be,{P:()=>ne});var v=O(1742),u=O(5046),he=O(6939),fe=O(2345),oe=O(1620),H=O(6361);function ne(ce,te){const j=arguments.length>=2;return B=>B.pipe(ce?(0,u.h)((re,se)=>ce(re,se,B)):H.y,(0,he.q)(1),j?(0,fe.d)(te):(0,oe.T)(()=>new v.K))}},7422:(lt,be,O)=>{"use strict";O.d(be,{U:()=>u});var v=O(5142);function u(oe,H){return function(ce){if("function"!=typeof oe)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return ce.lift(new he(oe,H))}}class he{constructor(H,ne){this.project=H,this.thisArg=ne}call(H,ne){return ne.subscribe(new fe(H,this.project,this.thisArg))}}class fe extends v.L{constructor(H,ne,ce){super(H),this.project=ne,this.count=0,this.thisArg=ce||this}_next(H){let ne;try{ne=this.project.call(this.thisArg,H,this.count++)}catch(ce){return void this.destination.error(ce)}this.destination.next(ne)}}},2600:(lt,be,O)=>{"use strict";O.d(be,{J:()=>he});var v=O(7965),u=O(6361);function he(fe=Number.POSITIVE_INFINITY){return(0,v.zg)(u.y,fe)}},7965:(lt,be,O)=>{"use strict";O.d(be,{zg:()=>fe});var v=O(7422),u=O(4603),he=O(6241);function fe(ce,te,j=Number.POSITIVE_INFINITY){return"function"==typeof te?B=>B.pipe(fe((re,se)=>(0,u.D)(ce(re,se)).pipe((0,v.U)((ue,Q)=>te(re,ue,se,Q))),j)):("number"==typeof te&&(j=te),B=>B.lift(new oe(ce,j)))}class oe{constructor(te,j=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=j}call(te,j){return j.subscribe(new H(te,this.project,this.concurrent))}}class H extends he.Ds{constructor(te,j,B=Number.POSITIVE_INFINITY){super(te),this.project=j,this.concurrent=B,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let j;const B=this.index++;try{j=this.project(te,B)}catch(re){return void this.destination.error(re)}this.active++,this._innerSub(j)}_innerSub(te){const j=new he.IY(this),B=this.destination;B.add(j);const re=(0,he.ft)(te,j);re!==j&&B.add(re)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6159:(lt,be,O)=>{"use strict";O.d(be,{x:()=>u});var v=O(5142);function u(){return function(H){return H.lift(new he(H))}}class he{constructor(H){this.connectable=H}call(H,ne){const{connectable:ce}=this;ce._refCount++;const te=new fe(H,ce),j=ne.subscribe(te);return te.closed||(te.connection=ce.connect()),j}}class fe extends v.L{constructor(H,ne){super(H),this.connectable=ne}_unsubscribe(){const{connectable:H}=this;if(!H)return void(this.connection=null);this.connectable=null;const ne=H._refCount;if(ne<=0)return void(this.connection=null);if(H._refCount=ne-1,ne>1)return void(this.connection=null);const{connection:ce}=this,te=H._connection;this.connection=null,te&&(!ce||te===ce)&&te.unsubscribe()}}},6932:(lt,be,O)=>{"use strict";O.d(be,{R:()=>u});var v=O(5142);function u(oe,H){let ne=!1;return arguments.length>=2&&(ne=!0),function(te){return te.lift(new he(oe,H,ne))}}class he{constructor(H,ne,ce=!1){this.accumulator=H,this.seed=ne,this.hasSeed=ce}call(H,ne){return ne.subscribe(new fe(H,this.accumulator,this.seed,this.hasSeed))}}class fe extends v.L{constructor(H,ne,ce,te){super(H),this.accumulator=ne,this._seed=ce,this.hasSeed=te,this.index=0}get seed(){return this._seed}set seed(H){this.hasSeed=!0,this._seed=H}_next(H){if(this.hasSeed)return this._tryNext(H);this.seed=H,this.destination.next(H)}_tryNext(H){const ne=this.index++;let ce;try{ce=this.accumulator(this.seed,H,ne)}catch(te){this.destination.error(te)}this.seed=ce,this.destination.next(ce)}}},1062:(lt,be,O)=>{"use strict";O.d(be,{O:()=>he});var v=O(2413),u=O(9054);function he(...fe){const oe=fe[fe.length-1];return(0,u.K)(oe)?(fe.pop(),H=>(0,v.z)(fe,H,oe)):H=>(0,v.z)(fe,H)}},6520:(lt,be,O)=>{"use strict";O.d(be,{w:()=>fe});var v=O(7422),u=O(4603),he=O(6241);function fe(ne,ce){return"function"==typeof ce?te=>te.pipe(fe((j,B)=>(0,u.D)(ne(j,B)).pipe((0,v.U)((re,se)=>ce(j,re,B,se))))):te=>te.lift(new oe(ne))}class oe{constructor(ce){this.project=ce}call(ce,te){return te.subscribe(new H(ce,this.project))}}class H extends he.Ds{constructor(ce,te){super(ce),this.project=te,this.index=0}_next(ce){let te;const j=this.index++;try{te=this.project(ce,j)}catch(B){return void this.destination.error(B)}this._innerSub(te)}_innerSub(ce){const te=this.innerSubscription;te&&te.unsubscribe();const j=new he.IY(this),B=this.destination;B.add(j),this.innerSubscription=(0,he.ft)(ce,j),this.innerSubscription!==j&&B.add(this.innerSubscription)}_complete(){const{innerSubscription:ce}=this;(!ce||ce.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(ce){this.destination.next(ce)}}},6939:(lt,be,O)=>{"use strict";O.d(be,{q:()=>fe});var v=O(5142),u=O(2081),he=O(506);function fe(ne){return ce=>0===ne?(0,he.c)():ce.lift(new oe(ne))}class oe{constructor(ce){if(this.total=ce,this.total<0)throw new u.W}call(ce,te){return te.subscribe(new H(ce,this.total))}}class H extends v.L{constructor(ce,te){super(ce),this.total=te,this.count=0}_next(ce){const te=this.total,j=++this.count;j<=te&&(this.destination.next(ce),j===te&&(this.destination.complete(),this.unsubscribe()))}}},3303:(lt,be,O)=>{"use strict";O.d(be,{R:()=>u});var v=O(6241);function u(oe){return H=>H.lift(new he(oe))}class he{constructor(H){this.notifier=H}call(H,ne){const ce=new fe(H),te=(0,v.ft)(this.notifier,new v.IY(ce));return te&&!ce.seenValue?(ce.add(te),ne.subscribe(ce)):ce}}class fe extends v.Ds{constructor(H){super(H),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},106:(lt,be,O)=>{"use strict";O.d(be,{b:()=>fe});var v=O(5142);function u(){}var he=O(5251);function fe(ne,ce,te){return function(B){return B.lift(new oe(ne,ce,te))}}class oe{constructor(ce,te,j){this.nextOrObserver=ce,this.error=te,this.complete=j}call(ce,te){return te.subscribe(new H(ce,this.nextOrObserver,this.error,this.complete))}}class H extends v.L{constructor(ce,te,j,B){super(ce),this._tapNext=u,this._tapError=u,this._tapComplete=u,this._tapError=j||u,this._tapComplete=B||u,(0,he.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||u,this._tapError=te.error||u,this._tapComplete=te.complete||u)}_next(ce){try{this._tapNext.call(this._context,ce)}catch(te){return void this.destination.error(te)}this.destination.next(ce)}_error(ce){try{this._tapError.call(this._context,ce)}catch(te){return void this.destination.error(te)}this.destination.error(ce)}_complete(){try{this._tapComplete.call(this._context)}catch(ce){return void this.destination.error(ce)}return this.destination.complete()}}},1620:(lt,be,O)=>{"use strict";O.d(be,{T:()=>he});var v=O(1742),u=O(5142);function he(ne=H){return ce=>ce.lift(new fe(ne))}class fe{constructor(ce){this.errorFactory=ce}call(ce,te){return te.subscribe(new oe(ce,this.errorFactory))}}class oe extends u.L{constructor(ce,te){super(ce),this.errorFactory=te,this.hasValue=!1}_next(ce){this.hasValue=!0,this.destination.next(ce)}_complete(){if(this.hasValue)return this.destination.complete();{let ce;try{ce=this.errorFactory()}catch(te){ce=te}this.destination.error(ce)}}}function H(){return new v.K}},8577:(lt,be,O)=>{"use strict";O.d(be,{r:()=>he});var v=O(2330),u=O(4646);function he(fe,oe){return new v.y(H=>{const ne=new u.w;let ce=0;return ne.add(oe.schedule(function(){ce!==fe.length?(H.next(fe[ce++]),H.closed||ne.add(this.schedule())):H.complete()})),ne})}},6603:(lt,be,O)=>{"use strict";O.d(be,{hZ:()=>u});const u=function v(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},5129:(lt,be,O)=>{"use strict";O.d(be,{L:()=>v});const v="function"==typeof Symbol&&Symbol.observable||"@@observable"},1999:(lt,be,O)=>{"use strict";O.d(be,{b:()=>v});const v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},2081:(lt,be,O)=>{"use strict";O.d(be,{W:()=>u});const u=(()=>{function he(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return he.prototype=Object.create(Error.prototype),he})()},1742:(lt,be,O)=>{"use strict";O.d(be,{K:()=>u});const u=(()=>{function he(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return he.prototype=Object.create(Error.prototype),he})()},6950:(lt,be,O)=>{"use strict";O.d(be,{N:()=>u});const u=(()=>{function he(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return he.prototype=Object.create(Error.prototype),he})()},8722:(lt,be,O)=>{"use strict";function v(u){setTimeout(()=>{throw u},0)}O.d(be,{z:()=>v})},6361:(lt,be,O)=>{"use strict";function v(u){return u}O.d(be,{y:()=>v})},7264:(lt,be,O)=>{"use strict";O.d(be,{k:()=>v});const v=Array.isArray||(u=>u&&"number"==typeof u.length)},4361:(lt,be,O)=>{"use strict";O.d(be,{z:()=>v});const v=u=>u&&"number"==typeof u.length&&"function"!=typeof u},5251:(lt,be,O)=>{"use strict";function v(u){return"function"==typeof u}O.d(be,{m:()=>v})},7560:(lt,be,O)=>{"use strict";function v(u){return null!==u&&"object"==typeof u}O.d(be,{K:()=>v})},8290:(lt,be,O)=>{"use strict";function v(u){return!!u&&"function"!=typeof u.subscribe&&"function"==typeof u.then}O.d(be,{t:()=>v})},9054:(lt,be,O)=>{"use strict";function v(u){return u&&"function"==typeof u.schedule}O.d(be,{K:()=>v})},7734:(lt,be,O)=>{"use strict";O.d(be,{U:()=>he,z:()=>u});var v=O(6361);function u(...fe){return he(fe)}function he(fe){return 0===fe.length?v.y:1===fe.length?fe[0]:function(H){return fe.reduce((ne,ce)=>ce(ne),H)}}},8314:(lt,be,O)=>{"use strict";O.d(be,{s:()=>B});var v=O(4491),u=O(8722),fe=O(6603),H=O(5129),ce=O(4361),te=O(8290),j=O(7560);const B=re=>{if(re&&"function"==typeof re[H.L])return(re=>se=>{const ue=re[H.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(se)})(re);if((0,ce.z)(re))return(0,v.V)(re);if((0,te.t)(re))return(re=>se=>(re.then(ue=>{se.closed||(se.next(ue),se.complete())},ue=>se.error(ue)).then(null,u.z),se))(re);if(re&&"function"==typeof re[fe.hZ])return(re=>se=>{const ue=re[fe.hZ]();for(;;){let Q;try{Q=ue.next()}catch(ge){return se.error(ge),se}if(Q.done){se.complete();break}if(se.next(Q.value),se.closed)break}return"function"==typeof ue.return&&se.add(()=>{ue.return&&ue.return()}),se})(re);{const ue=`You provided ${(0,j.K)(re)?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},4491:(lt,be,O)=>{"use strict";O.d(be,{V:()=>v});const v=u=>he=>{for(let fe=0,oe=u.length;fe<oe&&!he.closed;fe++)he.next(u[fe]);he.complete()}},4773:function(lt,be){var O,u;!function(he,fe){"use strict";O=function(){var H,he=function(){if(typeof __dirname<"u")return __dirname;if(typeof document>"u"||!document.getElementsByTagName)return null;var re,j=document.currentScript||(re=document.getElementsByTagName("script"))[re.length-1],B=j&&j.src;return B?"/sass.js"===B.slice(-8)?B.slice(0,-8):"/sass.sync.js"===B.slice(-13)?B.slice(0,-13):null:null}()||".",fe=function(){},oe=[].slice;function ne(te){if(!te&&!H)throw new Error("Sass needs to be initialized with the URL of sass.worker.js - either via Sass.setWorkerUrl(url) or by new Sass(url)");for(var j in H||(H=te),this)"function"==typeof this[j]&&(this[j]=this[j].bind(this));this._callbacks={},this._worker=new Worker(te||H),this._worker.addEventListener("message",this._handleWorkerMessage,!1)}return ne.setWorkerUrl=function(te){H=te},ne.prototype={style:ne.style={nested:0,expanded:1,compact:2,compressed:3},comments:ne.comments={none:0,default:1},destroy:function(){this._worker&&this._worker.terminate(),this._worker=null,this._callbacks={},this._importer=null},_handleWorkerMessage:function(te){te.data.command&&this[te.data.command](te.data.args),this._callbacks[te.data.id]&&this._callbacks[te.data.id](te.data.result),delete this._callbacks[te.data.id]},_dispatch:function(te,j){if(!this._worker)throw new Error("Sass worker has been terminated");te.id="cb"+Date.now()+Math.random(),this._callbacks[te.id]=j,this._worker.postMessage(te)},_importerInit:function(te){var j=function(re){this._worker.postMessage({command:"_importerFinish",args:[re]})}.bind(this);try{this._importer(te[0],j)}catch(B){throw j({error:B.message}),B}},importer:function(te,j){if("function"!=typeof te&&null!==te)throw new Error("importer callback must either be a function or null");this._importer=te,this._worker.postMessage({command:"importer",args:[!!te]}),j&&j()}},"writeFile readFile listFiles removeFile clearFiles lazyFiles preloadFiles options compile compileFile".split(" ").forEach(function(te){ne.prototype[te]=function(){var j=oe.call(arguments,-1)[0],B=oe.call(arguments,0,-1);"function"!=typeof j&&(B.push(j),j=fe),this._dispatch({command:te,args:B},j)}}),ne.setWorkerUrl(he+"/sass.worker.js"),ne},void 0!==(u=O.apply(be,[]))&&(lt.exports=u)}()},8107:(lt,be,O)=>{var v={"./auto-import/auto-import.plugin":2412,"./go-to-definition/go-to-definition.plugin":846,"./go-to-error/go-to-error.plugin":5815,"./macros/macros.plugin":5563,"./path-completion/path-completion.plugin":8379,"./prettier/prettier.plugin":2581};function u(fe){var oe=he(fe);return O(oe)}function he(fe){if(!O.o(v,fe)){var oe=new Error("Cannot find module '"+fe+"'");throw oe.code="MODULE_NOT_FOUND",oe}return v[fe]}u.keys=function(){return Object.keys(v)},u.resolve=he,lt.exports=u,u.id=8107},3425:(lt,be,O)=>{var v={"./emmet/emmet.plugin":[5798,798],"./recording/recording.plugin":[5596,596],"./vim/vim.plugin":[7936,936]};function u(he){if(!O.o(v,he))return Promise.resolve().then(()=>{var H=new Error("Cannot find module '"+he+"'");throw H.code="MODULE_NOT_FOUND",H});var fe=v[he],oe=fe[0];return O.e(fe[1]).then(()=>O(oe))}u.keys=()=>Object.keys(v),u.id=3425,lt.exports=u},6575:(lt,be,O)=>{"use strict";O.d(be,{Do:()=>ge,EM:()=>Di,HT:()=>fe,JF:()=>zo,K0:()=>H,Mx:()=>ln,O5:()=>bi,Ov:()=>So,PM:()=>Vn,S$:()=>se,Ts:()=>cr,V_:()=>ce,Ye:()=>Ie,b0:()=>Q,bD:()=>ir,ez:()=>Kt,mk:()=>Ao,q:()=>he,sg:()=>kn,uU:()=>Bo,w_:()=>oe});var v=O(4532);let u=null;function he(){return u}function fe(C){u||(u=C)}class oe{}const H=new v.OlP("DocumentToken");let ne=(()=>{class C{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(V){return new(V||C)}}static{this.\u0275prov=v.Yz7({token:C,factory:function(){return(0,v.f3M)(te)},providedIn:"platform"})}}return C})();const ce=new v.OlP("Location Initialized");let te=(()=>{class C extends ne{constructor(){super(),this._doc=(0,v.f3M)(H),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(M){const V=he().getGlobalEventTarget(this._doc,"window");return V.addEventListener("popstate",M,!1),()=>V.removeEventListener("popstate",M)}onHashChange(M){const V=he().getGlobalEventTarget(this._doc,"window");return V.addEventListener("hashchange",M,!1),()=>V.removeEventListener("hashchange",M)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(M){this._location.pathname=M}pushState(M,V,pe){this._history.pushState(M,V,pe)}replaceState(M,V,pe){this._history.replaceState(M,V,pe)}forward(){this._history.forward()}back(){this._history.back()}historyGo(M=0){this._history.go(M)}getState(){return this._history.state}static{this.\u0275fac=function(V){return new(V||C)}}static{this.\u0275prov=v.Yz7({token:C,factory:function(){return new C},providedIn:"platform"})}}return C})();function j(C,z){if(0==C.length)return z;if(0==z.length)return C;let M=0;return C.endsWith("/")&&M++,z.startsWith("/")&&M++,2==M?C+z.substring(1):1==M?C+z:C+"/"+z}function B(C){const z=C.match(/#|\?|$/),M=z&&z.index||C.length;return C.slice(0,M-("/"===C[M-1]?1:0))+C.slice(M)}function re(C){return C&&"?"!==C[0]?"?"+C:C}let se=(()=>{class C{historyGo(M){throw new Error("Not implemented")}static{this.\u0275fac=function(V){return new(V||C)}}static{this.\u0275prov=v.Yz7({token:C,factory:function(){return(0,v.f3M)(Q)},providedIn:"root"})}}return C})();const ue=new v.OlP("appBaseHref");let Q=(()=>{class C extends se{constructor(M,V){super(),this._platformLocation=M,this._removeListenerFns=[],this._baseHref=V??this._platformLocation.getBaseHrefFromDOM()??(0,v.f3M)(H).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}prepareExternalUrl(M){return j(this._baseHref,M)}path(M=!1){const V=this._platformLocation.pathname+re(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&M?`${V}${pe}`:V}pushState(M,V,pe,Ve){const Ze=this.prepareExternalUrl(pe+re(Ve));this._platformLocation.pushState(M,V,Ze)}replaceState(M,V,pe,Ve){const Ze=this.prepareExternalUrl(pe+re(Ve));this._platformLocation.replaceState(M,V,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(V){return new(V||C)(v.LFG(ne),v.LFG(ue,8))}}static{this.\u0275prov=v.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"})}}return C})(),ge=(()=>{class C extends se{constructor(M,V){super(),this._platformLocation=M,this._baseHref="",this._removeListenerFns=[],null!=V&&(this._baseHref=V)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(M){this._removeListenerFns.push(this._platformLocation.onPopState(M),this._platformLocation.onHashChange(M))}getBaseHref(){return this._baseHref}path(M=!1){let V=this._platformLocation.hash;return null==V&&(V="#"),V.length>0?V.substring(1):V}prepareExternalUrl(M){const V=j(this._baseHref,M);return V.length>0?"#"+V:V}pushState(M,V,pe,Ve){let Ze=this.prepareExternalUrl(pe+re(Ve));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.pushState(M,V,Ze)}replaceState(M,V,pe,Ve){let Ze=this.prepareExternalUrl(pe+re(Ve));0==Ze.length&&(Ze=this._platformLocation.pathname),this._platformLocation.replaceState(M,V,Ze)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(M=0){this._platformLocation.historyGo?.(M)}static{this.\u0275fac=function(V){return new(V||C)(v.LFG(ne),v.LFG(ue,8))}}static{this.\u0275prov=v.Yz7({token:C,factory:C.\u0275fac})}}return C})(),Ie=(()=>{class C{constructor(M){this._subject=new v.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=M;const V=this._locationStrategy.getBaseHref();this._basePath=function we(C){if(new RegExp("^(https?:)?//").test(C)){const[,M]=C.split(/\/\/[^\/]+/);return M}return C}(B(yt(V))),this._locationStrategy.onPopState(pe=>{this._subject.emit({url:this.path(!0),pop:!0,state:pe.state,type:pe.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(M=!1){return this.normalize(this._locationStrategy.path(M))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(M,V=""){return this.path()==this.normalize(M+re(V))}normalize(M){return C.stripTrailingSlash(function Ge(C,z){if(!C||!z.startsWith(C))return z;const M=z.substring(C.length);return""===M||["/",";","?","#"].includes(M[0])?M:z}(this._basePath,yt(M)))}prepareExternalUrl(M){return M&&"/"!==M[0]&&(M="/"+M),this._locationStrategy.prepareExternalUrl(M)}go(M,V="",pe=null){this._locationStrategy.pushState(pe,"",M,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+re(V)),pe)}replaceState(M,V="",pe=null){this._locationStrategy.replaceState(pe,"",M,V),this._notifyUrlChangeListeners(this.prepareExternalUrl(M+re(V)),pe)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(M=0){this._locationStrategy.historyGo?.(M)}onUrlChange(M){return this._urlChangeListeners.push(M),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(V=>{this._notifyUrlChangeListeners(V.url,V.state)})),()=>{const V=this._urlChangeListeners.indexOf(M);this._urlChangeListeners.splice(V,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(M="",V){this._urlChangeListeners.forEach(pe=>pe(M,V))}subscribe(M,V,pe){return this._subject.subscribe({next:M,error:V,complete:pe})}static{this.normalizeQueryParams=re}static{this.joinWithSlash=j}static{this.stripTrailingSlash=B}static{this.\u0275fac=function(V){return new(V||C)(v.LFG(se))}}static{this.\u0275prov=v.Yz7({token:C,factory:function(){return function De(){return new Ie((0,v.LFG)(se))}()},providedIn:"root"})}}return C})();function yt(C){return C.replace(/\/index.html$/,"")}var ft=function(C){return C[C.Format=0]="Format",C[C.Standalone=1]="Standalone",C}(ft||{}),ie=function(C){return C[C.Narrow=0]="Narrow",C[C.Abbreviated=1]="Abbreviated",C[C.Wide=2]="Wide",C[C.Short=3]="Short",C}(ie||{}),rt=function(C){return C[C.Short=0]="Short",C[C.Medium=1]="Medium",C[C.Long=2]="Long",C[C.Full=3]="Full",C}(rt||{}),He=function(C){return C[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C}(He||{});function Ne(C,z){return un((0,v.cg1)(C)[v.wAp.DateFormat],z)}function ke(C,z){return un((0,v.cg1)(C)[v.wAp.TimeFormat],z)}function Oe(C,z){return un((0,v.cg1)(C)[v.wAp.DateTimeFormat],z)}function We(C,z){const M=(0,v.cg1)(C),V=M[v.wAp.NumberSymbols][z];if(typeof V>"u"){if(z===He.CurrencyDecimal)return M[v.wAp.NumberSymbols][He.Decimal];if(z===He.CurrencyGroup)return M[v.wAp.NumberSymbols][He.Group]}return V}function Zt(C){if(!C[v.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${C[v.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function un(C,z){for(let M=z;M>-1;M--)if(typeof C[M]<"u")return C[M];throw new Error("Locale data API: locale data undefined")}function zt(C){const[z,M]=C.split(":");return{hours:+z,minutes:+M}}const ei=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Pr={},Wn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var pr=function(C){return C[C.Short=0]="Short",C[C.ShortGMT=1]="ShortGMT",C[C.Long=2]="Long",C[C.Extended=3]="Extended",C}(pr||{}),Ye=function(C){return C[C.FullYear=0]="FullYear",C[C.Month=1]="Month",C[C.Date=2]="Date",C[C.Hours=3]="Hours",C[C.Minutes=4]="Minutes",C[C.Seconds=5]="Seconds",C[C.FractionalSeconds=6]="FractionalSeconds",C[C.Day=7]="Day",C}(Ye||{}),Te=function(C){return C[C.DayPeriods=0]="DayPeriods",C[C.Days=1]="Days",C[C.Months=2]="Months",C[C.Eras=3]="Eras",C}(Te||{});function ze(C,z,M,V){let pe=function Z(C){if(Y(C))return C;if("number"==typeof C&&!isNaN(C))return new Date(C);if("string"==typeof C){if(C=C.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(C)){const[pe,Ve=1,Ze=1]=C.split("-").map(Ft=>+Ft);return et(pe,Ve-1,Ze)}const M=parseFloat(C);if(!isNaN(C-M))return new Date(M);let V;if(V=C.match(ei))return function J(C){const z=new Date(0);let M=0,V=0;const pe=C[8]?z.setUTCFullYear:z.setFullYear,Ve=C[8]?z.setUTCHours:z.setHours;C[9]&&(M=Number(C[9]+C[10]),V=Number(C[9]+C[11])),pe.call(z,Number(C[1]),Number(C[2])-1,Number(C[3]));const Ze=Number(C[4]||0)-M,Ft=Number(C[5]||0)-V,Er=Number(C[6]||0),hr=Math.floor(1e3*parseFloat("0."+(C[7]||0)));return Ve.call(z,Ze,Ft,Er,hr),z}(V)}const z=new Date(C);if(!Y(z))throw new Error(`Unable to convert "${C}" into a date`);return z}(C);z=gt(M,z)||z;let Ft,Ze=[];for(;z;){if(Ft=Wn.exec(z),!Ft){Ze.push(z);break}{Ze=Ze.concat(Ft.slice(1));const nr=Ze.pop();if(!nr)break;z=nr}}let Er=pe.getTimezoneOffset();V&&(Er=wi(V,Er),pe=function me(C,z,M){const V=M?-1:1,pe=C.getTimezoneOffset();return function Mi(C,z){return(C=new Date(C.getTime())).setMinutes(C.getMinutes()+z),C}(C,V*(wi(z,pe)-pe))}(pe,V,!0));let hr="";return Ze.forEach(nr=>{const fn=function dn(C){if(bn[C])return bn[C];let z;switch(C){case"G":case"GG":case"GGG":z=Rt(Te.Eras,ie.Abbreviated);break;case"GGGG":z=Rt(Te.Eras,ie.Wide);break;case"GGGGG":z=Rt(Te.Eras,ie.Narrow);break;case"y":z=vn(Ye.FullYear,1,0,!1,!0);break;case"yy":z=vn(Ye.FullYear,2,0,!0,!0);break;case"yyy":z=vn(Ye.FullYear,3,0,!1,!0);break;case"yyyy":z=vn(Ye.FullYear,4,0,!1,!0);break;case"Y":z=Qt(1);break;case"YY":z=Qt(2,!0);break;case"YYY":z=Qt(3);break;case"YYYY":z=Qt(4);break;case"M":case"L":z=vn(Ye.Month,1,1);break;case"MM":case"LL":z=vn(Ye.Month,2,1);break;case"MMM":z=Rt(Te.Months,ie.Abbreviated);break;case"MMMM":z=Rt(Te.Months,ie.Wide);break;case"MMMMM":z=Rt(Te.Months,ie.Narrow);break;case"LLL":z=Rt(Te.Months,ie.Abbreviated,ft.Standalone);break;case"LLLL":z=Rt(Te.Months,ie.Wide,ft.Standalone);break;case"LLLLL":z=Rt(Te.Months,ie.Narrow,ft.Standalone);break;case"w":z=wn(1);break;case"ww":z=wn(2);break;case"W":z=wn(1,!0);break;case"d":z=vn(Ye.Date,1);break;case"dd":z=vn(Ye.Date,2);break;case"c":case"cc":z=vn(Ye.Day,1);break;case"ccc":z=Rt(Te.Days,ie.Abbreviated,ft.Standalone);break;case"cccc":z=Rt(Te.Days,ie.Wide,ft.Standalone);break;case"ccccc":z=Rt(Te.Days,ie.Narrow,ft.Standalone);break;case"cccccc":z=Rt(Te.Days,ie.Short,ft.Standalone);break;case"E":case"EE":case"EEE":z=Rt(Te.Days,ie.Abbreviated);break;case"EEEE":z=Rt(Te.Days,ie.Wide);break;case"EEEEE":z=Rt(Te.Days,ie.Narrow);break;case"EEEEEE":z=Rt(Te.Days,ie.Short);break;case"a":case"aa":case"aaa":z=Rt(Te.DayPeriods,ie.Abbreviated);break;case"aaaa":z=Rt(Te.DayPeriods,ie.Wide);break;case"aaaaa":z=Rt(Te.DayPeriods,ie.Narrow);break;case"b":case"bb":case"bbb":z=Rt(Te.DayPeriods,ie.Abbreviated,ft.Standalone,!0);break;case"bbbb":z=Rt(Te.DayPeriods,ie.Wide,ft.Standalone,!0);break;case"bbbbb":z=Rt(Te.DayPeriods,ie.Narrow,ft.Standalone,!0);break;case"B":case"BB":case"BBB":z=Rt(Te.DayPeriods,ie.Abbreviated,ft.Format,!0);break;case"BBBB":z=Rt(Te.DayPeriods,ie.Wide,ft.Format,!0);break;case"BBBBB":z=Rt(Te.DayPeriods,ie.Narrow,ft.Format,!0);break;case"h":z=vn(Ye.Hours,1,-12);break;case"hh":z=vn(Ye.Hours,2,-12);break;case"H":z=vn(Ye.Hours,1);break;case"HH":z=vn(Ye.Hours,2);break;case"m":z=vn(Ye.Minutes,1);break;case"mm":z=vn(Ye.Minutes,2);break;case"s":z=vn(Ye.Seconds,1);break;case"ss":z=vn(Ye.Seconds,2);break;case"S":z=vn(Ye.FractionalSeconds,1);break;case"SS":z=vn(Ye.FractionalSeconds,2);break;case"SSS":z=vn(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":z=ti(pr.Short);break;case"ZZZZZ":z=ti(pr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":z=ti(pr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":z=ti(pr.Long);break;default:return null}return bn[C]=z,z}(nr);hr+=fn?fn(pe,M,Er):"''"===nr?"'":nr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),hr}function et(C,z,M){const V=new Date(0);return V.setFullYear(C,z,M),V.setHours(0,0,0),V}function gt(C,z){const M=function Et(C){return(0,v.cg1)(C)[v.wAp.LocaleId]}(C);if(Pr[M]=Pr[M]||{},Pr[M][z])return Pr[M][z];let V="";switch(z){case"shortDate":V=Ne(C,rt.Short);break;case"mediumDate":V=Ne(C,rt.Medium);break;case"longDate":V=Ne(C,rt.Long);break;case"fullDate":V=Ne(C,rt.Full);break;case"shortTime":V=ke(C,rt.Short);break;case"mediumTime":V=ke(C,rt.Medium);break;case"longTime":V=ke(C,rt.Long);break;case"fullTime":V=ke(C,rt.Full);break;case"short":const pe=gt(C,"shortTime"),Ve=gt(C,"shortDate");V=nn(Oe(C,rt.Short),[pe,Ve]);break;case"medium":const Ze=gt(C,"mediumTime"),Ft=gt(C,"mediumDate");V=nn(Oe(C,rt.Medium),[Ze,Ft]);break;case"long":const Er=gt(C,"longTime"),hr=gt(C,"longDate");V=nn(Oe(C,rt.Long),[Er,hr]);break;case"full":const nr=gt(C,"fullTime"),fn=gt(C,"fullDate");V=nn(Oe(C,rt.Full),[nr,fn])}return V&&(Pr[M][z]=V),V}function nn(C,z){return z&&(C=C.replace(/\{([^}]+)}/g,function(M,V){return null!=z&&V in z?z[V]:M})),C}function yn(C,z,M="-",V,pe){let Ve="";(C<0||pe&&C<=0)&&(pe?C=1-C:(C=-C,Ve=M));let Ze=String(C);for(;Ze.length<z;)Ze="0"+Ze;return V&&(Ze=Ze.slice(Ze.length-z)),Ve+Ze}function vn(C,z,M=0,V=!1,pe=!1){return function(Ve,Ze){let Ft=function mn(C,z){switch(C){case Ye.FullYear:return z.getFullYear();case Ye.Month:return z.getMonth();case Ye.Date:return z.getDate();case Ye.Hours:return z.getHours();case Ye.Minutes:return z.getMinutes();case Ye.Seconds:return z.getSeconds();case Ye.FractionalSeconds:return z.getMilliseconds();case Ye.Day:return z.getDay();default:throw new Error(`Unknown DateType value "${C}".`)}}(C,Ve);if((M>0||Ft>-M)&&(Ft+=M),C===Ye.Hours)0===Ft&&-12===M&&(Ft=12);else if(C===Ye.FractionalSeconds)return function Ln(C,z){return yn(C,3).substring(0,z)}(Ft,z);const Er=We(Ze,He.MinusSign);return yn(Ft,z,Er,V,pe)}}function Rt(C,z,M=ft.Format,V=!1){return function(pe,Ve){return function lo(C,z,M,V,pe,Ve){switch(M){case Te.Months:return function Tn(C,z,M){const V=(0,v.cg1)(C),Ve=un([V[v.wAp.MonthsFormat],V[v.wAp.MonthsStandalone]],z);return un(Ve,M)}(z,pe,V)[C.getMonth()];case Te.Days:return function Nn(C,z,M){const V=(0,v.cg1)(C),Ve=un([V[v.wAp.DaysFormat],V[v.wAp.DaysStandalone]],z);return un(Ve,M)}(z,pe,V)[C.getDay()];case Te.DayPeriods:const Ze=C.getHours(),Ft=C.getMinutes();if(Ve){const hr=function vt(C){const z=(0,v.cg1)(C);return Zt(z),(z[v.wAp.ExtraData][2]||[]).map(V=>"string"==typeof V?zt(V):[zt(V[0]),zt(V[1])])}(z),nr=function At(C,z,M){const V=(0,v.cg1)(C);Zt(V);const Ve=un([V[v.wAp.ExtraData][0],V[v.wAp.ExtraData][1]],z)||[];return un(Ve,M)||[]}(z,pe,V),fn=hr.findIndex(Mr=>{if(Array.isArray(Mr)){const[Tr,Hr]=Mr,Ts=Ze>=Tr.hours&&Ft>=Tr.minutes,yr=Ze<Hr.hours||Ze===Hr.hours&&Ft<Hr.minutes;if(Tr.hours<Hr.hours){if(Ts&&yr)return!0}else if(Ts||yr)return!0}else if(Mr.hours===Ze&&Mr.minutes===Ft)return!0;return!1});if(-1!==fn)return nr[fn]}return function pt(C,z,M){const V=(0,v.cg1)(C),Ve=un([V[v.wAp.DayPeriodsFormat],V[v.wAp.DayPeriodsStandalone]],z);return un(Ve,M)}(z,pe,V)[Ze<12?0:1];case Te.Eras:return function Wt(C,z){return un((0,v.cg1)(C)[v.wAp.Eras],z)}(z,V)[C.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${M}`)}}(pe,Ve,C,z,M,V)}}function ti(C){return function(z,M,V){const pe=-1*V,Ve=We(M,He.MinusSign),Ze=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(C){case pr.Short:return(pe>=0?"+":"")+yn(Ze,2,Ve)+yn(Math.abs(pe%60),2,Ve);case pr.ShortGMT:return"GMT"+(pe>=0?"+":"")+yn(Ze,1,Ve);case pr.Long:return"GMT"+(pe>=0?"+":"")+yn(Ze,2,Ve)+":"+yn(Math.abs(pe%60),2,Ve);case pr.Extended:return 0===V?"Z":(pe>=0?"+":"")+yn(Ze,2,Ve)+":"+yn(Math.abs(pe%60),2,Ve);default:throw new Error(`Unknown zone width "${C}"`)}}}const sn=0,rr=4;function ai(C){return et(C.getFullYear(),C.getMonth(),C.getDate()+(rr-C.getDay()))}function wn(C,z=!1){return function(M,V){let pe;if(z){const Ve=new Date(M.getFullYear(),M.getMonth(),1).getDay()-1,Ze=M.getDate();pe=1+Math.floor((Ze+Ve)/7)}else{const Ve=ai(M),Ze=function Rr(C){const z=et(C,sn,1).getDay();return et(C,0,1+(z<=rr?rr:rr+7)-z)}(Ve.getFullYear()),Ft=Ve.getTime()-Ze.getTime();pe=1+Math.round(Ft/6048e5)}return yn(pe,C,We(V,He.MinusSign))}}function Qt(C,z=!1){return function(M,V){return yn(ai(M).getFullYear(),C,We(V,He.MinusSign),z)}}const bn={};function wi(C,z){C=C.replace(/:/g,"");const M=Date.parse("Jan 01, 1970 00:00:00 "+C)/6e4;return isNaN(M)?z:M}function Y(C){return C instanceof Date&&!isNaN(C.valueOf())}function ln(C,z){z=encodeURIComponent(z);for(const M of C.split(";")){const V=M.indexOf("="),[pe,Ve]=-1==V?[M,""]:[M.slice(0,V),M.slice(V+1)];if(pe.trim()===z)return decodeURIComponent(Ve)}return null}const Ur=/\s+/,Qo=[];let Ao=(()=>{class C{constructor(M,V,pe,Ve){this._iterableDiffers=M,this._keyValueDiffers=V,this._ngEl=pe,this._renderer=Ve,this.initialClasses=Qo,this.stateMap=new Map}set klass(M){this.initialClasses=null!=M?M.trim().split(Ur):Qo}set ngClass(M){this.rawClass="string"==typeof M?M.trim().split(Ur):M}ngDoCheck(){for(const V of this.initialClasses)this._updateState(V,!0);const M=this.rawClass;if(Array.isArray(M)||M instanceof Set)for(const V of M)this._updateState(V,!0);else if(null!=M)for(const V of Object.keys(M))this._updateState(V,!!M[V]);this._applyStateDiff()}_updateState(M,V){const pe=this.stateMap.get(M);void 0!==pe?(pe.enabled!==V&&(pe.changed=!0,pe.enabled=V),pe.touched=!0):this.stateMap.set(M,{enabled:V,changed:!0,touched:!0})}_applyStateDiff(){for(const M of this.stateMap){const V=M[0],pe=M[1];pe.changed?(this._toggleClass(V,pe.enabled),pe.changed=!1):pe.touched||(pe.enabled&&this._toggleClass(V,!1),this.stateMap.delete(V)),pe.touched=!1}}_toggleClass(M,V){(M=M.trim()).length>0&&M.split(Ur).forEach(pe=>{V?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}static{this.\u0275fac=function(V){return new(V||C)(v.Y36(v.ZZ4),v.Y36(v.aQg),v.Y36(v.SBq),v.Y36(v.Qsj))}}static{this.\u0275dir=v.lG2({type:C,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return C})();class Xi{constructor(z,M,V,pe){this.$implicit=z,this.ngForOf=M,this.index=V,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kn=(()=>{class C{set ngForOf(M){this._ngForOf=M,this._ngForOfDirty=!0}set ngForTrackBy(M){this._trackByFn=M}get ngForTrackBy(){return this._trackByFn}constructor(M,V,pe){this._viewContainer=M,this._template=V,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(M){M&&(this._template=M)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const M=this._ngForOf;!this._differ&&M&&(this._differ=this._differs.find(M).create(this.ngForTrackBy))}if(this._differ){const M=this._differ.diff(this._ngForOf);M&&this._applyChanges(M)}}_applyChanges(M){const V=this._viewContainer;M.forEachOperation((pe,Ve,Ze)=>{if(null==pe.previousIndex)V.createEmbeddedView(this._template,new Xi(pe.item,this._ngForOf,-1,-1),null===Ze?void 0:Ze);else if(null==Ze)V.remove(null===Ve?void 0:Ve);else if(null!==Ve){const Ft=V.get(Ve);V.move(Ft,Ze),eo(Ft,pe)}});for(let pe=0,Ve=V.length;pe<Ve;pe++){const Ft=V.get(pe).context;Ft.index=pe,Ft.count=Ve,Ft.ngForOf=this._ngForOf}M.forEachIdentityChange(pe=>{eo(V.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(M,V){return!0}static{this.\u0275fac=function(V){return new(V||C)(v.Y36(v.s_b),v.Y36(v.Rgc),v.Y36(v.ZZ4))}}static{this.\u0275dir=v.lG2({type:C,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return C})();function eo(C,z){C.context.$implicit=z.item}let bi=(()=>{class C{constructor(M,V){this._viewContainer=M,this._context=new Jo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=V}set ngIf(M){this._context.$implicit=this._context.ngIf=M,this._updateView()}set ngIfThen(M){gi("ngIfThen",M),this._thenTemplateRef=M,this._thenViewRef=null,this._updateView()}set ngIfElse(M){gi("ngIfElse",M),this._elseTemplateRef=M,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(M,V){return!0}static{this.\u0275fac=function(V){return new(V||C)(v.Y36(v.s_b),v.Y36(v.Rgc))}}static{this.\u0275dir=v.lG2({type:C,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return C})();class Jo{constructor(){this.$implicit=null,this.ngIf=null}}function gi(C,z){if(z&&!z.createEmbeddedView)throw new Error(`${C} must be a TemplateRef, but received '${(0,v.AaK)(z)}'.`)}function ui(C,z){return new v.vHH(2100,!1)}class Xo{createSubscription(z,M){return(0,v.rg0)(()=>z.subscribe({next:M,error:V=>{throw V}}))}dispose(z){(0,v.rg0)(()=>z.unsubscribe())}}class ws{createSubscription(z,M){return z.then(M,V=>{throw V})}dispose(z){}}const ms=new ws,_s=new Xo;let So=(()=>{class C{constructor(M){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=M}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(M){return this._obj?M!==this._obj?(this._dispose(),this.transform(M)):this._latestValue:(M&&this._subscribe(M),this._latestValue)}_subscribe(M){this._obj=M,this._strategy=this._selectStrategy(M),this._subscription=this._strategy.createSubscription(M,V=>this._updateLatestValue(M,V))}_selectStrategy(M){if((0,v.QGY)(M))return ms;if((0,v.F4k)(M))return _s;throw ui()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(M,V){M===this._obj&&(this._latestValue=V,this._ref.markForCheck())}static{this.\u0275fac=function(V){return new(V||C)(v.Y36(v.sBO,16))}}static{this.\u0275pipe=v.Yjl({name:"async",type:C,pure:!1,standalone:!0})}}return C})();const Ci=new v.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Zi=new v.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Bo=(()=>{class C{constructor(M,V,pe){this.locale=M,this.defaultTimezone=V,this.defaultOptions=pe}transform(M,V,pe,Ve){if(null==M||""===M||M!=M)return null;try{return ze(M,V??this.defaultOptions?.dateFormat??"mediumDate",Ve||this.locale,pe??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(Ze){throw ui()}}static{this.\u0275fac=function(V){return new(V||C)(v.Y36(v.soG,16),v.Y36(Ci,24),v.Y36(Zi,24))}}static{this.\u0275pipe=v.Yjl({name:"date",type:C,pure:!0,standalone:!0})}}return C})(),cr=(()=>{class C{transform(M){return JSON.stringify(M,null,2)}static{this.\u0275fac=function(V){return new(V||C)}}static{this.\u0275pipe=v.Yjl({name:"json",type:C,pure:!1,standalone:!0})}}return C})(),Kt=(()=>{class C{static{this.\u0275fac=function(V){return new(V||C)}}static{this.\u0275mod=v.oAB({type:C})}static{this.\u0275inj=v.cJS({})}}return C})();const ir="browser",Lr="server";function Vn(C){return C===Lr}let Di=(()=>{class C{static{this.\u0275prov=(0,v.Yz7)({token:C,providedIn:"root",factory:()=>new ns((0,v.LFG)(H),window)})}}return C})();class ns{constructor(z,M){this.document=z,this.window=M,this.offset=()=>[0,0]}setOffset(z){this.offset=Array.isArray(z)?()=>z:z}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(z){this.supportsScrolling()&&this.window.scrollTo(z[0],z[1])}scrollToAnchor(z){if(!this.supportsScrolling())return;const M=function di(C,z){const M=C.getElementById(z)||C.getElementsByName(z)[0];if(M)return M;if("function"==typeof C.createTreeWalker&&C.body&&"function"==typeof C.body.attachShadow){const V=C.createTreeWalker(C.body,NodeFilter.SHOW_ELEMENT);let pe=V.currentNode;for(;pe;){const Ve=pe.shadowRoot;if(Ve){const Ze=Ve.getElementById(z)||Ve.querySelector(`[name="${z}"]`);if(Ze)return Ze}pe=V.nextNode()}}return null}(this.document,z);M&&(this.scrollToElement(M),M.focus())}setHistoryScrollRestoration(z){this.supportsScrolling()&&(this.window.history.scrollRestoration=z)}scrollToElement(z){const M=z.getBoundingClientRect(),V=M.left+this.window.pageXOffset,pe=M.top+this.window.pageYOffset,Ve=this.offset();this.window.scrollTo(V-Ve[0],pe-Ve[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class zo{}},4532:(lt,be,O)=>{"use strict";O.d(be,{tb:()=>wE,AFp:()=>Xp,ip1:()=>tw,hGG:()=>BA,z2F:()=>Qf,Ojb:()=>tg,sBO:()=>AA,Sil:()=>GC,_Vd:()=>$c,EJc:()=>BC,Xts:()=>md,SBq:()=>$a,lqb:()=>fs,qLn:()=>Bc,vpe:()=>Ba,XFs:()=>gt,OlP:()=>sn,zs3:()=>Yo,ZZ4:()=>xE,aQg:()=>PE,soG:()=>My,YKP:()=>X0,h0i:()=>eh,PXZ:()=>_A,R0b:()=>uo,FiY:()=>T,Lbi:()=>ml,g9A:()=>Zh,Qsj:()=>gv,FYo:()=>Hm,JOm:()=>ac,q3G:()=>Uc,tp0:()=>m,Rgc:()=>dm,dDg:()=>fA,eoX:()=>uw,q4F:()=>nf,GfV:()=>Zm,s_b:()=>Py,ifc:()=>Rn,VuI:()=>XA,MMx:()=>tT,Lck:()=>Rb,eFA:()=>fw,G48:()=>CA,f3M:()=>En,$WT:()=>kr,_c5:()=>$A,qFp:()=>tD,rg0:()=>nr,c2e:()=>nw,zSh:()=>Yp,HDt:()=>rw,wAp:()=>Xd,vHH:()=>ie,lri:()=>aw,rWj:()=>cw,JZr:()=>ft,EiD:()=>$p,mCW:()=>fd,qzn:()=>dc,JVY:()=>Om,pB0:()=>Nm,eBb:()=>hd,L6k:()=>fl,LAX:()=>pl,FYj:()=>D_,cg1:()=>by,kL8:()=>Cy,dqk:()=>Rt,Z0I:()=>ei,eJc:()=>fE,QGY:()=>Jg,F4k:()=>aI,RDi:()=>Fc,AaK:()=>Ie,z3N:()=>da,Xq5:()=>k_,TTD:()=>yr,jDz:()=>nT,xp6:()=>l_,uIk:()=>Pl,Tol:()=>py,Gre:()=>UI,ekj:()=>fy,Suo:()=>OT,Xpm:()=>no,lG2:()=>es,Yz7:()=>zt,cJS:()=>Ar,oAB:()=>Ci,Yjl:()=>xo,Y36:()=>Su,_UZ:()=>Q_,BQk:()=>zf,ynx:()=>Qg,qZA:()=>Yg,TgZ:()=>Kg,EpF:()=>sI,n5z:()=>ru,LFG:()=>qn,$8M:()=>Ws,$Z:()=>Tf,NdJ:()=>X_,CRH:()=>NT,kcU:()=>Gu,O4$:()=>Xf,oxw:()=>lI,ALo:()=>_T,lcZ:()=>yT,xi3:()=>vT,Hsn:()=>hI,F$t:()=>dI,Q6J:()=>Zg,MGl:()=>qd,DdM:()=>uT,VKq:()=>lT,Hh0:()=>dT,iGM:()=>RT,MAs:()=>Y_,KtG:()=>ji,Jf7:()=>hf,CHM:()=>ta,oJD:()=>Bp,uOi:()=>zp,LSH:()=>$h,P3R:()=>Lm,Udp:()=>hy,YNc:()=>K_,W1O:()=>VT,_uU:()=>xI,Oqu:()=>yy,hij:()=>rm,AsE:()=>vy,Gf:()=>MT});var v=O(3117),u=O(4646),he=O(2330),fe=O(9718),oe=O(462),H=O(9681),ne=O(9148);class te{constructor(r,o){this.subjectFactory=r,this.selector=o}call(r,o){const{selector:a}=this,l=this.subjectFactory(),h=a(l).subscribe(r);return h.add(o.subscribe(l)),h}}var j=O(6159);function B(){return new v.xQ}function re(){return t=>(0,j.x)()(function ce(t,r){return function(a){let l;if(l="function"==typeof t?t:function(){return t},"function"==typeof r)return a.lift(new te(l,r));const h=Object.create(a,ne.N);return h.source=a,h.subjectFactory=l,h}}(B)(t))}var se=O(6520),ue=O(5083);function Q(t){for(let r in t)if(t[r]===Q)return r;throw Error("Could not find renamed property on target object.")}function Ie(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ie).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function De(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const Ge=Q({__forward_ref__:Q});function yt(t){return t.__forward_ref__=yt,t.toString=function(){return Ie(this())},t}function we(t){return wt(t)?t():t}function wt(t){return"function"==typeof t&&t.hasOwnProperty(Ge)&&t.__forward_ref__===yt}function ht(t){return t&&!!t.\u0275providers}const ft="https://g.co/ng/security#xss";class ie extends Error{constructor(r,o){super(function rt(t,r){return`NG0${Math.abs(t)}${r?": "+r:""}`}(r,o)),this.code=r}}function He(t){return"string"==typeof t?t:null==t?"":String(t)}function Tn(t,r){throw new ie(-201,!1)}function Zt(t,r){null==t&&function vt(t,r,o,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function zt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ar(t){return{providers:t.providers||[],imports:t.imports||[]}}function tr(t){return Pr(t,Ye)||Pr(t,ze)}function ei(t){return null!==tr(t)}function Pr(t,r){return t.hasOwnProperty(r)?t[r]:null}function pr(t){return t&&(t.hasOwnProperty(Te)||t.hasOwnProperty(et))?t[Te]:null}const Ye=Q({\u0275prov:Q}),Te=Q({\u0275inj:Q}),ze=Q({ngInjectableDef:Q}),et=Q({ngInjectorDef:Q});var gt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(gt||{});let nn;function Ln(t){const r=nn;return nn=t,r}function vn(t,r,o){const a=tr(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&gt.Optional?null:void 0!==r?r:void Tn(Ie(t))}const Rt=globalThis;class sn{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=zt({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const J={},Y="__NG_DI_FLAG__",K="ngTempTokenPath",Xe=/\n/gm,Gt="__source";let Ht;function Ut(t){const r=Ht;return Ht=t,r}function Zn(t,r=gt.Default){if(void 0===Ht)throw new ie(-203,!1);return null===Ht?vn(t,void 0,r):Ht.get(t,r&gt.Optional?null:void 0,r)}function qn(t,r=gt.Default){return(function yn(){return nn}()||Zn)(we(t),r)}function En(t,r=gt.Default){return qn(t,$e(r))}function $e(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Se(t){const r=[];for(let o=0;o<t.length;o++){const a=we(t[o]);if(Array.isArray(a)){if(0===a.length)throw new ie(900,!1);let l,h=gt.Default;for(let _=0;_<a.length;_++){const E=a[_],S=jt(E);"number"==typeof S?-1===S?l=E.token:h|=S:l=E}r.push(qn(l,h))}else r.push(qn(a))}return r}function at(t,r){return t[Y]=r,t.prototype[Y]=r,t}function jt(t){return t[Y]}function cn(t){return{toString:t}.toString()}var gr=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(gr||{}),Rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Rn||{});const Nr={},ln=[],Ur=Q({\u0275cmp:Q}),Qo=Q({\u0275dir:Q}),Ao=Q({\u0275pipe:Q}),mr=Q({\u0275mod:Q}),Qr=Q({\u0275fac:Q}),Xi=Q({__NG_ELEMENT_ID__:Q}),kn=Q({__NG_ENV_ID__:Q});function eo(t,r,o){let a=t.length;for(;;){const l=t.indexOf(r,o);if(-1===l)return l;if(0===l||t.charCodeAt(l-1)<=32){const h=r.length;if(l+h===a||t.charCodeAt(l+h)<=32)return l}o=l+1}}function $o(t,r,o){let a=0;for(;a<o.length;){const l=o[a];if("number"==typeof l){if(0!==l)break;a++;const h=o[a++],_=o[a++],E=o[a++];t.setAttribute(r,_,E,h)}else{const h=l,_=o[++a];Jo(h)?t.setProperty(r,h,_):t.setAttribute(r,h,_),a++}}return a}function bi(t){return 3===t||4===t||6===t}function Jo(t){return 64===t.charCodeAt(0)}function gi(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?o=l:0===o||ni(t,o,l,null,-1===o||2===o?r[++a]:null)}}return t}function ni(t,r,o,a,l){let h=0,_=t.length;if(-1===r)_=-1;else for(;h<t.length;){const E=t[h++];if("number"==typeof E){if(E===r){_=-1;break}if(E>r){_=h-1;break}}}for(;h<t.length;){const E=t[h];if("number"==typeof E)break;if(E===o){if(null===a)return void(null!==l&&(t[h+1]=l));if(a===t[h+1])return void(t[h+2]=l)}h++,null!==a&&h++,null!==l&&h++}-1!==_&&(t.splice(_,0,r),h=_+1),t.splice(h++,0,o),null!==a&&t.splice(h++,0,a),null!==l&&t.splice(h++,0,l)}const vr="ng-template";function ri(t,r,o){let a=0,l=!0;for(;a<t.length;){let h=t[a++];if("string"==typeof h&&l){const _=t[a++];if(o&&"class"===h&&-1!==eo(_.toLowerCase(),r,0))return!0}else{if(1===h){for(;a<t.length&&"string"==typeof(h=t[a++]);)if(h.toLowerCase()===r)return!0;return!1}"number"==typeof h&&(l=!1)}}return!1}function Ni(t){return 4===t.type&&t.value!==vr}function Do(t,r,o){return r===(4!==t.type||o?t.value:vr)}function to(t,r,o){let a=4;const l=t.attrs||[],h=function ui(t){for(let r=0;r<t.length;r++)if(bi(t[r]))return r;return t.length}(l);let _=!1;for(let E=0;E<r.length;E++){const S=r[E];if("number"!=typeof S){if(!_)if(4&a){if(a=2|1&a,""!==S&&!Do(t,S,o)||""===S&&1===r.length){if(ci(a))return!1;_=!0}}else{const F=8&a?S:r[++E];if(8&a&&null!==t.attrs){if(!ri(t.attrs,F,o)){if(ci(a))return!1;_=!0}continue}const le=Wi(8&a?"class":S,l,Ni(t),o);if(-1===le){if(ci(a))return!1;_=!0;continue}if(""!==F){let Ce;Ce=le>h?"":l[le+1].toLowerCase();const Pe=8&a?Ce:null;if(Pe&&-1!==eo(Pe,F,0)||2&a&&F!==Ce){if(ci(a))return!1;_=!0}}}}else{if(!_&&!ci(a)&&!ci(S))return!1;if(_&&ci(S))continue;_=!1,a=S|1&a}}return ci(a)||_}function ci(t){return 0==(1&t)}function Wi(t,r,o,a){if(null===r)return-1;let l=0;if(a||!o){let h=!1;for(;l<r.length;){const _=r[l];if(_===t)return l;if(3===_||6===_)h=!0;else{if(1===_||2===_){let E=r[++l];for(;"string"==typeof E;)E=r[++l];continue}if(4===_)break;if(0===_){l+=4;continue}}l+=h?1:2}return-1}return function Xo(t,r){let o=t.indexOf(4);if(o>-1)for(o++;o<t.length;){const a=t[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,t)}function Ls(t,r,o=!1){for(let a=0;a<r.length;a++)if(to(t,r[a],o))return!0;return!1}function ws(t,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(t.length===a.length){for(let l=0;l<t.length;l++)if(t[l]!==a[l])continue e;return!0}}return!1}function ms(t,r){return t?":not("+r.trim()+")":r}function _s(t){let r=t[0],o=1,a=2,l="",h=!1;for(;o<t.length;){let _=t[o];if("string"==typeof _)if(2&a){const E=t[++o];l+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&a?l+="."+_:4&a&&(l+=" "+_);else""!==l&&!ci(_)&&(r+=ms(h,l),l=""),a=_,h=h||!ci(a);o++}return""!==l&&(r+=ms(h,l)),r}function no(t){return cn(()=>{const r=li(t),o={...r,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===gr.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Rn.Emulated,styles:t.styles||ln,_:null,schemas:t.schemas||null,tView:null,id:""};Cs(o);const a=t.dependencies;return o.directiveDefs=Bn(a,!1),o.pipeDefs=Bn(a,!0),o.id=function qi(t){let r=0;const o=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const l of o)r=Math.imul(31,r)+l.charCodeAt(0)<<0;return r+=2147483648,"c"+r}(o),o})}function ho(t){return rn(t)||cr(t)}function vs(t){return null!==t}function Ci(t){return cn(()=>({type:t.type,bootstrap:t.bootstrap||ln,declarations:t.declarations||ln,imports:t.imports||ln,exports:t.exports||ln,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bo(t,r){if(null==t)return Nr;const o={};for(const a in t)if(t.hasOwnProperty(a)){let l=t[a],h=l;Array.isArray(l)&&(h=l[1],l=l[0]),o[l]=a,r&&(r[l]=h)}return o}function es(t){return cn(()=>{const r=li(t);return Cs(r),r})}function xo(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function rn(t){return t[Ur]||null}function cr(t){return t[Qo]||null}function dr(t){return t[Ao]||null}function kr(t){const r=rn(t)||cr(t)||dr(t);return null!==r&&r.standalone}function Fr(t,r){const o=t[mr]||null;if(!o&&!0===r)throw new Error(`Type ${Ie(t)} does not have '\u0275mod' property.`);return o}function li(t){const r={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputTransforms:null,inputConfig:t.inputs||Nr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||ln,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bo(t.inputs,r),outputs:Bo(t.outputs)}}function Cs(t){t.features?.forEach(r=>r(t))}function Bn(t,r){if(!t)return null;const o=r?dr:ho;return()=>("function"==typeof t?t():t).map(a=>o(a)).filter(vs)}const Kn=0,bt=1,Kt=2,ir=3,Lr=4,ts=5,wr=6,ro=7,Vn=8,Ai=9,Po=10,on=11,Di=12,ns=13,di=14,Ir=15,zo=16,io=17,hi=18,Ho=19,Ki=20,oo=21,Si=22,Ro=23,As=24,Sn=25,ki=1,ii=2,mi=7,Mo=9,Mn=11;function Cn(t){return Array.isArray(t)&&"object"==typeof t[ki]}function jr(t){return Array.isArray(t)&&!0===t[ki]}function Go(t){return 0!=(4&t.flags)}function Li(t){return t.componentOffset>-1}function Oo(t){return 1==(1&t.flags)}function $(t){return!!t.template}function ye(t){return 0!=(512&t[Kt])}function zr(t,r){return t.hasOwnProperty(Qr)?t[Qr]:null}let Vr=null,rs=!1;function No(t){const r=Vr;return Vr=t,r}const va={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function yi(t){if(!Ui(t)||t.dirty){if(!t.producerMustRecompute(t)&&!yc(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function Us(t){t.dirty=!0,function Kc(t){if(void 0===t.liveConsumerNode)return;const r=rs;rs=!0;try{for(const o of t.liveConsumerNode)o.dirty||Us(o)}finally{rs=r}}(t),t.consumerMarkedDirty?.(t)}function Ea(t){return t&&(t.nextProducerIndex=0),No(t)}function mo(t,r){if(No(r),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ui(t))for(let o=t.nextProducerIndex;o<t.producerNode.length;o++)wa(t.producerNode[o],t.producerIndexOfThis[o]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function yc(t){js(t);for(let r=0;r<t.producerNode.length;r++){const o=t.producerNode[r],a=t.producerLastReadVersion[r];if(a!==o.version||(yi(o),a!==o.version))return!0}return!1}function Yn(t){if(js(t),Ui(t))for(let r=0;r<t.producerNode.length;r++)wa(t.producerNode[r],t.producerIndexOfThis[r]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function wa(t,r){if(function Js(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),js(t),1===t.liveConsumerNode.length)for(let a=0;a<t.producerNode.length;a++)wa(t.producerNode[a],t.producerIndexOfThis[a]);const o=t.liveConsumerNode.length-1;if(t.liveConsumerNode[r]=t.liveConsumerNode[o],t.liveConsumerIndexOfThis[r]=t.liveConsumerIndexOfThis[o],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,r<t.liveConsumerNode.length){const a=t.liveConsumerIndexOfThis[r],l=t.liveConsumerNode[r];js(l),l.producerIndexOfThis[a]=r}}function Ui(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function js(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let Es=null;function nr(t){const r=No(null);try{return t()}finally{No(r)}}const Mr=()=>{},Tr=(()=>({...va,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:Mr}))();class Ts{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function yr(){return Yi}function Yi(t){return t.type.prototype.ngOnChanges&&(t.setInput=_o),Gr}function Gr(){const t=tt(this),r=t?.current;if(r){const o=t.previous;if(o===Nr)t.previous=r;else for(let a in r)o[a]=r[a];t.current=null,this.ngOnChanges(r)}}function _o(t,r,o,a){const l=this.declaredInputs[o],h=tt(t)||function oi(t,r){return t[xs]=r}(t,{previous:Nr,current:null}),_=h.current||(h.current={}),E=h.previous,S=E[l];_[l]=new Ts(S&&S.currentValue,r,E===Nr),t[a]=r}yr.ngInherit=!0;const xs="__ngSimpleChanges__";function tt(t){return t[xs]||null}const Pt=function(t,r,o){},Lt="svg";function dt(t){for(;Array.isArray(t);)t=t[Kn];return t}function st(t,r){return dt(r[t])}function lr(t,r){return dt(r[t.index])}function Yc(t,r){return t.data[r]}function Xs(t,r){return t[r]}function vo(t,r){const o=r[t];return Cn(o)?o:o[Kn]}function ea(t,r){return null==r?null:t[r]}function Bu(t){t[io]=0}function Ps(t){1024&t[Kt]||(t[Kt]|=1024,pn(t,1))}function zu(t){1024&t[Kt]&&(t[Kt]&=-1025,pn(t,-1))}function pn(t,r){let o=t[ir];if(null===o)return;o[ts]+=r;let a=o;for(o=o[ir];null!==o&&(1===r&&1===a[ts]||-1===r&&0===a[ts]);)o[ts]+=r,a=o,o=o[ir]}const Ot={lFrame:Io(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dt(){return Ot.bindingsEnabled}function os(){return null!==Ot.skipHydrationRootTNode}function Je(){return Ot.lFrame.lView}function jn(){return Ot.lFrame.tView}function ta(t){return Ot.lFrame.contextLView=t,t[Vn]}function ji(t){return Ot.lFrame.contextLView=null,t}function vi(){let t=Xa();for(;null!==t&&64===t.type;)t=t.parent;return t}function Xa(){return Ot.lFrame.currentTNode}function Ii(t,r){const o=Ot.lFrame;o.currentTNode=t,o.isParent=r}function ec(){return Ot.lFrame.isParent}function Re(){Ot.lFrame.isParent=!1}function $i(){const t=Ot.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function ss(){return Ot.lFrame.bindingIndex++}function w(t){const r=Ot.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,o}function P(t,r){const o=Ot.lFrame;o.bindingIndex=o.bindingRootIndex=t,q(r)}function q(t){Ot.lFrame.currentDirectiveIndex=t}function Ue(){return Ot.lFrame.currentQueryIndex}function Me(t){Ot.lFrame.currentQueryIndex=t}function Mt(t){const r=t[bt];return 2===r.type?r.declTNode:1===r.type?t[wr]:null}function An(t,r,o){if(o&gt.SkipSelf){let l=r,h=t;for(;!(l=l.parent,null!==l||o&gt.Host||(l=Mt(h),null===l||(h=h[di],10&l.type))););if(null===l)return!1;r=l,t=h}const a=Ot.lFrame=Gn();return a.currentTNode=r,a.lView=t,!0}function Hn(t){const r=Gn(),o=t[bt];Ot.lFrame=r,r.currentTNode=o.firstChild,r.lView=t,r.tView=o,r.contextLView=t,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function Gn(){const t=Ot.lFrame,r=null===t?null:t.child;return null===r?Io(t):r}function Io(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function na(){const t=Ot.lFrame;return Ot.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const nc=na;function rc(){const t=na();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function co(){return Ot.lFrame.selectedIndex}function Ec(t){Ot.lFrame.selectedIndex=t}function Zr(){const t=Ot.lFrame;return Yc(t.tView,t.selectedIndex)}function Xf(){Ot.lFrame.currentNamespace=Lt}function Gu(){!function zl(){Ot.lFrame.currentNamespace=null}()}let Wu=!0;function Hl(){return Wu}function Zo(t){Wu=t}function qu(t,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const h=t.data[o].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:F,ngOnDestroy:W}=h;_&&(t.contentHooks??=[]).push(-o,_),E&&((t.contentHooks??=[]).push(o,E),(t.contentCheckHooks??=[]).push(o,E)),S&&(t.viewHooks??=[]).push(-o,S),F&&((t.viewHooks??=[]).push(o,F),(t.viewCheckHooks??=[]).push(o,F)),null!=W&&(t.destroyHooks??=[]).push(o,W)}}function Qc(t,r,o){eu(t,r,3,o)}function Jc(t,r,o,a){(3&t[Kt])===o&&eu(t,r,o,a)}function Xc(t,r){let o=t[Kt];(3&o)===r&&(o&=8191,o+=1,t[Kt]=o)}function eu(t,r,o,a){const h=a??-1,_=r.length-1;let E=0;for(let S=void 0!==a?65535&t[io]:0;S<_;S++)if("number"==typeof r[S+1]){if(E=r[S],null!=a&&E>=a)break}else r[S]<0&&(t[io]+=65536),(E<h||-1==h)&&(sh(t,o,r,S),t[io]=(4294901760&t[io])+S+2),S++}function Bi(t,r){Pt(4,t,r);const o=No(null);try{r.call(t)}finally{No(o),Pt(5,t,r)}}function sh(t,r,o,a){const l=o[a]<0,h=o[a+1],E=t[l?-o[a]:o[a]];l?t[Kt]>>13<t[io]>>16&&(3&t[Kt])===r&&(t[Kt]+=8192,Bi(E,h)):Bi(E,h)}const Fo=-1;class tu{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function Ku(t){return t!==Fo}function qr(t){return 32767&t}function Os(t,r){let o=function Gl(t){return t>>16}(t),a=r;for(;o>0;)a=a[di],o--;return a}let Jr=!0;function cs(t){const r=Jr;return Jr=t,r}const Qu=255,Tc=5;let Wl=0;const Lo={};function ra(t,r){const o=Ns(t,r);if(-1!==o)return o;const a=r[bt];a.firstCreatePass&&(t.injectorIndex=r.length,ia(a.data,t),ia(r,null),ia(a.blueprint,null));const l=Hs(t,r),h=t.injectorIndex;if(Ku(l)){const _=qr(l),E=Os(l,r),S=E[bt].data;for(let F=0;F<8;F++)r[h+F]=E[_+F]|S[_+F]}return r[h+8]=l,h}function ia(t,r){t.push(0,0,0,0,0,0,0,0,r)}function Ns(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function Hs(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let o=0,a=null,l=r;for(;null!==l;){if(a=Or(l),null===a)return Fo;if(o++,l=l[di],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return Fo}function oa(t,r,o){!function Da(t,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(Xi)&&(a=o[Xi]),null==a&&(a=o[Xi]=Wl++);const l=a&Qu;r.data[t+(l>>Tc)]|=1<<l}(t,r,o)}function Sa(t,r,o){if(o&gt.Optional||void 0!==t)return t;Tn()}function wc(t,r,o,a){if(o&gt.Optional&&void 0===a&&(a=null),!(o&(gt.Self|gt.Host))){const l=t[Ai],h=Ln(void 0);try{return l?l.get(r,a,o&gt.Optional):vn(r,a,o&gt.Optional)}finally{Ln(h)}}return Sa(a,0,o)}function bc(t,r,o,a=gt.Default,l){if(null!==t){if(2048&r[Kt]&&!(a&gt.Self)){const _=function lh(t,r,o,a,l){let h=t,_=r;for(;null!==h&&null!==_&&2048&_[Kt]&&!(512&_[Kt]);){const E=Gs(h,_,o,a|gt.Self,Lo);if(E!==Lo)return E;let S=h.parent;if(!S){const F=_[Ki];if(F){const W=F.get(o,Lo,a);if(W!==Lo)return W}S=Or(_),_=_[di]}h=S}return l}(t,r,o,a,Lo);if(_!==Lo)return _}const h=Gs(t,r,o,a,Lo);if(h!==Lo)return h}return wc(r,o,a,l)}function Gs(t,r,o,a,l){const h=function ql(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(Xi)?t[Xi]:void 0;return"number"==typeof r?r>=0?r&Qu:uh:r}(o);if("function"==typeof h){if(!An(r,t,a))return a&gt.Host?Sa(l,0,a):wc(r,o,a,l);try{let _;if(_=h(a),null!=_||a&gt.Optional)return _;Tn()}finally{nc()}}else if("number"==typeof h){let _=null,E=Ns(t,r),S=Fo,F=a&gt.Host?r[Ir][wr]:null;for((-1===E||a&gt.SkipSelf)&&(S=-1===E?Hs(t,r):r[E+8],S!==Fo&&Cc(a,!1)?(_=r[bt],E=qr(S),r=Os(S,r)):E=-1);-1!==E;){const W=r[bt];if(nu(h,E,W.data)){const le=Zl(E,r,o,_,a,F);if(le!==Lo)return le}S=r[E+8],S!==Fo&&Cc(a,r[bt].data[E+8]===F)&&nu(h,E,r)?(_=W,E=qr(S),r=Os(S,r)):E=-1}}return l}function Zl(t,r,o,a,l,h){const _=r[bt],E=_.data[t+8],W=xa(E,_,o,null==a?Li(E)&&Jr:a!=_&&0!=(3&E.type),l&gt.Host&&h===E);return null!==W?sa(r,_,W,E):Lo}function xa(t,r,o,a,l){const h=t.providerIndexes,_=r.data,E=1048575&h,S=t.directiveStart,W=h>>20,Ce=l?E+W:t.directiveEnd;for(let Pe=a?E:E+W;Pe<Ce;Pe++){const Qe=_[Pe];if(Pe<S&&o===Qe||Pe>=S&&Qe.type===o)return Pe}if(l){const Pe=_[S];if(Pe&&$(Pe)&&Pe.type===o)return S}return null}function sa(t,r,o,a){let l=t[o];const h=r.data;if(function Dr(t){return t instanceof tu}(l)){const _=l;_.resolving&&function Et(t,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new ie(-200,`Circular dependency in DI detected for ${t}${o}`)}(function mt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():He(t)}(h[o]));const E=cs(_.canSeeViewProviders);_.resolving=!0;const F=_.injectImpl?Ln(_.injectImpl):null;An(t,a,gt.Default);try{l=t[o]=_.factory(void 0,h,t,a),r.firstCreatePass&&o>=a.directiveStart&&function Zu(t,r,o){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:h}=r.type.prototype;if(a){const _=Yi(r);(o.preOrderHooks??=[]).push(t,_),(o.preOrderCheckHooks??=[]).push(t,_)}l&&(o.preOrderHooks??=[]).push(0-t,l),h&&((o.preOrderHooks??=[]).push(t,h),(o.preOrderCheckHooks??=[]).push(t,h))}(o,h[o],r)}finally{null!==F&&Ln(F),cs(E),_.resolving=!1,nc()}}return l}function nu(t,r,o){return!!(o[r+(t>>Tc)]&1<<t)}function Cc(t,r){return!(t&gt.Self||t&gt.Host&&r)}class Vo{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return bc(this._tNode,this._lView,r,$e(a),o)}}function uh(){return new Vo(vi(),Je())}function ru(t){return cn(()=>{const r=t.prototype.constructor,o=r[Qr]||zi(r),a=Object.prototype;let l=Object.getPrototypeOf(t.prototype).constructor;for(;l&&l!==a;){const h=l[Qr]||zi(l);if(h&&h!==o)return h;l=Object.getPrototypeOf(l)}return h=>new h})}function zi(t){return wt(t)?()=>{const r=zi(we(t));return r&&r()}:zr(t)}function Or(t){const r=t[bt],o=r.type;return 2===o?r.declTNode:1===o?t[wr]:null}function Ws(t){return function Ju(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const o=t.attrs;if(o){const a=o.length;let l=0;for(;l<a;){const h=o[l];if(bi(h))break;if(0===h)l+=2;else if("number"==typeof h)for(l++;l<a&&"string"==typeof o[l];)l++;else{if(h===r)return o[l+1];l+=2}}}return null}(vi(),t)}const ic="__parameters__";function On(t,r,o){return cn(()=>{const a=function Xu(t){return function(...o){if(t){const a=t(...o);for(const l in a)this[l]=a[l]}}}(r);function l(...h){if(this instanceof l)return a.apply(this,h),this;const _=new l(...h);return E.annotation=_,E;function E(S,F,W){const le=S.hasOwnProperty(ic)?S[ic]:Object.defineProperty(S,ic,{value:[]})[ic];for(;le.length<=W;)le.push(null);return(le[W]=le[W]||[]).push(_),S}}return o&&(l.prototype=Object.create(o.prototype)),l.prototype.ngMetadataName=t,l.annotationCls=l,l})}function Ra(t,r){t.forEach(o=>Array.isArray(o)?Ra(o,r):r(o))}function _h(t,r,o){r>=t.length?t.push(o):t.splice(r,0,o)}function Ma(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function ks(t,r){const o=[];for(let a=0;a<t;a++)o.push(r);return o}function ls(t,r,o){let a=Oa(t,r);return a>=0?t[1|a]=o:(a=~a,function su(t,r,o,a){let l=t.length;if(l==r)t.push(o,a);else if(1===l)t.push(a,t[0]),t[0]=o;else{for(l--,t.push(t[l-1],t[l]);l>r;)t[l]=t[l-2],l--;t[r]=o,t[r+1]=a}}(t,a,r,o)),a}function ds(t,r){const o=Oa(t,r);if(o>=0)return t[1|o]}function Oa(t,r){return function tl(t,r,o){let a=0,l=t.length>>o;for(;l!==a;){const h=a+(l-a>>1),_=t[h<<o];if(r===_)return h<<o;_>r?l=h:a=h+1}return~(l<<o)}(t,r,1)}const T=at(On("Optional"),8),m=at(On("SkipSelf"),4);function td(t){return 128==(128&t.flags)}var ac=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(ac||{});const dp=/^>|^->|<!--|-->|--!>|<!-$/g,hp=/(<|>)/g,fp="\u200b$1\u200b";const pp=new Map;let Uy=0;function gp(t){return pp.get(t)||null}class Dh{get lView(){return gp(this.lViewId)}constructor(r,o,a){this.lViewId=r,this.nodeIndex=o,this.native=a}}function _p(t){let o,r=function cc(t){const r=t[Sh];return"number"==typeof r?gp(r):r||null}(t);if(Cn(r)){const a=r,l=function vp(t,r){const o=t[bt].components;if(o)for(let a=0;a<o.length;a++){const l=o[a];if(vo(l,t)[Vn]===r)return l}else if(vo(Sn,t)[Vn]===r)return Sn;return-1}(a,t);o=vo(l,a);const h=function mp(t,r,o){return new Dh(t[Ho],r,o)}(a,l,o[Kn]);h.component=t,Eo(t,h),Eo(h.native,h)}else o=vo(r.nodeIndex,r.lView);return o}const Sh="__ngContext__";function Eo(t,r){Cn(r)?(t[Sh]=r[Ho],function fr(t){pp.set(t[Ho],t)}(r)):t[Sh]=r}let Ep;function Tp(t,r){return Ep(t,r)}function lu(t){const r=t[ir];return jr(r)?r[ir]:r}function Em(t){return Ph(t[Di])}function Pi(t){return Ph(t[Lr])}function Ph(t){for(;null!==t&&!jr(t);)t=t[Lr];return t}function du(t,r,o,a,l){if(null!=a){let h,_=!1;jr(a)?h=a:Cn(a)&&(_=!0,a=a[Kn]);const E=dt(a);0===t&&null!==o?null==l?Am(r,o,E):hu(r,o,E,l||null,!0):1===t&&null!==o?hu(r,o,E,l||null,!0):2===t?function kc(t,r,o){const a=ad(t,r);a&&function Oc(t,r,o,a){t.removeChild(r,o,a)}(t,a,r,o)}(r,E,_):3===t&&r.destroyNode(E),null!=h&&function Wy(t,r,o,a,l){const h=o[mi];h!==dt(o)&&du(r,t,a,h,l);for(let E=Mn;E<o.length;E++){const S=o[E];pu(S[bt],S,t,r,a,h)}}(r,t,h,o,l)}}function rd(t,r){return t.createComment(function Ah(t){return t.replace(dp,r=>r.replace(hp,fp))}(r))}function id(t,r,o){return t.createElement(r,o)}function ll(t,r){const o=t[Mo],a=o.indexOf(r);zu(r),o.splice(a,1)}function dl(t,r){if(t.length<=Mn)return;const o=Mn+r,a=t[o];if(a){const l=a[zo];null!==l&&l!==t&&ll(l,a),r>0&&(t[o-1][Lr]=a[Lr]);const h=Ma(t,Mn+r);!function od(t,r){pu(t,r,r[on],2,null,null),r[Kn]=null,r[wr]=null}(a[bt],a);const _=h[hi];null!==_&&_.detachView(h[bt]),a[ir]=null,a[Lr]=null,a[Kt]&=-129}return a}function wp(t,r){if(!(256&r[Kt])){const o=r[on];r[Ro]&&Yn(r[Ro]),r[As]&&Yn(r[As]),o.destroyNode&&pu(t,r,o,3,null,null),function bm(t){let r=t[Di];if(!r)return Rh(t[bt],t);for(;r;){let o=null;if(Cn(r))o=r[Di];else{const a=r[Mn];a&&(o=a)}if(!o){for(;r&&!r[Lr]&&r!==t;)Cn(r)&&Rh(r[bt],r),r=r[ir];null===r&&(r=t),Cn(r)&&Rh(r[bt],r),o=r&&r[Lr]}r=o}}(r)}}function Rh(t,r){if(!(256&r[Kt])){r[Kt]&=-129,r[Kt]|=256,function Cm(t,r){let o;if(null!=t&&null!=(o=t.destroyHooks))for(let a=0;a<o.length;a+=2){const l=r[o[a]];if(!(l instanceof tu)){const h=o[a+1];if(Array.isArray(h))for(let _=0;_<h.length;_+=2){const E=l[h[_]],S=h[_+1];Pt(4,E,S);try{S.call(E)}finally{Pt(5,E,S)}}else{Pt(4,l,h);try{h.call(l)}finally{Pt(5,l,h)}}}}}(t,r),function bp(t,r){const o=t.cleanup,a=r[ro];if(null!==o)for(let h=0;h<o.length-1;h+=2)if("string"==typeof o[h]){const _=o[h+3];_>=0?a[_]():a[-_].unsubscribe(),h+=2}else o[h].call(a[o[h+1]]);null!==a&&(r[ro]=null);const l=r[oo];if(null!==l){r[oo]=null;for(let h=0;h<l.length;h++)(0,l[h])()}}(t,r),1===r[bt].type&&r[on].destroy();const o=r[zo];if(null!==o&&jr(r[ir])){o!==r[ir]&&ll(o,r);const a=r[hi];null!==a&&a.detachView(t)}!function _m(t){pp.delete(t[Ho])}(r)}}function Cp(t,r,o){return function Ap(t,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[Kn];{const{componentOffset:l}=a;if(l>-1){const{encapsulation:h}=t.data[a.directiveStart+l];if(h===Rn.None||h===Rn.Emulated)return null}return lr(a,o)}}(t,r.parent,o)}function hu(t,r,o,a,l){t.insertBefore(r,o,a,l)}function Am(t,r,o){t.appendChild(r,o)}function Dm(t,r,o,a,l){null!==a?hu(t,r,o,a,l):Am(t,r,o)}function ad(t,r){return t.parentNode(r)}function Dp(t,r,o){return Sp(t,r,o)}let xp,Va,lc,dd,Sp=function La(t,r,o){return 40&t.type?lr(t,o):null};function fu(t,r,o,a){const l=Cp(t,a,r),h=r[on],E=Dp(a.parent||r[wr],a,r);if(null!=l)if(Array.isArray(o))for(let S=0;S<o.length;S++)Dm(h,l,o[S],E,!1);else Dm(h,l,o,E,!1);void 0!==xp&&xp(h,a,r,o,l)}function la(t,r){if(null!==r){const o=r.type;if(3&o)return lr(r,t);if(4&o)return uc(-1,t[r.index]);if(8&o){const a=r.child;if(null!==a)return la(t,a);{const l=t[r.index];return jr(l)?uc(-1,l):dt(l)}}if(32&o)return Tp(r,t)()||dt(t[r.index]);{const a=Nc(t,r);return null!==a?Array.isArray(a)?a[0]:la(lu(t[Ir]),a):la(t,r.next)}}return null}function Nc(t,r){return null!==r?t[Ir][wr].projection[r.projection]:null}function uc(t,r){const o=Mn+t+1;if(o<r.length){const a=r[o],l=a[bt].firstChild;if(null!==l)return la(a,l)}return r[mi]}function cd(t,r,o,a,l,h,_){for(;null!=o;){const E=a[o.index],S=o.type;if(_&&0===r&&(E&&Eo(dt(E),a),o.flags|=2),32!=(32&o.flags))if(8&S)cd(t,r,o.child,a,l,h,!1),du(r,t,l,E,h);else if(32&S){const F=Tp(o,a);let W;for(;W=F();)du(r,t,l,W,h);du(r,t,l,E,h)}else 16&S?Mp(t,r,a,o,l,h):du(r,t,l,E,h);o=_?o.projectionNext:o.next}}function pu(t,r,o,a,l,h){cd(o,a,t.firstChild,r,l,h,!1)}function Mp(t,r,o,a,l,h){const _=o[Ir],S=_[wr].projection[a.projection];if(Array.isArray(S))for(let F=0;F<S.length;F++)du(r,t,l,S[F],h);else{let F=S;const W=_[ir];td(a)&&(F.flags|=128),cd(t,r,F,W,l,h,!0)}}function ud(t,r,o){""===o?t.removeAttribute(r,"class"):t.setAttribute(r,"class",o)}function hl(t,r,o){const{mergedAttrs:a,classes:l,styles:h}=o;null!==a&&$o(t,r,a),null!==l&&ud(t,r,l),null!==h&&function Pm(t,r,o){t.setAttribute(r,"style",o)}(t,r,h)}function gu(t){return function Op(){if(void 0===Va&&(Va=null,Rt.trustedTypes))try{Va=Rt.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Va}()?.createHTML(t)||t}function Fc(t){lc=t}function mu(){if(void 0!==lc)return lc;if(typeof document<"u")return document;throw new ie(210,!1)}function Mh(){if(void 0===dd&&(dd=null,Rt.trustedTypes))try{dd=Rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return dd}function Rm(t){return Mh()?.createHTML(t)||t}function Nh(t){return Mh()?.createScriptURL(t)||t}class Lc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class Np extends Lc{getTypeName(){return"HTML"}}class kp extends Lc{getTypeName(){return"Style"}}class Mm extends Lc{getTypeName(){return"Script"}}class kh extends Lc{getTypeName(){return"URL"}}class Ky extends Lc{getTypeName(){return"ResourceURL"}}function da(t){return t instanceof Lc?t.changingThisBreaksApplicationSecurity:t}function dc(t,r){const o=function Yy(t){return t instanceof Lc&&t.getTypeName()||null}(t);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see ${ft})`)}return o===r}function Om(t){return new Np(t)}function fl(t){return new kp(t)}function hd(t){return new Mm(t)}function pl(t){return new kh(t)}function Nm(t){return new Ky(t)}class qo{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const o=(new window.DOMParser).parseFromString(gu(r),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(r):(o.removeChild(o.firstChild),o)}catch{return null}}}class km{constructor(r){this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(r){const o=this.inertDocument.createElement("template");return o.innerHTML=gu(r),o}}const Lh=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function fd(t){return(t=String(t)).match(Lh)?t:"unsafe:"+t}function Ko(t){const r={};for(const o of t.split(","))r[o]=!0;return r}function Ua(...t){const r={};for(const o of t)for(const a in o)o.hasOwnProperty(a)&&(r[a]=!0);return r}const Lp=Ko("area,br,col,hr,img,wbr"),Vc=Ko("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fm=Ko("rp,rt"),Vh=Ua(Lp,Ua(Vc,Ko("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ua(Fm,Ko("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ua(Fm,Vc)),Vp=Ko("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Up=Ua(Vp,Ko("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ko("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xy=Ko("script,style,template");class Uh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let o=r.firstChild,a=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?a=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,a&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let l=this.checkClobberedElement(o,o.nextSibling);if(l){o=l;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(r){const o=r.nodeName.toLowerCase();if(!Vh.hasOwnProperty(o))return this.sanitizedSomething=!0,!Xy.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const a=r.attributes;for(let l=0;l<a.length;l++){const h=a.item(l),_=h.name,E=_.toLowerCase();if(!Up.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let S=h.value;Vp[E]&&(S=fd(S)),this.buf.push(" ",_,'="',jp(S),'"')}return this.buf.push(">"),!0}endElement(r){const o=r.nodeName.toLowerCase();Vh.hasOwnProperty(o)&&!Lp.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(r){this.buf.push(jp(r))}checkClobberedElement(r,o){if(o&&(r.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return o}}const ev=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tv=/([^\#-~ |!])/g;function jp(t){return t.replace(/&/g,"&amp;").replace(ev,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(tv,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let jh;function $p(t,r){let o=null;try{jh=jh||function Fp(t){const r=new km(t);return function Fh(){try{return!!(new window.DOMParser).parseFromString(gu(""),"text/html")}catch{return!1}}()?new qo(r):r}(t);let a=r?String(r):"";o=jh.getInertBodyElement(a);let l=5,h=a;do{if(0===l)throw new Error("Failed to sanitize html because the input is unstable");l--,a=h,h=o.innerHTML,o=jh.getInertBodyElement(a)}while(a!==h);return gu((new Uh).sanitizeChildren(hc(o)||o))}finally{if(o){const a=hc(o)||o;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function hc(t){return"content"in t&&function gd(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Uc=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Uc||{});function Bp(t){const r=yu();return r?Rm(r.sanitize(Uc.HTML,t)||""):dc(t,"HTML")?Rm(da(t)):$p(mu(),He(t))}function $h(t){const r=yu();return r?r.sanitize(Uc.URL,t)||"":dc(t,"URL")?da(t):fd(He(t))}function zp(t){const r=yu();if(r)return Nh(r.sanitize(Uc.RESOURCE_URL,t)||"");if(dc(t,"ResourceURL"))return Nh(da(t));throw new ie(904,!1)}function Lm(t,r,o){return function iv(t,r){return"src"===r&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===r&&("base"===t||"link"===t)?zp:$h}(r,o)(t)}function yu(){const t=Je();return t&&t[Po].sanitizer}const md=new sn("ENVIRONMENT_INITIALIZER"),_d=new sn("INJECTOR",-1),yd=new sn("INJECTOR_DEF_TYPES");class Gp{get(r,o=J){if(o===J){const a=new Error(`NullInjectorError: No provider for ${Ie(r)}!`);throw a.name="NullInjectorError",a}return o}}function Zp(...t){return{\u0275providers:Bh(0,t),\u0275fromNgModule:!0}}function Bh(t,...r){const o=[],a=new Set;let l;const h=_=>{o.push(_)};return Ra(r,_=>{const E=_;vu(E,h,[],a)&&(l||=[],l.push(E))}),void 0!==l&&gl(l,h),o}function gl(t,r){for(let o=0;o<t.length;o++){const{ngModule:a,providers:l}=t[o];vd(l,h=>{r(h,a)})}}function vu(t,r,o,a){if(!(t=we(t)))return!1;let l=null,h=pr(t);const _=!h&&rn(t);if(h||_){if(_&&!_.standalone)return!1;l=t}else{const S=t.ngModule;if(h=pr(S),!h)return!1;l=S}const E=a.has(l);if(_){if(E)return!1;if(a.add(l),_.dependencies){const S="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const F of S)vu(F,r,o,a)}}else{if(!h)return!1;{if(null!=h.imports&&!E){let F;a.add(l);try{Ra(h.imports,W=>{vu(W,r,o,a)&&(F||=[],F.push(W))})}finally{}void 0!==F&&gl(F,r)}if(!E){const F=zr(l)||(()=>new l);r({provide:l,useFactory:F,deps:ln},l),r({provide:yd,useValue:l,multi:!0},l),r({provide:md,useValue:()=>qn(l),multi:!0},l)}const S=h.providers;if(null!=S&&!E){const F=t;vd(S,W=>{r(W,F)})}}}return l!==t&&void 0!==t.providers}function vd(t,r){for(let o of t)ht(o)&&(o=o.\u0275providers),Array.isArray(o)?vd(o,r):r(o)}const ov=Q({provide:String,useValue:Q});function zh(t){return null!==t&&"object"==typeof t&&ov in t}function jc(t){return"function"==typeof t}const Yp=new sn("Set Injector scope."),Id={},sv={};let Hh;function Gh(){return void 0===Hh&&(Hh=new Gp),Hh}class fs{}class ha extends fs{get destroyed(){return this._destroyed}constructor(r,o,a,l){super(),this.parent=o,this.source=a,this.scopes=l,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Td(r,_=>this.processProvider(_)),this.records.set(_d,Iu(void 0,this)),l.has("environment")&&this.records.set(fs,Iu(void 0,this));const h=this.records.get(Yp);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(yd.multi,ln,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(r){return this.assertNotDestroyed(),this._onDestroyHooks.push(r),()=>this.removeOnDestroy(r)}runInContext(r){this.assertNotDestroyed();const o=Ut(this),a=Ln(void 0);try{return r()}finally{Ut(o),Ln(a)}}get(r,o=J,a=gt.Default){if(this.assertNotDestroyed(),r.hasOwnProperty(kn))return r[kn](this);a=$e(a);const h=Ut(this),_=Ln(void 0);try{if(!(a&gt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const F=function cv(t){return"function"==typeof t||"object"==typeof t&&t instanceof sn}(r)&&tr(r);S=F&&this.injectableDefInScope(F)?Iu(Ed(r),Id):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(a&gt.Self?Gh():this.parent).get(r,o=a&gt.Optional&&o===J?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[K]=E[K]||[]).unshift(Ie(r)),h)throw E;return function Jt(t,r,o,a){const l=t[K];throw r[Gt]&&l.unshift(r[Gt]),t.message=function Xt(t,r,o,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let l=Ie(r);if(Array.isArray(r))l=r.map(Ie).join(" -> ");else if("object"==typeof r){let h=[];for(let _ in r)if(r.hasOwnProperty(_)){let E=r[_];h.push(_+":"+("string"==typeof E?JSON.stringify(E):Ie(E)))}l=`{${h.join(", ")}}`}return`${o}${a?"("+a+")":""}[${l}]: ${t.replace(Xe,"\n  ")}`}("\n"+t.message,l,o,a),t.ngTokenPath=l,t[K]=null,t}(E,r,"R3InjectorError",this.source)}throw E}finally{Ln(_),Ut(h)}}resolveInjectorInitializers(){const r=Ut(this),o=Ln(void 0);try{const l=this.get(md.multi,ln,gt.Self);for(const h of l)h()}finally{Ut(r),Ln(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(Ie(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(r){let o=jc(r=we(r))?r:we(r&&r.provide);const a=function jm(t){return zh(t)?Iu(void 0,t.useValue):Iu(function Qp(t,r,o){let a;if(jc(t)){const l=we(t);return zr(l)||Ed(l)}if(zh(t))a=()=>we(t.useValue);else if(function qp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...Se(t.deps||[]));else if(function Um(t){return!(!t||!t.useExisting)}(t))a=()=>qn(we(t.useExisting));else{const l=we(t&&(t.useClass||t.provide));if(!function av(t){return!!t.deps}(t))return zr(l)||Ed(l);a=()=>new l(...Se(t.deps))}return a}(t),Id)}(r);if(jc(r)||!0!==r.multi)this.records.get(o);else{let l=this.records.get(o);l||(l=Iu(void 0,Id,!0),l.factory=()=>Se(l.multi),this.records.set(o,l)),o=r,l.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Id&&(o.value=sv,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Jp(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=we(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(r){const o=this._onDestroyHooks.indexOf(r);-1!==o&&this._onDestroyHooks.splice(o,1)}}function Ed(t){const r=tr(t),o=null!==r?r.factory:zr(t);if(null!==o)return o;if(t instanceof sn)throw new ie(204,!1);if(t instanceof Function)return function Wh(t){const r=t.length;if(r>0)throw ks(r,"?"),new ie(204,!1);const o=function Wn(t){return t&&(t[Ye]||t[ze])||null}(t);return null!==o?()=>o.factory(t):()=>new t}(t);throw new ie(204,!1)}function Iu(t,r,o=!1){return{factory:t,value:r,multi:o?[]:void 0}}function Td(t,r){for(const o of t)Array.isArray(o)?Td(o,r):o&&ht(o)?Td(o.\u0275providers,r):r(o)}const Xp=new sn("AppId",{providedIn:"root",factory:()=>$m}),$m="ng",Zh=new sn("Platform Initializer"),ml=new sn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tg=new sn("CSP nonce",{providedIn:"root",factory:()=>mu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Yh=(t,r,o)=>null;function Tu(t,r,o=!1){return Yh(t,r,o)}class fv{}class ef{}class cg{resolveComponentFactory(r){throw function pv(t){const r=Error(`No component factory found for ${Ie(t)}.`);return r.ngComponent=t,r}(r)}}let $c=(()=>{class t{static{this.NULL=new cg}}return t})();function ug(){return wu(vi(),Je())}function wu(t,r){return new $a(lr(t,r))}let $a=(()=>{class t{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=ug}}return t})();function lg(t){return t instanceof $a?t.nativeElement:t}class Hm{}let gv=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function Gm(){const t=Je(),o=vo(vi().index,t);return(Cn(o)?o:t)[on]}()}}return t})(),Wm=(()=>{class t{static{this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>null})}}return t})();class Zm{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const nf=new Zm("16.2.12"),dg={};function af(t,r=null,o=null,a){const l=Cu(t,r,o,a);return l.resolveInjectorInitializers(),l}function Cu(t,r=null,o=null,a,l=new Set){const h=[o||ln,Zp(t)];return a=a||("object"==typeof t?void 0:Ie(t)),new ha(h,r||Gh(),a||null,l)}let Yo=(()=>{class t{static{this.THROW_IF_NOT_FOUND=J}static{this.NULL=new Gp}static create(o,a){if(Array.isArray(o))return af({name:""},a,o,"");{const l=o.name??"";return af({name:l},o.parent,o.providers,l)}}static{this.\u0275prov=zt({token:t,providedIn:"any",factory:()=>qn(_d)})}static{this.__NG_ELEMENT_ID__=-1}}return t})();function yg(t){return t.ngOriginalError}class Bc{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&yg(r);for(;o&&yg(o);)o=yg(o);return o||null}}function Eg(t){return r=>{setTimeout(t,void 0,r)}}const Ba=class Ig extends v.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let l=r,h=o||(()=>null),_=a;if(r&&"object"==typeof r){const S=r;l=S.next?.bind(S),h=S.error?.bind(S),_=S.complete?.bind(S)}this.__isAsync&&(h=Eg(h),l&&(l=Eg(l)),_&&(_=Eg(_)));const E=super.subscribe({next:l,error:h,complete:_});return r instanceof u.w&&r.add(E),E}};function cf(...t){}class uo{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ba(!1),this.onMicrotaskEmpty=new Ba(!1),this.onStable=new Ba(!1),this.onError=new Ba(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&o,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function Tg(){const t="function"==typeof Rt.requestAnimationFrame;let r=Rt[t?"requestAnimationFrame":"setTimeout"],o=Rt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&r&&o){const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:r,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Qm(t){const r=()=>{!function Ym(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Rt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,lf(t),t.isCheckStableRunning=!0,uf(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),lf(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,l,h,_,E)=>{if(function wg(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(E))return o.invokeTask(l,h,_,E);try{return Jm(t),o.invokeTask(l,h,_,E)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||t.shouldCoalesceRunChangeDetection)&&r(),Xm(t)}},onInvoke:(o,a,l,h,_,E,S)=>{try{return Jm(t),o.invoke(l,h,_,E,S)}finally{t.shouldCoalesceRunChangeDetection&&r(),Xm(t)}},onHasTask:(o,a,l,h)=>{o.hasTask(l,h),a===l&&("microTask"==h.change?(t._hasPendingMicrotasks=h.microTask,lf(t),uf(t)):"macroTask"==h.change&&(t.hasPendingMacrotasks=h.macroTask))},onHandleError:(o,a,l,h)=>(o.handleError(l,h),t.runOutsideAngular(()=>t.onError.emit(h)),!1)})}(l)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!uo.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(uo.isInAngularZone())throw new ie(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,l){const h=this._inner,_=h.scheduleEventTask("NgZoneEvent: "+l,r,_v,cf,cf);try{return h.runTask(_,o,a)}finally{h.cancelTask(_)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const _v={};function uf(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lf(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Jm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xm(t){t._nesting--,uf(t)}class yv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ba,this.onMicrotaskEmpty=new Ba,this.onStable=new Ba,this.onError=new Ba}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,l){return r.apply(o,a)}}const e_=new sn("",{providedIn:"root",factory:df});function df(){const t=En(uo);let r=!0;const o=new he.y(l=>{r=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{l.next(r),l.complete()})}),a=new he.y(l=>{let h;t.runOutsideAngular(()=>{h=t.onStable.subscribe(()=>{uo.assertNotInAngularZone(),queueMicrotask(()=>{!r&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(r=!0,l.next(!0))})})});const _=t.onUnstable.subscribe(()=>{uo.assertInAngularZone(),r&&(r=!1,t.runOutsideAngular(()=>{l.next(!1)}))});return()=>{h.unsubscribe(),_.unsubscribe()}});return(0,fe.T)(o,a.pipe(re()))}function hf(t){return t.ownerDocument.defaultView}function fa(t){return t instanceof Function?t():t}let Cg=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function Du(t){for(;t;){t[Kt]|=64;const r=lu(t);if(ye(t)&&!r)return t;t=r}return null}const r_=new sn("",{providedIn:"root",factory:()=>!1});let yf=null;function c_(t,r){return t[r]??u_()}function vf(t,r){const o=u_();o.producerNode?.length&&(t[r]=yf,o.lView=t,yf=If())}const Ev={...va,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Du(t.lView)},lView:null};function If(){return Object.create(Ev)}function u_(){return yf??=If(),yf}const Dn={};function l_(t){Ef(jn(),Je(),co()+t,!1)}function Ef(t,r,o,a){if(!a)if(3==(3&r[Kt])){const h=t.preOrderCheckHooks;null!==h&&Qc(r,h,o)}else{const h=t.preOrderHooks;null!==h&&Jc(r,h,0,o)}Ec(o)}function Su(t,r=gt.Default){const o=Je();return null===o?qn(t,r):bc(vi(),o,we(t),r)}function Tf(){throw new Error("invalid")}function wf(t,r,o,a,l,h,_,E,S,F,W){const le=r.blueprint.slice();return le[Kn]=l,le[Kt]=140|a,(null!==F||t&&2048&t[Kt])&&(le[Kt]|=2048),Bu(le),le[ir]=le[di]=t,le[Vn]=o,le[Po]=_||t&&t[Po],le[on]=E||t&&t[on],le[Ai]=S||t&&t[Ai]||null,le[wr]=h,le[Ho]=function Ji(){return Uy++}(),le[Si]=W,le[Ki]=F,le[Ir]=2==r.type?t[Ir]:le,le}function bl(t,r,o,a,l){let h=t.data[r];if(null===h)h=function Od(t,r,o,a,l){const h=Xa(),_=ec(),S=t.data[r]=function bv(t,r,o,a,l,h){let _=r?r.injectorIndex:-1,E=0;return os()&&(E|=128),{type:o,index:a,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:l,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?h:h&&h.parent,o,r,a,l);return null===t.firstChild&&(t.firstChild=S),null!==h&&(_?null==h.child&&null!==S.parent&&(h.child=S):null===h.next&&(h.next=S,S.prev=h)),S}(t,r,o,a,l),function x(){return Ot.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=o,h.value=a,h.attrs=l;const _=function Aa(){const t=Ot.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();h.injectorIndex=null===_?-1:_.injectorIndex}return Ii(h,!0),h}function Nd(t,r,o,a){if(0===o)return-1;const l=r.length;for(let h=0;h<o;h++)r.push(a),t.blueprint.push(a),t.data.push(null);return l}function bf(t,r,o,a,l){const h=c_(r,Ro),_=co(),E=2&a;try{Ec(-1),E&&r.length>Sn&&Ef(t,r,Sn,!1),Pt(E?2:0,l);const F=E?h:null,W=Ea(F);try{null!==F&&(F.dirty=!1),o(a,l)}finally{mo(F,W)}}finally{E&&null===r[Ro]&&vf(r,Ro),Ec(_),Pt(E?3:1,l)}}function kd(t,r,o){if(Go(r)){const a=No(null);try{const h=r.directiveEnd;for(let _=r.directiveStart;_<h;_++){const E=t.data[_];E.contentQueries&&E.contentQueries(1,o[_],_)}}finally{No(a)}}}function Fd(t,r,o){Dt()&&(function y_(t,r,o,a){const l=o.directiveStart,h=o.directiveEnd;Li(o)&&function Sv(t,r,o){const a=lr(r,t),l=Ld(o);let _=16;o.signals?_=4096:o.onPush&&(_=64);const E=jd(t,wf(t,l,null,_,a,r,null,t[Po].rendererFactory.createRenderer(a,o),null,null,null));t[r.index]=E}(r,o,t.data[l+o.componentOffset]),t.firstCreatePass||ra(o,r),Eo(a,r);const _=o.initialInputs;for(let E=l;E<h;E++){const S=t.data[E],F=sa(r,t,E,o);Eo(F,r),null!==_&&xv(0,E-l,F,S,0,_),$(S)&&(vo(o.index,r)[Vn]=sa(r,t,E,o))}}(t,r,o,lr(o,r)),64==(64&o.flags)&&Df(t,r,o))}function Pg(t,r,o=lr){const a=r.localNames;if(null!==a){let l=r.index+1;for(let h=0;h<a.length;h+=2){const _=a[h+1],E=-1===_?o(r,t):t[_];t[l++]=E}}}function Ld(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=Rg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):r}function Rg(t,r,o,a,l,h,_,E,S,F,W){const le=Sn+a,Ce=le+l,Pe=function h_(t,r){const o=[];for(let a=0;a<r;a++)o.push(a<t?null:Dn);return o}(le,Ce),Qe="function"==typeof F?F():F;return Pe[bt]={type:t,blueprint:Pe,template:o,queries:null,viewQuery:E,declTNode:r,data:Pe.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:S,consts:Qe,incompleteFirstPass:!1,ssrId:W}}let Mg=t=>null;function p_(t,r,o,a){for(let l in t)if(t.hasOwnProperty(l)){o=null===o?{}:o;const h=t[l];null===a?Vd(o,r,l,h):a.hasOwnProperty(l)&&Vd(o,r,a[l],h)}return o}function Vd(t,r,o,a){t.hasOwnProperty(o)?t[o].push(r,a):t[o]=[r,a]}function ps(t,r,o,a,l,h,_,E){const S=lr(r,o);let W,F=r.inputs;!E&&null!=F&&(W=F[a])?(Jn(t,o,W,a,l),Li(r)&&function g_(t,r){const o=vo(r,t);16&o[Kt]||(o[Kt]|=64)}(o,r.index)):3&r.type&&(a=function Ng(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),l=null!=_?_(l,r.value||"",a):l,h.setProperty(S,a,l))}function Al(t,r,o,a){if(Dt()){const l=null===a?null:{"":-1},h=function Sl(t,r){const o=t.directiveRegistry;let a=null,l=null;if(o)for(let h=0;h<o.length;h++){const _=o[h];if(Ls(r,_.selectors,!1))if(a||(a=[]),$(_))if(null!==_.findHostDirectiveDefs){const E=[];l=l||new Map,_.findHostDirectiveDefs(_,E,l),a.unshift(...E,_),Ud(t,r,E.length)}else a.unshift(_),Ud(t,r,0);else l=l||new Map,_.findHostDirectiveDefs?.(_,a,l),a.push(_)}return null===a?null:[a,l]}(t,o);let _,E;null===h?_=E=null:[_,E]=h,null!==_&&Af(t,r,o,_,l,E),l&&function Cv(t,r,o){if(r){const a=t.localNames=[];for(let l=0;l<r.length;l+=2){const h=o[r[l+1]];if(null==h)throw new ie(-301,!1);a.push(r[l],h)}}}(o,a,l)}o.mergedAttrs=gi(o.mergedAttrs,o.attrs)}function Af(t,r,o,a,l,h){for(let F=0;F<a.length;F++)oa(ra(o,r),t,a[F].type);!function Dv(t,r,o){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+o,t.providerIndexes=r}(o,t.data.length,a.length);for(let F=0;F<a.length;F++){const W=a[F];W.providersResolver&&W.providersResolver(W)}let _=!1,E=!1,S=Nd(t,r,a.length,null);for(let F=0;F<a.length;F++){const W=a[F];o.mergedAttrs=gi(o.mergedAttrs,W.hostAttrs),I_(t,o,r,S,W),Av(S,W,l),null!==W.contentQueries&&(o.flags|=4),(null!==W.hostBindings||null!==W.hostAttrs||0!==W.hostVars)&&(o.flags|=64);const le=W.type.prototype;!_&&(le.ngOnChanges||le.ngOnInit||le.ngDoCheck)&&((t.preOrderHooks??=[]).push(o.index),_=!0),!E&&(le.ngOnChanges||le.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(o.index),E=!0),S++}!function Og(t,r,o){const l=r.directiveEnd,h=t.data,_=r.attrs,E=[];let S=null,F=null;for(let W=r.directiveStart;W<l;W++){const le=h[W],Ce=o?o.get(le):null,Qe=Ce?Ce.outputs:null;S=p_(le.inputs,W,S,Ce?Ce.inputs:null),F=p_(le.outputs,W,F,Qe);const _t=null===S||null===_||Ni(r)?null:Pv(S,W,_);E.push(_t)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=8),S.hasOwnProperty("style")&&(r.flags|=16)),r.initialInputs=E,r.inputs=S,r.outputs=F}(t,o,h)}function Df(t,r,o){const a=o.directiveStart,l=o.directiveEnd,h=o.index,_=function k(){return Ot.lFrame.currentDirectiveIndex}();try{Ec(h);for(let E=a;E<l;E++){const S=t.data[E],F=r[E];q(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&v_(S,F)}}finally{Ec(-1),q(_)}}function v_(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Ud(t,r,o){r.componentOffset=o,(t.components??=[]).push(r.index)}function Av(t,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=t;$(r)&&(o[""]=t)}}function I_(t,r,o,a,l){t.data[a]=l;const h=l.factory||(l.factory=zr(l.type)),_=new tu(h,$(l),Su);t.blueprint[a]=_,o[a]=_,function __(t,r,o,a,l){const h=l.hostBindings;if(h){let _=t.hostBindingOpCodes;null===_&&(_=t.hostBindingOpCodes=[]);const E=~r.index;(function Dl(t){let r=t.length;for(;r>0;){const o=t[--r];if("number"==typeof o&&o<0)return o}return 0})(_)!=E&&_.push(E),_.push(o,a,h)}}(t,r,a,Nd(t,o,l.hostVars,Dn),l)}function pa(t,r,o,a,l,h){const _=lr(t,r);!function Fg(t,r,o,a,l,h,_){if(null==h)t.removeAttribute(r,l,o);else{const E=null==_?He(h):_(h,a||"",l);t.setAttribute(r,l,E,o)}}(r[on],_,h,t.value,o,a,l)}function xv(t,r,o,a,l,h){const _=h[r];if(null!==_)for(let E=0;E<_.length;)E_(a,o,_[E++],_[E++],_[E++])}function E_(t,r,o,a,l){const h=No(null);try{const _=t.inputTransforms;null!==_&&_.hasOwnProperty(a)&&(l=_[a].call(r,l)),null!==t.setInput?t.setInput(r,l,o,a):r[a]=l}finally{No(h)}}function Pv(t,r,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;if(t.hasOwnProperty(h)){null===a&&(a=[]);const _=t[h];for(let E=0;E<_.length;E+=2)if(_[E]===r){a.push(h,_[E+1],o[l+1]);break}}l+=2}else l+=2;else l+=4}return a}function T_(t,r,o,a){return[t,!0,!1,r,null,0,a,o,null,null,null]}function w_(t,r){const o=t.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const h=o[a+1];if(-1!==h){const _=t.data[h];Me(o[a]),_.contentQueries(2,r[h],h)}}}function jd(t,r){return t[Di]?t[ns][Lr]=r:t[Di]=r,t[ns]=r,r}function Sf(t,r,o){Me(0);const a=No(null);try{r(t,o)}finally{No(a)}}function C_(t){return t[ro]||(t[ro]=[])}function Lg(t){return t.cleanup||(t.cleanup=[])}function $d(t,r){const o=t[Ai],a=o?o.get(Bc,null):null;a&&a.handleError(r)}function Jn(t,r,o,a,l){for(let h=0;h<o.length;){const _=o[h++],E=o[h++];E_(t.data[_],r[_],a,E,l)}}function za(t,r,o){const a=st(r,t);!function ua(t,r,o){t.setValue(r,o)}(t[on],a,o)}function A_(t,r){const o=vo(r,t),a=o[bt];!function Bd(t,r){for(let o=r.length;o<t.blueprint.length;o++)r.push(t.blueprint[o])}(a,o);const l=o[Kn];null!==l&&null===o[Si]&&(o[Si]=Tu(l,o[Ai])),Ug(a,o,o[Vn])}function Ug(t,r,o){Hn(r);try{const a=t.viewQuery;null!==a&&Sf(1,a,o);const l=t.template;null!==l&&bf(t,r,l,1,o),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&w_(t,r),t.staticViewQueries&&Sf(2,t.viewQuery,o);const h=t.components;null!==h&&function jo(t,r){for(let o=0;o<r.length;o++)A_(t,r[o])}(r,h)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[Kt]&=-5,rc()}}let Ri=(()=>{class t{constructor(){this.all=new Set,this.queue=new Map}create(o,a,l){const h=typeof Zone>"u"?null:Zone.current,_=function fn(t,r,o){const a=Object.create(Tr);o&&(a.consumerAllowSignalWrites=!0),a.fn=t,a.schedule=r;const l=_=>{a.cleanupFn=_};return a.ref={notify:()=>Us(a),run:()=>{if(a.dirty=!1,a.hasRun&&!yc(a))return;a.hasRun=!0;const _=Ea(a);try{a.cleanupFn(),a.cleanupFn=Mr,a.fn(l)}finally{mo(a,_)}},cleanup:()=>a.cleanupFn()},a.ref}(o,F=>{this.all.has(F)&&this.queue.set(F,h)},l);let E;this.all.add(_),_.notify();const S=()=>{_.cleanup(),E?.(),this.all.delete(_),this.queue.delete(_)};return E=a?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[o,a]of this.queue)this.queue.delete(o),a?a.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=zt({token:t,providedIn:"root",factory:()=>new t})}}return t})();function xf(t,r,o){let a=o?t.styles:null,l=o?t.classes:null,h=0;if(null!==r)for(let _=0;_<r.length;_++){const E=r[_];"number"==typeof E?h=E:1==h?l=De(l,E):2==h&&(a=De(a,E+": "+r[++_]+";"))}o?t.styles=a:t.stylesWithoutHost=a,o?t.classes=l:t.classesWithoutHost=l}function Pf(t,r,o,a,l=!1){for(;null!==o;){const h=r[o.index];null!==h&&a.push(dt(h)),jr(h)&&jg(h,a);const _=o.type;if(8&_)Pf(t,r,o.child,a);else if(32&_){const E=Tp(o,r);let S;for(;S=E();)a.push(S)}else if(16&_){const E=Nc(r,o);if(Array.isArray(E))a.push(...E);else{const S=lu(r[Ir]);Pf(S[bt],S,E,a,!0)}}o=l?o.projectionNext:o.next}return a}function jg(t,r){for(let o=Mn;o<t.length;o++){const a=t[o],l=a[bt].firstChild;null!==l&&Pf(a[bt],a,l,r)}t[mi]!==t[Kn]&&r.push(t[mi])}function $g(t,r,o,a=!0){const l=r[Po],h=l.rendererFactory,_=l.afterRenderEventManager;h.begin?.(),_?.begin();try{Rf(t,r,t.template,o)}catch(S){throw a&&$d(r,S),S}finally{h.end?.(),l.effectManager?.flush(),_?.end()}}function D_(t){const r=_p(t);$g(r[bt],r,t)}function Rf(t,r,o,a){const l=r[Kt];if(256!=(256&l)){r[Po].effectManager?.flush(),Hn(r);try{Bu(r),function $l(t){return Ot.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==o&&bf(t,r,o,2,a);const _=3==(3&l);if(_){const F=t.preOrderCheckHooks;null!==F&&Qc(r,F,null)}else{const F=t.preOrderHooks;null!==F&&Jc(r,F,0,null),Xc(r,0)}if(function BE(t){for(let r=Em(t);null!==r;r=Pi(r)){if(!r[ii])continue;const o=r[Mo];for(let a=0;a<o.length;a++){Ps(o[a])}}}(r),S_(r,2),null!==t.contentQueries&&w_(t,r),_){const F=t.contentCheckHooks;null!==F&&Qc(r,F)}else{const F=t.contentHooks;null!==F&&Jc(r,F,1),Xc(r,1)}!function d_(t,r){const o=t.hostBindingOpCodes;if(null===o)return;const a=c_(r,As);try{for(let l=0;l<o.length;l++){const h=o[l];if(h<0)Ec(~h);else{const _=h,E=o[++l],S=o[++l];P(E,_),a.dirty=!1;const F=Ea(a);try{S(2,r[_])}finally{mo(a,F)}}}}finally{null===r[As]&&vf(r,As),Ec(-1)}}(t,r);const E=t.components;null!==E&&x_(r,E,0);const S=t.viewQuery;if(null!==S&&Sf(2,S,a),_){const F=t.viewCheckHooks;null!==F&&Qc(r,F)}else{const F=t.viewHooks;null!==F&&Jc(r,F,2),Xc(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[Kt]&=-73,zu(r)}finally{rc()}}}function S_(t,r){for(let o=Em(t);null!==o;o=Pi(o))for(let a=Mn;a<o.length;a++)Mv(o[a],r)}function Xr(t,r,o){Mv(vo(r,t),o)}function Mv(t,r){if(!function ba(t){return 128==(128&t[Kt])}(t))return;const o=t[bt],a=t[Kt];if(80&a&&0===r||1024&a||2===r)Rf(o,t,o.template,t[Vn]);else if(t[ts]>0){S_(t,1);const l=o.components;null!==l&&x_(t,l,1)}}function x_(t,r,o){for(let a=0;a<r.length;a++)Xr(t,r[a],o)}class si{get rootNodes(){const r=this._lView,o=r[bt];return Pf(o,r,o.firstChild,[])}constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vn]}set context(r){this._lView[Vn]=r}get destroyed(){return 256==(256&this._lView[Kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[ir];if(jr(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(dl(r,a),Ma(o,a))}this._attachedToViewContainer=!1}wp(this._lView[bt],this._lView)}onDestroy(r){!function Ja(t,r){if(256==(256&t[Kt]))throw new ie(911,!1);null===t[oo]&&(t[oo]=[]),t[oo].push(r)}(this._lView,r)}markForCheck(){Du(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kt]&=-129}reattach(){this._lView[Kt]|=128}detectChanges(){$g(this._lView[bt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function wm(t,r){pu(t,r,r[on],2,null,null)}(this._lView[bt],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=r}}class P_ extends si{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;$g(r[bt],r,r[Vn],!1)}checkNoChanges(){}get context(){return null}}class Ov extends $c{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=rn(r);return new Mf(o,this.ngModule)}}function Nv(t){const r=[];for(let o in t)t.hasOwnProperty(o)&&r.push({propName:t[o],templateName:o});return r}class zE{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){a=$e(a);const l=this.injector.get(r,dg,a);return l!==dg||o===dg?l:this.parentInjector.get(r,o,a)}}class Mf extends ef{get inputs(){const r=this.componentDef,o=r.inputTransforms,a=Nv(r.inputs);if(null!==o)for(const l of a)o.hasOwnProperty(l.propName)&&(l.transform=o[l.propName]);return a}get outputs(){return Nv(this.componentDef.outputs)}constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function So(t){return t.map(_s).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}create(r,o,a,l){let h=(l=l||this.ngModule)instanceof fs?l:l?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const _=h?new zE(r,h):r,E=_.get(Hm,null);if(null===E)throw new ie(407,!1);const le={rendererFactory:E,sanitizer:_.get(Wm,null),effectManager:_.get(Ri,null),afterRenderEventManager:_.get(Cg,null)},Ce=E.createRenderer(null,this.componentDef),Pe=this.componentDef.selectors[0][0]||"div",Qe=a?function f_(t,r,o,a){const h=a.get(r_,!1)||o===Rn.ShadowDom,_=t.selectRootElement(r,h);return function Cl(t){Mg(t)}(_),_}(Ce,a,this.componentDef.encapsulation,_):id(Ce,Pe,function R_(t){const r=t.toLowerCase();return"svg"===r?Lt:"math"===r?"math":null}(Pe)),Yt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ut=null;null!==Qe&&(ut=Tu(Qe,_,!0));const Pn=Rg(0,null,null,1,0,null,null,null,null,null,null),Xn=wf(null,Pn,null,Yt,null,null,le,Ce,_,null,ut);let Yr,Ys;Hn(Xn);try{const Vu=this.componentDef;let Jf,ME=null;Vu.findHostDirectiveDefs?(Jf=[],ME=new Map,Vu.findHostDirectiveDefs(Vu,Jf,ME),Jf.push(Vu)):Jf=[Vu];const nD=function GE(t,r){const o=t[bt],a=Sn;return t[a]=r,bl(o,a,2,"#host",null)}(Xn,Qe),rD=function WE(t,r,o,a,l,h,_){const E=l[bt];!function ZE(t,r,o,a){for(const l of t)r.mergedAttrs=gi(r.mergedAttrs,l.hostAttrs);null!==r.mergedAttrs&&(xf(r,r.mergedAttrs,!0),null!==o&&hl(a,o,r))}(a,t,r,_);let S=null;null!==r&&(S=Tu(r,l[Ai]));const F=h.rendererFactory.createRenderer(r,o);let W=16;o.signals?W=4096:o.onPush&&(W=64);const le=wf(l,Ld(o),null,W,l[t.index],t,h,F,null,null,S);return E.firstCreatePass&&Ud(E,t,a.length-1),jd(l,le),l[t.index]=le}(nD,Qe,Vu,Jf,Xn,le,Ce);Ys=Yc(Pn,Sn),Qe&&function M_(t,r,o,a){if(a)$o(t,o,["ng-version",nf.full]);else{const{attrs:l,classes:h}=function bs(t){const r=[],o=[];let a=1,l=2;for(;a<t.length;){let h=t[a];if("string"==typeof h)2===l?""!==h&&r.push(h,t[++a]):8===l&&o.push(h);else{if(!ci(l))break;l=h}a++}return{attrs:r,classes:o}}(r.selectors[0]);l&&$o(t,o,l),h&&h.length>0&&ud(t,o,h.join(" "))}}(Ce,Vu,Qe,a),void 0!==o&&function zd(t,r,o){const a=t.projection=[];for(let l=0;l<r.length;l++){const h=o[l];a.push(null!=h?Array.from(h):null)}}(Ys,this.ngContentSelectors,o),Yr=function qE(t,r,o,a,l,h){const _=vi(),E=l[bt],S=lr(_,l);Af(E,l,_,o,null,a);for(let W=0;W<o.length;W++)Eo(sa(l,E,_.directiveStart+W,_),l);Df(E,l,_),S&&Eo(S,l);const F=sa(l,E,_.directiveStart+_.componentOffset,_);if(t[Vn]=l[Vn]=F,null!==h)for(const W of h)W(F,r);return kd(E,_,t),F}(rD,Vu,Jf,ME,Xn,[kv]),Ug(Pn,Xn,null)}finally{rc()}return new HE(this.componentType,Yr,wu(Ys,Xn),Xn,Ys)}}class HE extends fv{constructor(r,o,a,l,h){super(),this.location=a,this._rootLView=l,this._tNode=h,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new P_(l),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let l;if(null!==a&&(l=a[r])){if(this.previousInputValues??=new Map,this.previousInputValues.has(r)&&Object.is(this.previousInputValues.get(r),o))return;const h=this._rootLView;Jn(h[bt],h,l,r,o),this.previousInputValues.set(r,o),Du(vo(this._tNode.index,h))}}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function kv(){const t=vi();qu(Je()[bt],t)}function k_(t){const r=t.inputConfig,o={};for(const a in r)if(r.hasOwnProperty(a)){const l=r[a];Array.isArray(l)&&l[2]&&(o[a]=l[2])}t.inputTransforms=o}function Ff(t){return!!Lf(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Lf(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ga(t,r,o){return t[r]=o}function xl(t,r){return t[r]}function bo(t,r,o){return!Object.is(t[r],o)&&(t[r]=o,!0)}function ma(t,r,o,a){const l=bo(t,r,o);return bo(t,r+1,a)||l}function Pl(t,r,o,a){const l=Je();return bo(l,ss(),r)&&(jn(),pa(Zr(),l,t,r,o,a)),Pl}function Gc(t,r,o,a){return bo(t,ss(),o)?r+He(o)+a:Dn}function Rl(t,r,o,a,l,h){const E=ma(t,function ao(){return Ot.lFrame.bindingIndex}(),o,l);return w(2),E?r+He(o)+a+He(l)+h:Dn}function K_(t,r,o,a,l,h,_,E){const S=Je(),F=jn(),W=t+Sn,le=F.firstCreatePass?function Qv(t,r,o,a,l,h,_,E,S){const F=r.consts,W=bl(r,t,4,_||null,ea(F,E));Al(r,o,W,ea(F,S)),qu(r,W);const le=W.tView=Rg(2,W,a,l,h,r.directiveRegistry,r.pipeRegistry,null,r.schemas,F,null);return null!==r.queries&&(r.queries.template(r,W),le.queries=r.queries.embeddedTView(W)),W}(W,F,S,r,o,a,l,h,_):F.data[W];Ii(le,!1);const Ce=Jv(F,S,le,t);Hl()&&fu(F,S,Ce,le),Eo(Ce,S),jd(S,S[W]=T_(Ce,S,Ce,le)),Oo(le)&&Fd(F,S,le),null!=_&&Pg(S,le,E)}let Jv=function kl(t,r,o,a){return Zo(!0),r[on].createComment("")};function Y_(t){return Xs(function tc(){return Ot.lFrame.contextLView}(),Sn+t)}function Zg(t,r,o){const a=Je();return bo(a,ss(),r)&&ps(jn(),Zr(),a,t,r,a[on],o,!1),Zg}function qg(t,r,o,a,l){const _=l?"class":"style";Jn(t,o,r.inputs[_],_,a)}function Kg(t,r,o,a){const l=Je(),h=jn(),_=Sn+t,E=l[on],S=h.firstCreatePass?function eI(t,r,o,a,l,h){const _=r.consts,S=bl(r,t,2,a,ea(_,l));return Al(r,o,S,ea(_,h)),null!==S.attrs&&xf(S,S.attrs,!1),null!==S.mergedAttrs&&xf(S,S.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,S),S}(_,h,l,r,o,a):h.data[_],F=tI(h,l,S,E,r,t);l[_]=F;const W=Oo(S);return Ii(S,!0),hl(E,F,S),32!=(32&S.flags)&&Hl()&&fu(h,l,F,S),0===function Qn(){return Ot.lFrame.elementDepthCount}()&&Eo(F,l),function pi(){Ot.lFrame.elementDepthCount++}(),W&&(Fd(h,l,S),kd(h,S,l)),null!==a&&Pg(l,S),Kg}function Yg(){let t=vi();ec()?Re():(t=t.parent,Ii(t,!1));const r=t;(function Ic(t){return Ot.skipHydrationRootTNode===t})(r)&&function ih(){Ot.skipHydrationRootTNode=null}(),function Wr(){Ot.lFrame.elementDepthCount--}();const o=jn();return o.firstCreatePass&&(qu(o,t),Go(t)&&o.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ch(t){return 0!=(8&t.flags)}(r)&&qg(o,r,Je(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function zs(t){return 0!=(16&t.flags)}(r)&&qg(o,r,Je(),r.stylesWithoutHost,!1),Yg}function Q_(t,r,o,a){return Kg(t,r,o,a),Yg(),Q_}let tI=(t,r,o,a,l,h)=>(Zo(!0),id(a,l,function ep(){return Ot.lFrame.currentNamespace}()));function Qg(t,r,o){const a=Je(),l=jn(),h=t+Sn,_=l.firstCreatePass?function iI(t,r,o,a,l){const h=r.consts,_=ea(h,a),E=bl(r,t,8,"ng-container",_);return null!==_&&xf(E,_,!0),Al(r,o,E,ea(h,l)),null!==r.queries&&r.queries.elementStart(r,E),E}(h,l,a,r,o):l.data[h];Ii(_,!0);const E=Zd(l,a,_,t);return a[h]=E,Hl()&&fu(l,a,E,_),Eo(E,a),Oo(_)&&(Fd(l,a,_),kd(l,_,a)),null!=o&&Pg(a,_),Qg}function zf(){let t=vi();const r=jn();return ec()?Re():(t=t.parent,Ii(t,!1)),r.firstCreatePass&&(qu(r,t),Go(t)&&r.queries.elementEnd(t)),zf}let Zd=(t,r,o,a)=>(Zo(!0),rd(r[on],""));function sI(){return Je()}function Jg(t){return!!t&&"function"==typeof t.then}function aI(t){return!!t&&"function"==typeof t.subscribe}function X_(t,r,o,a){const l=Je(),h=jn(),_=vi();return function uI(t,r,o,a,l,h,_){const E=Oo(a),F=t.firstCreatePass&&Lg(t),W=r[Vn],le=C_(r);let Ce=!0;if(3&a.type||_){const _t=lr(a,r),Nt=_?_(_t):_t,Yt=le.length,ut=_?Xn=>_(dt(Xn[a.index])):a.index;let Pn=null;if(!_&&E&&(Pn=function s0(t,r,o,a){const l=t.cleanup;if(null!=l)for(let h=0;h<l.length-1;h+=2){const _=l[h];if(_===o&&l[h+1]===a){const E=r[ro],S=l[h+2];return E.length>S?E[S]:null}"string"==typeof _&&(h+=2)}return null}(t,r,l,a.index)),null!==Pn)(Pn.__ngLastListenerFn__||Pn).__ngNextListenerFn__=h,Pn.__ngLastListenerFn__=h,Ce=!1;else{h=ey(a,r,W,h,!1);const Xn=o.listen(Nt,l,h);le.push(h,Xn),F&&F.push(l,ut,Yt,Yt+1)}}else h=ey(a,r,W,h,!1);const Pe=a.outputs;let Qe;if(Ce&&null!==Pe&&(Qe=Pe[l])){const _t=Qe.length;if(_t)for(let Nt=0;Nt<_t;Nt+=2){const Yr=r[Qe[Nt]][Qe[Nt+1]].subscribe(h),Ys=le.length;le.push(h,Yr),F&&F.push(l,a.index,Ys,-(Ys+1))}}}(h,l,l[on],_,t,r,a),X_}function Xg(t,r,o,a){try{return Pt(6,r,o),!1!==o(a)}catch(l){return $d(t,l),!1}finally{Pt(7,r,o)}}function ey(t,r,o,a,l){return function h(_){if(_===Function)return a;Du(t.componentOffset>-1?vo(t.index,r):r);let S=Xg(r,o,a,_),F=h.__ngNextListenerFn__;for(;F;)S=Xg(r,o,F,_)&&S,F=F.__ngNextListenerFn__;return l&&!1===S&&_.preventDefault(),S}}function lI(t=1){return function Bs(t){return(Ot.lFrame.contextLView=function oh(t,r){for(;t>0;)r=r[di],t--;return r}(t,Ot.lFrame.contextLView))[Vn]}(t)}function a0(t,r){let o=null;const a=function Qs(t){const r=t.attrs;if(null!=r){const o=r.indexOf(5);if(!(1&o))return r[o+1]}return null}(t);for(let l=0;l<r.length;l++){const h=r[l];if("*"!==h){if(null===a?Ls(t,h,!0):ws(a,h))return l}else o=l}return o}function dI(t){const r=Je()[Ir][wr];if(!r.projection){const a=r.projection=ks(t?t.length:1,null),l=a.slice();let h=r.child;for(;null!==h;){const _=t?a0(h,t):0;null!==_&&(l[_]?l[_].projectionNext=h:a[_]=h,l[_]=h),h=h.next}}}function hI(t,r=0,o){const a=Je(),l=jn(),h=bl(l,Sn+t,16,null,o||null);null===h.projection&&(h.projection=r),Re(),(!a[Si]||os())&&32!=(32&h.flags)&&function Sm(t,r,o){Mp(r[on],0,r,o,Cp(t,o,r),Dp(o.parent||r[wr],o,r))}(l,a,h)}function qd(t,r,o,a,l){const h=Je(),_=Gc(h,r,o,a);return _!==Dn&&ps(jn(),Zr(),h,t,_,h[on],l,!1),qd}function Fl(t,r){return t<<17|r<<2}function Zc(t){return t>>17&32767}function Zf(t){return 2|t}function Lu(t){return(131068&t)>>2}function Qd(t,r){return-131069&t|r<<2}function tm(t){return 1|t}function sy(t,r,o,a,l){const h=t[o+1],_=null===r;let E=a?Zc(h):Lu(h),S=!1;for(;0!==E&&(!1===S||_);){const W=t[E+1];c0(t[E],r)&&(S=!0,t[E+1]=a?tm(W):Zf(W)),E=a?Zc(W):Lu(W)}S&&(t[o+1]=a?Zf(h):tm(h))}function c0(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&Oa(t,r)>=0}const Co={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ay(t){return t.substring(Co.key,Co.keyEnd)}function Jd(t,r){const o=Co.textEnd;return o===r?-1:(r=Co.keyEnd=function II(t,r,o){for(;r<o&&t.charCodeAt(r)>32;)r++;return r}(t,Co.key=r,o),qc(t,r,o))}function qc(t,r,o){for(;r<o&&t.charCodeAt(r)<=32;)r++;return r}function hy(t,r,o){return Za(t,r,o,!1),hy}function fy(t,r){return Za(t,r,null,!0),fy}function py(t){qa(m0,_c,t,!0)}function _c(t,r){for(let o=function u0(t){return function vI(t){Co.key=0,Co.keyEnd=0,Co.value=0,Co.valueEnd=0,Co.textEnd=t.length}(t),Jd(t,qc(t,0,Co.textEnd))}(r);o>=0;o=Jd(r,o))ls(t,ay(r),!0)}function Za(t,r,o,a){const l=Je(),h=jn(),_=w(2);h.firstUpdatePass&&wI(h,t,_,a),r!==Dn&&bo(l,_,r)&&DI(h,h.data[co()],l,l[on],t,l[_+1]=function _0(t,r){return null==t||""===t||("string"==typeof r?t+=r:"object"==typeof t&&(t=Ie(da(t)))),t}(r,o),a,_)}function qa(t,r,o,a){const l=jn(),h=w(2);l.firstUpdatePass&&wI(l,null,h,a);const _=Je();if(o!==Dn&&bo(_,h,o)){const E=l.data[co()];if(_y(E,a)&&!gy(l,h)){let S=a?E.classesWithoutHost:E.stylesWithoutHost;null!==S&&(o=De(S,o||"")),qg(l,E,_,o,a)}else!function AI(t,r,o,a,l,h,_,E){l===Dn&&(l=ln);let S=0,F=0,W=0<l.length?l[0]:null,le=0<h.length?h[0]:null;for(;null!==W||null!==le;){const Ce=S<l.length?l[S+1]:void 0,Pe=F<h.length?h[F+1]:void 0;let _t,Qe=null;W===le?(S+=2,F+=2,Ce!==Pe&&(Qe=le,_t=Pe)):null===le||null!==W&&W<le?(S+=2,Qe=W):(F+=2,Qe=le,_t=Pe),null!==Qe&&DI(t,r,o,a,Qe,_t,_,E),W=S<l.length?l[S]:null,le=F<h.length?h[F]:null}}(l,E,_,_[on],_[h+1],_[h+1]=function g0(t,r,o){if(null==o||""===o)return ln;const a=[],l=da(o);if(Array.isArray(l))for(let h=0;h<l.length;h++)t(a,l[h],!0);else if("object"==typeof l)for(const h in l)l.hasOwnProperty(h)&&t(a,h,l[h]);else"string"==typeof l&&r(a,l);return a}(t,r,o),a,h)}}function gy(t,r){return r>=t.expandoStartIndex}function wI(t,r,o,a){const l=t.data;if(null===l[o+1]){const h=l[co()],_=gy(t,o);_y(h,a)&&null===r&&!_&&(r=!1),r=function h0(t,r,o,a){const l=function de(t){const r=Ot.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}(t);let h=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(o=qf(o=my(null,t,r,o,a),r.attrs,a),h=null);else{const _=r.directiveStylingLast;if(-1===_||t[_]!==l)if(o=my(l,t,r,o,a),null===h){let S=function bI(t,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==Lu(a))return t[Zc(a)]}(t,r,a);void 0!==S&&Array.isArray(S)&&(S=my(null,t,r,S[1],a),S=qf(S,r.attrs,a),function f0(t,r,o,a){t[Zc(o?r.classBindings:r.styleBindings)]=a}(t,r,a,S))}else h=function p0(t,r,o){let a;const l=r.directiveEnd;for(let h=1+r.directiveStylingLast;h<l;h++)a=qf(a,t[h].hostAttrs,o);return qf(a,r.attrs,o)}(t,r,a)}return void 0!==h&&(a?r.residualClasses=h:r.residualStyles=h),o}(l,h,r,a),function _I(t,r,o,a,l,h){let _=h?r.classBindings:r.styleBindings,E=Zc(_),S=Lu(_);t[a]=o;let W,F=!1;if(Array.isArray(o)?(W=o[1],(null===W||Oa(o,W)>0)&&(F=!0)):W=o,l)if(0!==S){const Ce=Zc(t[E+1]);t[a+1]=Fl(Ce,E),0!==Ce&&(t[Ce+1]=Qd(t[Ce+1],a)),t[E+1]=function ry(t,r){return 131071&t|r<<17}(t[E+1],a)}else t[a+1]=Fl(E,0),0!==E&&(t[E+1]=Qd(t[E+1],a)),E=a;else t[a+1]=Fl(S,0),0===E?E=a:t[S+1]=Qd(t[S+1],a),S=a;F&&(t[a+1]=Zf(t[a+1])),sy(t,W,a,!0),sy(t,W,a,!1),function oy(t,r,o,a,l){const h=l?t.residualClasses:t.residualStyles;null!=h&&"string"==typeof r&&Oa(h,r)>=0&&(o[a+1]=tm(o[a+1]))}(r,W,t,a,h),_=Fl(E,S),h?r.classBindings=_:r.styleBindings=_}(l,h,r,o,_,a)}}function my(t,r,o,a,l){let h=null;const _=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<_&&(h=r[E],a=qf(a,h.hostAttrs,l),h!==t);)E++;return null!==t&&(o.directiveStylingLast=E),a}function qf(t,r,o){const a=o?1:2;let l=-1;if(null!==r)for(let h=0;h<r.length;h++){const _=r[h];"number"==typeof _?l=_:l===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ls(t,_,!!o||r[++h]))}return void 0===t?null:t}function m0(t,r,o){const a=String(r);""!==a&&!a.includes(" ")&&ls(t,a,o)}function DI(t,r,o,a,l,h,_,E){if(!(3&r.type))return;const S=t.data,F=S[E+1],W=function gI(t){return 1==(1&t)}(F)?SI(S,r,o,l,Lu(F),_):void 0;nm(W)||(nm(h)||function pI(t){return 2==(2&t)}(F)&&(h=SI(S,null,o,l,E,_)),function xm(t,r,o,a,l){if(r)l?t.addClass(o,a):t.removeClass(o,a);else{let h=-1===a.indexOf("-")?void 0:ac.DashCase;null==l?t.removeStyle(o,a,h):("string"==typeof l&&l.endsWith("!important")&&(l=l.slice(0,-10),h|=ac.Important),t.setStyle(o,a,l,h))}}(a,_,st(co(),o),l,h))}function SI(t,r,o,a,l,h){const _=null===r;let E;for(;l>0;){const S=t[l],F=Array.isArray(S),W=F?S[1]:S,le=null===W;let Ce=o[l+1];Ce===Dn&&(Ce=le?ln:void 0);let Pe=le?ds(Ce,a):W===a?Ce:void 0;if(F&&!nm(Pe)&&(Pe=ds(S,a)),nm(Pe)&&(E=Pe,_))return E;const Qe=t[l+1];l=_?Zc(Qe):Lu(Qe)}if(null!==r){let S=h?r.residualClasses:r.residualStyles;null!=S&&(E=ds(S,a))}return E}function nm(t){return void 0!==t}function _y(t,r){return 0!=(t.flags&(r?8:16))}function xI(t,r=""){const o=Je(),a=jn(),l=t+Sn,h=a.firstCreatePass?bl(a,l,1,r,null):a.data[l],_=PI(a,o,h,r,t);o[l]=_,Hl()&&fu(a,o,_,h),Ii(h,!1)}let PI=(t,r,o,a,l)=>(Zo(!0),function Mc(t,r){return t.createText(r)}(r[on],a));function yy(t){return rm("",t,""),yy}function rm(t,r,o){const a=Je(),l=Gc(a,t,r,o);return l!==Dn&&za(a,co(),l),rm}function vy(t,r,o,a,l){const h=Je(),_=Rl(h,t,r,o,a,l);return _!==Dn&&za(h,co(),_),vy}function UI(t,r,o){qa(ls,_c,Gc(Je(),t,r,o),!0)}const Ll=void 0;var N0=["en",[["a","p"],["AM","PM"],Ll],[["AM","PM"],Ll,Ll],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ll,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ll,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ll,"{1} 'at' {0}",Ll],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function O0(t){const o=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let Vl={};function by(t){const r=function i(t){return t.toLowerCase().replace(/_/g,"-")}(t);let o=YI(r);if(o)return o;const a=r.split("-")[0];if(o=YI(a),o)return o;if("en"===a)return N0;throw new ie(701,!1)}function Cy(t){return by(t)[Xd.PluralCase]}function YI(t){return t in Vl||(Vl[t]=Rt.ng&&Rt.ng.common&&Rt.ng.common.locales&&Rt.ng.common.locales[t]),Vl[t]}var Xd=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Xd||{});const s="en-US";let L=s;class eh{}class X0{}function Rb(t,r){return new rE(t,r??null,[])}class rE extends eh{constructor(r,o,a){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ov(this);const l=Fr(r);this._bootstrapComponents=fa(l.bootstrap),this._r3Injector=Cu(r,o,[{provide:eh,useValue:this},{provide:$c,useValue:this.componentFactoryResolver},...a],Ie(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class iE extends X0{constructor(r){super(),this.moduleType=r}create(r){return new rE(this.moduleType,r,[])}}class eT extends eh{constructor(r){super(),this.componentFactoryResolver=new Ov(this),this.instance=null;const o=new ha([...r.providers,{provide:eh,useValue:this},{provide:$c,useValue:this.componentFactoryResolver}],r.parent||Gh(),r.debugName,new Set(["environment"]));this.injector=o,r.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function tT(t,r,o=null){return new eT({providers:t,parent:r,debugName:o,runEnvironmentInitializers:!0}).injector}let Ob=(()=>{class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=Bh(0,o.type),l=a.length>0?tT([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,l)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=zt({token:t,providedIn:"environment",factory:()=>new t(qn(fs))})}}return t})();function nT(t){t.getStandaloneInjector=r=>r.get(Ob).getOrCreateStandaloneInjector(t)}function uT(t,r,o){const a=$i()+t,l=Je();return l[a]===Dn?ga(l,a,o?r.call(o):r()):xl(l,a)}function lT(t,r,o,a){return hT(Je(),$i(),t,r,o,a)}function dT(t,r,o,a,l,h,_,E,S,F){const W=$i()+t,le=Je();let Ce=function gs(t,r,o,a,l,h){const _=ma(t,r,o,a);return ma(t,r+2,l,h)||_}(le,W,o,a,l,h);return function Vf(t,r,o,a,l){const h=ma(t,r,o,a);return bo(t,r+2,l)||h}(le,W+4,_,E,S)||Ce?ga(le,W+7,F?r.call(F,o,a,l,h,_,E,S):r(o,a,l,h,_,E,S)):xl(le,W+7)}function um(t,r){const o=t[r];return o===Dn?void 0:o}function hT(t,r,o,a,l,h){const _=r+o;return bo(t,_,l)?ga(t,_+1,h?a.call(h,l):a(l)):um(t,_+1)}function _T(t,r){const o=jn();let a;const l=t+Sn;o.firstCreatePass?(a=function Kb(t,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(t===a.name)return a}}(r,o.pipeRegistry),o.data[l]=a,a.onDestroy&&(o.destroyHooks??=[]).push(l,a.onDestroy)):a=o.data[l];const h=a.factory||(a.factory=zr(a.type)),E=Ln(Su);try{const S=cs(!1),F=h();return cs(S),function Xv(t,r,o,a){o>=t.data.length&&(t.data[o]=null,t.blueprint[o]=null),r[o]=a}(o,Je(),l,F),F}finally{Ln(E)}}function yT(t,r,o){const a=t+Sn,l=Je(),h=Xs(l,a);return lm(l,a)?hT(l,$i(),r,h.transform,o,h):h.transform(o)}function vT(t,r,o,a){const l=t+Sn,h=Je(),_=Xs(h,l);return lm(h,l)?function fT(t,r,o,a,l,h,_){const E=r+o;return ma(t,E,l,h)?ga(t,E+2,_?a.call(_,l,h):a(l,h)):um(t,E+2)}(h,$i(),r,_.transform,o,a,_):_.transform(o,a)}function lm(t,r){return t[bt].data[r].pure}function Xb(){return this._results[Symbol.iterator]()}class sE{get changes(){return this._changes||(this._changes=new Ba)}constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=sE.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=Xb)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const l=function us(t){return t.flat(Number.POSITIVE_INFINITY)}(r);(this._changesDetected=!function mh(t,r,o){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let l=t[a],h=r[a];if(o&&(l=o(l),h=o(h)),h!==l)return!1}return!0}(a._results,l,o))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function tC(t,r,o,a=!0){const l=r[bt];if(function zy(t,r,o,a){const l=Mn+a,h=o.length;a>0&&(o[l-1][Lr]=r),a<h-Mn?(r[Lr]=o[l],_h(o,Mn+a,r)):(o.push(r),r[Lr]=null),r[ir]=o;const _=r[zo];null!==_&&o!==_&&function Hy(t,r){const o=t[Mo];r[Ir]!==r[ir][ir][Ir]&&(t[ii]=!0),null===o?t[Mo]=[r]:o.push(r)}(_,r);const E=r[hi];null!==E&&E.insertView(t),r[Kt]|=128}(l,r,t,o),a){const h=uc(o,t),_=r[on],E=ad(_,t[mi]);null!==E&&function Tm(t,r,o,a,l,h){a[Kn]=l,a[wr]=r,pu(t,a,o,1,l,h)}(l,t[wr],_,r,E,h)}}let dm=(()=>{class t{static{this.__NG_ELEMENT_ID__=iC}}return t})();const nC=dm,rC=class extends nC{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(r,o){return this.createEmbeddedViewImpl(r,o)}createEmbeddedViewImpl(r,o,a){const l=function eC(t,r,o,a){const l=r.tView,E=wf(t,l,o,4096&t[Kt]?4096:16,null,r,null,null,null,a?.injector??null,a?.hydrationInfo??null);E[zo]=t[r.index];const F=t[hi];return null!==F&&(E[hi]=F.createEmbeddedView(l)),Ug(l,E,o),E}(this._declarationLView,this._declarationTContainer,r,{injector:o,hydrationInfo:a});return new si(l)}};function iC(){return Sy(vi(),Je())}function Sy(t,r){return 4&t.type?new rC(r,t,wu(t,r)):null}let Py=(()=>{class t{static{this.__NG_ELEMENT_ID__=lC}}return t})();function lC(){return AT(vi(),Je())}const dC=Py,bT=class extends dC{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return wu(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const r=Hs(this._hostTNode,this._hostLView);if(Ku(r)){const o=Os(r,this._hostLView),a=qr(r);return new Vo(o[bt].data[a+8],o)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=CT(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-Mn}createEmbeddedView(r,o,a){let l,h;"number"==typeof a?l=a:null!=a&&(l=a.index,h=a.injector);const E=r.createEmbeddedViewImpl(o||{},h,null);return this.insertImpl(E,l,false),E}createComponent(r,o,a,l,h){const _=r&&!function iu(t){return"function"==typeof t}(r);let E;if(_)E=o;else{const _t=o||{};E=_t.index,a=_t.injector,l=_t.projectableNodes,h=_t.environmentInjector||_t.ngModuleRef}const S=_?r:new Mf(rn(r)),F=a||this.parentInjector;if(!h&&null==S.ngModule){const Nt=(_?F:this.parentInjector).get(fs,null);Nt&&(h=Nt)}rn(S.componentType??{});const Pe=S.create(F,l,null,h);return this.insertImpl(Pe.hostView,E,false),Pe}insert(r,o){return this.insertImpl(r,o,!1)}insertImpl(r,o,a){const l=r._lView;if(function vc(t){return jr(t[ir])}(l)){const S=this.indexOf(r);if(-1!==S)this.detach(S);else{const F=l[ir],W=new bT(F,F[wr],F[ir]);W.detach(W.indexOf(r))}}const _=this._adjustIndex(o),E=this._lContainer;return tC(E,l,_,!a),r.attachToViewContainerRef(),_h(aE(E),_,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=CT(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=dl(this._lContainer,o);a&&(Ma(aE(this._lContainer),o),wp(a[bt],a))}detach(r){const o=this._adjustIndex(r,-1),a=dl(this._lContainer,o);return a&&null!=Ma(aE(this._lContainer),o)?new si(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function CT(t){return t[8]}function aE(t){return t[8]||(t[8]=[])}function AT(t,r){let o;const a=r[t.index];return jr(a)?o=a:(o=T_(a,r,null,t),r[t.index]=o,jd(r,o)),DT(o,r,t,a),new bT(o,t,r)}let DT=function ST(t,r,o,a){if(t[mi])return;let l;l=8&o.type?dt(a):function hC(t,r){const o=t[on],a=o.createComment(""),l=lr(r,t);return hu(o,ad(o,l),a,function Gy(t,r){return t.nextSibling(r)}(o,l),!1),a}(r,o),t[mi]=l};class cE{constructor(r){this.queryList=r,this.matches=null}clone(){return new cE(this.queryList)}setDirty(){this.queryList.setDirty()}}class uE{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,l=[];for(let h=0;h<a;h++){const _=o.getByIndex(h);l.push(this.queries[_.indexInDeclarationView].clone())}return new uE(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==LT(r,o).matches&&this.queries[o].setDirty()}}class xT{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class lE{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const l=null!==o?o.length:0,h=this.getByIndex(a).embeddedTView(r,l);h&&(h.indexInDeclarationView=a,null!==o?o.push(h):o=[h])}return null!==o?new lE(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class dE{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new dE(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const h=a[l];this.matchTNodeWithReadOption(r,o,gC(o,h)),this.matchTNodeWithReadOption(r,o,xa(o,r,h,!1,!1))}else a===dm?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,xa(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===$a||l===Py||l===dm&&4&o.type)this.addMatch(o.index,-2);else{const h=xa(o,r,l,!1,!1);null!==h&&this.addMatch(o.index,h)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function gC(t,r){const o=t.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function _C(t,r,o,a){return-1===o?function mC(t,r){return 11&t.type?wu(t,r):4&t.type?Sy(t,r):null}(r,t):-2===o?function yC(t,r,o){return o===$a?wu(r,t):o===dm?Sy(r,t):o===Py?AT(r,t):void 0}(t,r,a):sa(t,t[bt],o,r)}function PT(t,r,o,a){const l=r[hi].queries[a];if(null===l.matches){const h=t.data,_=o.matches,E=[];for(let S=0;S<_.length;S+=2){const F=_[S];E.push(F<0?null:_C(r,h[F],_[S+1],o.metadata.read))}l.matches=E}return l.matches}function hE(t,r,o,a){const l=t.queries.getByIndex(o),h=l.matches;if(null!==h){const _=PT(t,r,l,o);for(let E=0;E<h.length;E+=2){const S=h[E];if(S>0)a.push(_[E/2]);else{const F=h[E+1],W=r[-S];for(let le=Mn;le<W.length;le++){const Ce=W[le];Ce[zo]===Ce[ir]&&hE(Ce[bt],Ce,F,a)}if(null!==W[Mo]){const le=W[Mo];for(let Ce=0;Ce<le.length;Ce++){const Pe=le[Ce];hE(Pe[bt],Pe,F,a)}}}}}return a}function RT(t){const r=Je(),o=jn(),a=Ue();Me(a+1);const l=LT(o,a);if(t.dirty&&function nh(t){return 4==(4&t[Kt])}(r)===(2==(2&l.metadata.flags))){if(null===l.matches)t.reset([]);else{const h=l.crossesNgTemplate?hE(o,r,a,[]):PT(o,r,l,a);t.reset(h,lg),t.notifyOnChanges()}return!0}return!1}function MT(t,r,o){const a=jn();a.firstCreatePass&&(FT(a,new xT(t,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),kT(a,Je(),r)}function OT(t,r,o,a){const l=jn();if(l.firstCreatePass){const h=vi();FT(l,new xT(r,o,a),h.index),function IC(t,r){const o=t.contentQueries||(t.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(t.queries.length-1,r)}(l,t),2==(2&o)&&(l.staticContentQueries=!0)}kT(l,Je(),o)}function NT(){return function vC(t,r){return t[hi].queries[r].queryList}(Je(),Ue())}function kT(t,r,o){const a=new sE(4==(4&o));(function wv(t,r,o,a){const l=C_(r);l.push(o),t.firstCreatePass&&Lg(t).push(a,l.length-1)})(t,r,a,a.destroy),null===r[hi]&&(r[hi]=new uE),r[hi].queries.push(new cE(a))}function FT(t,r,o){null===t.queries&&(t.queries=new lE),t.queries.track(new dE(r,o))}function LT(t,r){return t.queries.getByIndex(r)}function VT(t,r){return Sy(t,r)}function fE(t){return!!Fr(t)}const tw=new sn("Application Initializer");let yE=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,a)=>{this.resolve=o,this.reject=a}),this.appInits=En(tw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const l of this.appInits){const h=l();if(Jg(h))o.push(h);else if(aI(h)){const _=new Promise((E,S)=>{h.subscribe({complete:E,error:S})});o.push(_)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(l=>{this.reject(l)}),0===o.length&&a(),this.initialized=!0}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),nw=(()=>{class t{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();const My=new sn("LocaleId",{providedIn:"root",factory:()=>En(My,gt.Optional|gt.SkipSelf)||function $C(){return typeof $localize<"u"&&$localize.locale||s}()}),BC=new sn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let rw=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new oe.X(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();class HC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let GC=(()=>{class t{compileModuleSync(o){return new iE(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),h=fa(Fr(o).declarations).reduce((_,E)=>{const S=rn(E);return S&&_.push(new Mf(S)),_},[]);return new HC(a,h)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();const aw=new sn(""),cw=new sn("");let EE,fA=(()=>{class t{constructor(o,a,l){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,EE||(function pA(t){EE=t}(l),l.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{uo.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,l){let h=-1;a&&a>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==h),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:h,updateCb:l})}whenStable(o,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,l){return[]}static{this.\u0275fac=function(a){return new(a||t)(qn(uo),qn(uw),qn(cw))}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac})}}return t})(),uw=(()=>{class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return EE?.findTestabilityInTree(this,o,a)??null}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})(),Ul=null;const lw=new sn("AllowMultipleToken"),TE=new sn("PlatformDestroyListeners"),wE=new sn("appBootstrapListener");class _A{constructor(r,o){this.name=r,this.token=o}}function fw(t,r,o=[]){const a=`Platform: ${r}`,l=new sn(a);return(h=[])=>{let _=bE();if(!_||_.injector.get(lw,!1)){const E=[...o,...h,{provide:l,useValue:!0}];t?t(E):function yA(t){if(Ul&&!Ul.get(lw,!1))throw new ie(400,!1);(function dw(){!function C(t){Es=t}(()=>{throw new ie(600,!1)})})(),Ul=t;const r=t.get(gw);(function hw(t){t.get(Zh,null)?.forEach(o=>o())})(t)}(function pw(t=[],r){return Yo.create({name:r,providers:[{provide:Yp,useValue:"platform"},{provide:TE,useValue:new Set([()=>Ul=null])},...t]})}(E,a))}return function IA(t){const r=bE();if(!r)throw new ie(401,!1);return r}()}}function bE(){return Ul?.get(gw)??null}let gw=(()=>{class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const l=function EA(t="zone.js",r){return"noop"===t?new yv:"zone.js"===t?new uo(r):t}(a?.ngZone,function mw(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:a?.ngZoneEventCoalescing,runCoalescing:a?.ngZoneRunCoalescing}));return l.run(()=>{const h=function Mb(t,r,o){return new rE(t,r,o)}(o.moduleType,this.injector,function Ew(t){return[{provide:uo,useFactory:t},{provide:md,multi:!0,useFactory:()=>{const r=En(wA,{optional:!0});return()=>r.initialize()}},{provide:Iw,useFactory:TA},{provide:e_,useFactory:df}]}(()=>l)),_=h.injector.get(Bc,null);return l.runOutsideAngular(()=>{const E=l.onError.subscribe({next:S=>{_.handleError(S)}});h.onDestroy(()=>{Ny(this._modules,h),E.unsubscribe()})}),function _w(t,r,o){try{const a=o();return Jg(a)?a.catch(l=>{throw r.runOutsideAngular(()=>t.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(_,l,()=>{const E=h.injector.get(yE);return E.runInitializers(),E.donePromise.then(()=>(function G(t){Zt(t,"Expected localeId to be defined"),"string"==typeof t&&(L=t.toLowerCase().replace(/_/g,"-"))}(h.injector.get(My,s)||s),this._moduleDoBootstrap(h),h))})})}bootstrapModule(o,a=[]){const l=yw({},a);return function gA(t,r,o){const a=new iE(o);return Promise.resolve(a)}(0,0,o).then(h=>this.bootstrapModuleFactory(h,l))}_moduleDoBootstrap(o){const a=o.injector.get(Qf);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!o.instance.ngDoBootstrap)throw new ie(-403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(TE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(a){return new(a||t)(qn(Yo))}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function yw(t,r){return Array.isArray(r)?r.reduce(yw,t):{...t,...r}}let Qf=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=En(Iw),this.zoneIsStable=En(e_),this.componentTypes=[],this.components=[],this.isStable=En(rw).hasPendingTasks.pipe((0,se.w)(o=>o?(0,H.of)(!1):this.zoneIsStable),(0,ue.x)(),re()),this._injector=En(fs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const l=o instanceof ef;if(!this._injector.get(yE).done)throw!l&&kr(o),new ie(405,!1);let _;_=l?o:this._injector.get($c).resolveComponentFactory(o),this.componentTypes.push(_.componentType);const E=function mA(t){return t.isBoundToModule}(_)?void 0:this._injector.get(eh),F=_.create(Yo.NULL,[],a||_.selector,E),W=F.location.nativeElement,le=F.injector.get(aw,null);return le?.registerApplication(W),F.onDestroy(()=>{this.detachView(F.hostView),Ny(this.components,F),le?.unregisterApplication(W)}),this._loadComponent(F),F}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;Ny(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(wE,[]);a.push(...this._bootstrapListeners),a.forEach(l=>l(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>Ny(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ie(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ny(t,r){const o=t.indexOf(r);o>-1&&t.splice(o,1)}const Iw=new sn("",{providedIn:"root",factory:()=>En(Bc).handleError.bind(void 0)});function TA(){const t=En(uo),r=En(Bc);return o=>t.runOutsideAngular(()=>r.handleError(o))}let wA=(()=>{class t{constructor(){this.zone=En(uo),this.applicationRef=En(Qf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275prov=zt({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function CA(){}let AA=(()=>{class t{static{this.__NG_ELEMENT_ID__=DA}}return t})();function DA(t){return function SA(t,r,o){if(Li(t)&&!o){const a=vo(t.index,r);return new si(a,a)}return 47&t.type?new si(r[Ir],r):null}(vi(),Je(),16==(16&t))}class Cw{constructor(){}supports(r){return Ff(r)}create(r){return new NA(r)}}const OA=(t,r)=>r;class NA{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||OA}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,l=0,h=null;for(;o||a;){const _=!a||o&&o.currentIndex<Dw(a,l,h)?o:a,E=Dw(_,l,h),S=_.currentIndex;if(_===a)l--,a=a._nextRemoved;else if(o=o._next,null==_.previousIndex)l++;else{h||(h=[]);const F=E-l,W=S-l;if(F!=W){for(let Ce=0;Ce<F;Ce++){const Pe=Ce<h.length?h[Ce]:h[Ce]=0,Qe=Pe+Ce;W<=Qe&&Qe<F&&(h[Ce]=Pe+1)}h[_.previousIndex]=W-F}}E!==S&&r(_,E,S)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Ff(r))throw new ie(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,h,_,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let E=0;E<this.length;E++)h=r[E],_=this._trackByFn(E,h),null!==o&&Object.is(o.trackById,_)?(a&&(o=this._verifyReinsertion(o,h,_,E)),Object.is(o.item,h)||this._addIdentityChange(o,h)):(o=this._mismatch(o,h,_,E),a=!0),o=o._next}else l=0,function L_(t,r){if(Array.isArray(t))for(let o=0;o<t.length;o++)r(t[o]);else{const o=t[Symbol.iterator]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,E=>{_=this._trackByFn(l,E),null!==o&&Object.is(o.trackById,_)?(a&&(o=this._verifyReinsertion(o,E,_,l)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,_,l),a=!0),o=o._next,l++}),this.length=l;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,l){let h;return null===r?h=this._itTail:(h=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,h,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,h,l)):r=this._addAfter(new kA(o,a),h,l),r}_verifyReinsertion(r,o,a,l){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==h?r=this._reinsertAfter(h,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,h=r._nextRemoved;return null===l?this._removalsHead=h:l._nextRemoved=h,null===h?this._removalsTail=l:h._prevRemoved=l,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const l=null===o?this._itHead:o._next;return r._next=l,r._prev=o,null===l?this._itTail=r:l._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new Aw),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Aw),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class kA{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FA{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class Aw{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new FA,this.map.set(o,a)),a.add(r)}get(r,o){const l=this.map.get(r);return l?l.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Dw(t,r,o){const a=t.previousIndex;if(null===a)return a;let l=0;return o&&a<o.length&&(l=o[a]),a+r+l}class Sw{constructor(){}supports(r){return r instanceof Map||Lf(r)}create(){return new LA}}class LA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||Lf(r)))throw new ie(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(o&&o.key===l)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const h=this._getOrCreateRecordForKey(l,a);o=this._insertBeforeOrAppend(o,h)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,o);const h=l._prev,_=l._next;return h&&(h._next=_),_&&(_._prev=h),l._next=null,l._prev=null,l}const a=new VA(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class VA{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xw(){return new xE([new Cw])}let xE=(()=>{class t{static{this.\u0275prov=zt({token:t,providedIn:"root",factory:xw})}constructor(o){this.factories=o}static create(o,a){if(null!=a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||xw()),deps:[[t,new m,new T]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(null!=a)return a;throw new ie(901,!1)}}return t})();function Pw(){return new PE([new Sw])}let PE=(()=>{class t{static{this.\u0275prov=zt({token:t,providedIn:"root",factory:Pw})}constructor(o){this.factories=o}static create(o,a){if(a){const l=a.factories.slice();o=o.concat(l)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||Pw()),deps:[[t,new m,new T]]}}find(o){const a=this.factories.find(l=>l.supports(o));if(a)return a;throw new ie(901,!1)}}return t})();const $A=fw(null,"core",[]);let BA=(()=>{class t{constructor(o){}static{this.\u0275fac=function(a){return new(a||t)(qn(Qf))}}static{this.\u0275mod=Ci({type:t})}static{this.\u0275inj=Ar({})}}return t})();function XA(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}function tD(t){const r=rn(t);if(!r)return null;const o=new Mf(r);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return r.standalone},get isSignal(){return r.signals}}}},5032:(lt,be,O)=>{"use strict";O.d(be,{Ot:()=>fe,ZF:()=>Ie,hX:()=>se,z6:()=>oe});var v=O(2101),u=O(4532),he=O(3816);class fe{constructor(wt){return wt}}class oe{constructor(){return(0,v.C6)()}}const ce=new u.OlP("angularfire2._apps"),te={provide:fe,useFactory:function ne(we){return we&&1===we.length?we[0]:new fe((0,v.Mq)())},deps:[[new u.FiY,ce]]},j={provide:oe,deps:[[new u.FiY,ce]]};function B(we){return(wt,ht)=>{const nt=wt.runOutsideAngular(()=>we(ht));return new fe(nt)}}let re=(()=>{class we{constructor(ht){(0,v.KN)("angularfire",he.q4.full,"core"),(0,v.KN)("angularfire",he.q4.full,"app"),(0,v.KN)("angular",u.q4F.full,ht.toString())}static \u0275fac=function(nt){return new(nt||we)(u.LFG(u.Lbi))};static \u0275mod=u.oAB({type:we});static \u0275inj=u.cJS({providers:[te,j]})}return we})();function se(we,...wt){return{ngModule:re,providers:[{provide:ce,useFactory:B(we),multi:!0,deps:[u.R0b,u.zs3,he.HU,...wt]}]}}const Ie=(0,he.u3)(v.ZF,!0)},7197:(lt,be,O)=>{"use strict";O.d(be,{gx:()=>B,dh:()=>re,fD:()=>we,v0:()=>Tn,AR:()=>yt,rh:()=>gt,w7:()=>yn});var v=O(3816),u=O(4532),he=O(5032),fe=O(2101),oe=O(2258),H=O(2330);function ne(wn){return new H.y(function(Qt){return{unsubscribe:(0,oe.Aj)(wn,Qt.next.bind(Qt),Qt.error.bind(Qt),Qt.complete.bind(Qt))}})}const j="auth";class B{constructor(Qt){return Qt}}class re{constructor(){return(0,v.vb)(j)}}const ue=new u.OlP("angularfire2.auth-instances");function ge(wn){return(Qt,bn)=>{const dn=Qt.runOutsideAngular(()=>wn(bn));return new B(dn)}}const Ie={provide:re,deps:[[new u.FiY,ue]]},De={provide:B,useFactory:function Q(wn,Qt){const bn=(0,v.JM)(j,wn,Qt);return bn&&new B(bn)},deps:[[new u.FiY,ue],he.Ot]};let Ge=(()=>{class wn{constructor(){(0,fe.KN)("angularfire",v.q4.full,"auth")}static \u0275fac=function(dn){return new(dn||wn)};static \u0275mod=u.oAB({type:wn});static \u0275inj=u.cJS({providers:[De,Ie]})}return wn})();function yt(wn,...Qt){return{ngModule:Ge,providers:[{provide:ue,useFactory:ge(wn),multi:!0,deps:[u.R0b,u.zs3,v.HU,he.z6,[new u.FiY,v.Rf],...Qt]}]}}const we=(0,v.u3)(ne,!0),Tn=(0,v.u3)(oe.v0,!0),gt=(0,v.u3)(oe.rh,!0),yn=(0,v.u3)(oe.w7,!0)},755:(lt,be,O)=>{"use strict";O.d(be,{gg:()=>Jd,ET:()=>bI,hJ:()=>AI,BS:()=>py,oe:()=>_y,JU:()=>RI,_1:()=>gy,PL:()=>jI,ad:()=>$I,b9:()=>BI,Xo:()=>Iy,Cm:()=>l0,IO:()=>Ey,Bt:()=>Ty,pl:()=>wy,TQ:()=>Vl,r7:()=>Cy,ar:()=>k0});var se,v=O(3816),u=O(4532),he=O(5032),fe=O(7197),oe=O(2101),H=O(1670),ne=O(9571),ce=O(7995),te=O(809),j=O(6552),B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},re={},ue=ue||{},Q=B||self;function ge(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ie(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ge="closure_uid_"+(1e9*Math.random()>>>0),yt=0;function we(i,e,n){return i.call.apply(i.bind,arguments)}function wt(i,e,n){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,s),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function ht(i,e,n){return(ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?we:wt).apply(null,arguments)}function nt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function ft(i,e){function n(){}n.prototype=e.prototype,i.$=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.ac=function(s,c,d){for(var p=Array(arguments.length-2),A=2;A<arguments.length;A++)p[A-2]=arguments[A];return e.prototype[c].apply(s,p)}}function ie(){this.s=this.s,this.o=this.o}ie.prototype.s=!1,ie.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function De(i){Object.prototype.hasOwnProperty.call(i,Ge)&&i[Ge]||(i[Ge]=++yt)}(this)},ie.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const He=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1};function mt(i){const e=i.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=i[s];return n}return[]}function Et(i,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(ge(s)){const c=i.length||0,d=s.length||0;i.length=c+d;for(let p=0;p<d;p++)i[c+p]=s[p]}else i.push(s)}}function pt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}pt.prototype.h=function(){this.defaultPrevented=!0};var Nn=function(){if(!Q.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Q.addEventListener("test",()=>{},e),Q.removeEventListener("test",()=>{},e)}catch{}return i}();function Tn(i){return/^[\s\xa0]*$/.test(i)}function Wt(){var i=Q.navigator;return i&&(i=i.userAgent)?i:""}function $n(i){return-1!=Wt().indexOf(i)}function xe(i){return xe[" "](i),i}xe[" "]=function(){};var kt,i,ke=$n("Opera"),Oe=$n("Trident")||$n("MSIE"),We=$n("Edge"),it=We||Oe,ot=$n("Gecko")&&!(-1!=Wt().toLowerCase().indexOf("webkit")&&!$n("Edge"))&&!($n("Trident")||$n("MSIE"))&&!$n("Edge"),en=-1!=Wt().toLowerCase().indexOf("webkit")&&!$n("Edge");function In(){var i=Q.document;return i?i.documentMode:void 0}e:{var gn="",Zt=(i=Wt(),ot?/rv:([^\);]+)(\)|;)/.exec(i):We?/Edge\/([\d\.]+)/.exec(i):Oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):en?/WebKit\/(\S+)/.exec(i):ke?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Zt&&(gn=Zt?Zt[1]:""),Oe){var vt=In();if(null!=vt&&vt>parseFloat(gn)){kt=String(vt);break e}}kt=gn}var un=Q.document&&Oe&&(In()||parseInt(kt,10))||void 0;function zt(i,e){if(pt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(ot){e:{try{xe(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:er[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&zt.$.h.call(this)}}ft(zt,pt);var er={2:"touch",3:"pen",4:"mouse"};zt.prototype.h=function(){zt.$.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ar="closure_listenable_"+(1e6*Math.random()|0),tr=0;function ei(i,e,n,s,c){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=c,this.key=++tr,this.fa=this.ia=!1}function Pr(i){i.fa=!0,i.listener=null,i.proxy=null,i.src=null,i.la=null}function Wn(i,e,n){for(const s in i)e.call(n,i[s],s,i)}function Ye(i){const e={};for(const n in i)e[n]=i[n];return e}const Te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ze(i,e){let n,s;for(let c=1;c<arguments.length;c++){for(n in s=arguments[c],s)i[n]=s[n];for(let d=0;d<Te.length;d++)n=Te[d],Object.prototype.hasOwnProperty.call(s,n)&&(i[n]=s[n])}}function et(i){this.src=i,this.g={},this.h=0}function gt(i,e){var n=e.type;if(n in i.g){var d,s=i.g[n],c=He(s,e);(d=0<=c)&&Array.prototype.splice.call(s,c,1),d&&(Pr(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function nn(i,e,n,s){for(var c=0;c<i.length;++c){var d=i[c];if(!d.fa&&d.listener==e&&d.capture==!!n&&d.la==s)return c}return-1}et.prototype.add=function(i,e,n,s,c){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var p=nn(i,e,s,c);return-1<p?(e=i[p],n||(e.ia=!1)):((e=new ei(e,this.src,d,!!s,c)).ia=n,i.push(e)),e};var yn="closure_lm_"+(1e6*Math.random()|0),Ln={};function vn(i,e,n,s,c){if(s&&s.once)return lo(i,e,n,s,c);if(Array.isArray(e)){for(var d=0;d<e.length;d++)vn(i,e[d],n,s,c);return null}return n=Qt(n),i&&i[Ar]?i.O(e,n,Ie(s)?!!s.capture:!!s,c):mn(i,e,n,!1,s,c)}function mn(i,e,n,s,c,d){if(!e)throw Error("Invalid event type");var p=Ie(c)?!!c.capture:!!c,A=ai(i);if(A||(i[yn]=A=new et(i)),(n=A.add(e,n,s,p,d)).proxy)return n;if(s=function Rt(){const e=Rr;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=s,s.src=i,s.listener=n,i.addEventListener)Nn||(c=p),void 0===c&&(c=!1),i.addEventListener(e.toString(),s,c);else if(i.attachEvent)i.attachEvent(rr(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return n}function lo(i,e,n,s,c){if(Array.isArray(e)){for(var d=0;d<e.length;d++)lo(i,e[d],n,s,c);return null}return n=Qt(n),i&&i[Ar]?i.P(e,n,Ie(s)?!!s.capture:!!s,c):mn(i,e,n,!0,s,c)}function ti(i,e,n,s,c){if(Array.isArray(e))for(var d=0;d<e.length;d++)ti(i,e[d],n,s,c);else s=Ie(s)?!!s.capture:!!s,n=Qt(n),i&&i[Ar]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=nn(d=i.g[e],n,s,c))&&(Pr(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=ai(i))&&(e=i.g[e.toString()],i=-1,e&&(i=nn(e,n,s,c)),(n=-1<i?e[i]:null)&&sn(n))}function sn(i){if("number"!=typeof i&&i&&!i.fa){var e=i.src;if(e&&e[Ar])gt(e.i,i);else{var n=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(n,s,i.capture):e.detachEvent?e.detachEvent(rr(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=ai(e))?(gt(n,i),0==n.h&&(n.src=null,e[yn]=null)):Pr(i)}}}function rr(i){return i in Ln?Ln[i]:Ln[i]="on"+i}function Rr(i,e){if(i.fa)i=!0;else{e=new zt(e,this);var n=i.listener,s=i.la||i.src;i.ia&&sn(i),i=n.call(s,e)}return i}function ai(i){return(i=i[yn])instanceof et?i:null}var wn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qt(i){return"function"==typeof i?i:(i[wn]||(i[wn]=function(e){return i.handleEvent(e)}),i[wn])}function bn(){ie.call(this),this.i=new et(this),this.S=this,this.J=null}function dn(i,e){var n,s=i.J;if(s)for(n=[];s;s=s.J)n.push(s);if(i=i.S,s=e.type||e,"string"==typeof e)e=new pt(e,i);else if(e instanceof pt)e.target=e.target||i;else{var c=e;ze(e=new pt(s,i),c)}if(c=!0,n)for(var d=n.length-1;0<=d;d--){var p=e.g=n[d];c=wi(p,s,!0,e)&&c}if(c=wi(p=e.g=i,s,!0,e)&&c,c=wi(p,s,!1,e)&&c,n)for(d=0;d<n.length;d++)c=wi(p=e.g=n[d],s,!1,e)&&c}function wi(i,e,n,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,d=0;d<e.length;++d){var p=e[d];if(p&&!p.fa&&p.capture==n){var A=p.listener,R=p.la||p.src;p.ia&&gt(i.i,p),c=!1!==A.call(R,s)&&c}}return c&&!s.defaultPrevented}ft(bn,ie),bn.prototype[Ar]=!0,bn.prototype.removeEventListener=function(i,e,n,s){ti(this,i,e,n,s)},bn.prototype.N=function(){if(bn.$.N.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],s=0;s<n.length;s++)Pr(n[s]);delete i.g[e],i.h--}}this.J=null},bn.prototype.O=function(i,e,n,s){return this.i.add(String(i),e,!1,n,s)},bn.prototype.P=function(i,e,n,s){return this.i.add(String(i),e,!0,n,s)};var Mi=Q.JSON.stringify;function Z(){var i=Ht;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Y=new class me{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new K,i=>i.reset());class K{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Ae(i){var e=1;i=i.split(":");const n=[];for(;0<e&&i.length;)n.push(i.shift()),e--;return i.length&&n.push(i.join(":")),n}function Xe(i){Q.setTimeout(()=>{throw i},0)}let Tt,Gt=!1,Ht=new class J{constructor(){this.h=this.g=null}add(e,n){const s=Y.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}},hn=()=>{const i=Q.Promise.resolve(void 0);Tt=()=>{i.then(Ut)}};var Ut=()=>{for(var i;i=Z();){try{i.h.call(i.g)}catch(n){Xe(n)}var e=Y;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Gt=!1};function Zn(i,e){bn.call(this),this.h=i||1,this.g=e||Q,this.j=ht(this.qb,this),this.l=Date.now()}function qn(i){i.ga=!1,i.T&&(i.g.clearTimeout(i.T),i.T=null)}function Oi(i,e,n){if("function"==typeof i)n&&(i=ht(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=ht(i.handleEvent,i)}return 2147483647<Number(e)?-1:Q.setTimeout(i,e||0)}function En(i){i.g=Oi(()=>{i.g=null,i.i&&(i.i=!1,En(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}ft(Zn,bn),(se=Zn.prototype).ga=!1,se.T=null,se.qb=function(){if(this.ga){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-i):(this.T&&(this.g.clearTimeout(this.T),this.T=null),dn(this,"tick"),this.ga&&(qn(this),this.start()))}},se.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.N=function(){Zn.$.N.call(this),qn(this),delete this.g};class $e extends ie{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(Q.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Se(i){ie.call(this),this.h=i,this.g={}}ft(Se,ie);var at=[];function jt(i,e,n,s){Array.isArray(n)||(n&&(at[0]=n.toString()),n=at);for(var c=0;c<n.length;c++){var d=vn(e,n[c],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function Jt(i){Wn(i.g,function(e,n){this.g.hasOwnProperty(n)&&sn(e)},i),i.g={}}function Xt(){this.g=!0}function Rn(i,e,n,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ln(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var s=n[i];if(!(2>s.length)){var c=s[1];if(Array.isArray(c)&&!(1>c.length)){var d=c[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var p=1;p<c.length;p++)c[p]=""}}}return Mi(n)}catch{return e}}(i,n)+(s?" "+s:"")})}Se.prototype.N=function(){Se.$.N.call(this),Jt(this)},Se.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xt.prototype.Ea=function(){this.g=!1},Xt.prototype.info=function(){};var Ur={},Qo=null;function Ao(){return Qo=Qo||new bn}function mr(i){pt.call(this,Ur.Ta,i)}function Qr(i){const e=Ao();dn(e,new mr(e))}function Xi(i,e){pt.call(this,Ur.STAT_EVENT,i),this.stat=e}function kn(i){const e=Ao();dn(e,new Xi(e,i))}function eo(i,e){pt.call(this,Ur.Ua,i),this.size=e}function $o(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Q.setTimeout(function(){i()},e)}Ur.Ta="serverreachability",ft(mr,pt),Ur.STAT_EVENT="statevent",ft(Xi,pt),Ur.Ua="timingevent",ft(eo,pt);var bi={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Jo={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gi(){}function vr(){}gi.prototype.h=null;var to,ri={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ni(){pt.call(this,"d")}function Do(){pt.call(this,"c")}function ci(){}function Wi(i,e,n,s){this.l=i,this.j=e,this.m=n,this.W=s||1,this.U=new Se(this),this.P=Qs,this.V=new Zn(i=it?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ls}function Ls(){this.i=null,this.g="",this.h=!1}ft(Ni,pt),ft(Do,pt),ft(ci,gi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},to=new ci;var Qs=45e3,ui={},Xo={};function ws(i,e,n){i.L=1,i.v=fo(kr(e)),i.s=n,i.S=!0,ms(i,null)}function ms(i,e){i.G=Date.now(),no(i),i.A=kr(i.v);var n=i.A,s=i.W;Array.isArray(s)||(s=[String(s)]),on(n.i,"t",s),i.C=0,n=i.l.J,i.h=new Ls,i.g=No(i.l,n?e:null,!i.s),0<i.O&&(i.M=new $e(ht(i.Pa,i,i.g),i.O)),jt(i.U,i.g,"readystatechange",i.nb),e=i.I?Ye(i.I):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ha(i.A,i.u,i.s,e)):(i.u="GET",i.g.ha(i.A,i.u,null,e)),Qr(),function cn(i,e,n,s,c,d){i.info(function(){if(i.g)if(d)for(var p="",A=d.split("&"),R=0;R<A.length;R++){var L=A[R].split("=");if(1<L.length){var G=L[0];L=L[1];var ae=G.split("_");p=2<=ae.length&&"type"==ae[1]?p+(G+"=")+L+"&":p+(G+"=redacted&")}}else p=null;else p=d;return"XMLHTTP REQ ("+s+") [attempt "+c+"]: "+e+"\n"+n+"\n"+p})}(i.j,i.u,i.A,i.m,i.W,i.s)}function _s(i){return!!i.g&&"GET"==i.u&&2!=i.L&&i.l.Ha}function So(i,e,n){let c,s=!0;for(;!i.J&&i.C<n.length;){if(c=bs(i,n),c==Xo){4==e&&(i.o=4,kn(14),s=!1),Rn(i.j,i.m,null,"[Incomplete Response]");break}if(c==ui){i.o=4,kn(15),Rn(i.j,i.m,n,"[Invalid Chunk]"),s=!1;break}Rn(i.j,i.m,c,null),Zi(i,c)}_s(i)&&c!=Xo&&c!=ui&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,kn(16),s=!1),i.i=i.i&&s,s?0<n.length&&!i.ba&&(i.ba=!0,(e=i.l).g==i&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Br(e),e.M=!0,kn(11))):(Rn(i.j,i.m,n,"[Invalid Chunked Response]"),Ci(i),vs(i))}function bs(i,e){var n=i.C,s=e.indexOf("\n",n);return-1==s?Xo:(n=Number(e.substring(n,s)),isNaN(n)?ui:(s+=1)+n>e.length?Xo:(e=e.slice(s,s+n),i.C=s+n,e))}function no(i){i.Y=Date.now()+i.P,ys(i,i.P)}function ys(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=$o(ht(i.lb,i),e)}function ho(i){i.B&&(Q.clearTimeout(i.B),i.B=null)}function vs(i){0==i.l.H||i.J||xi(i.l,i)}function Ci(i){ho(i);var e=i.M;e&&"function"==typeof e.sa&&e.sa(),i.M=null,qn(i.V),Jt(i.U),i.g&&(e=i.g,i.g=null,e.abort(),e.sa())}function Zi(i,e){try{var n=i.l;if(0!=n.H&&(n.g==i||Ho(n.i,i)))if(!i.K&&Ho(n.i,i)&&3==n.H){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var c=s;if(0==c[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<i.G))break e;zr(n),zn(n)}br(n),kn(18)}}else n.Fa=c[1],0<n.Fa-n.V&&37500>c[2]&&n.G&&0==n.A&&!n.v&&(n.v=$o(ht(n.ib,n),6e3));if(1>=hi(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else go(n,11)}else if((i.K||n.g==i)&&zr(n),!Tn(e))for(c=n.Ja.g.parse(e),e=0;e<c.length;e++){let L=c[e];if(n.V=L[0],L=L[1],2==n.H)if("c"==L[0]){n.K=L[1],n.pa=L[2];const G=L[3];null!=G&&(n.ra=G,n.l.info("VER="+n.ra));const ae=L[4];null!=ae&&(n.Ga=ae,n.l.info("SVER="+n.Ga));const Ee=L[5];null!=Ee&&"number"==typeof Ee&&0<Ee&&(n.L=s=1.5*Ee,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const Le=i.g;if(Le){const It=Le.g?Le.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(It){var d=s.i;d.g||-1==It.indexOf("spdy")&&-1==It.indexOf("quic")&&-1==It.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(Ki(d,d.h),d.h=null))}if(s.F){const Ct=Le.g?Le.g.getResponseHeader("X-HTTP-Session-Id"):null;Ct&&(s.Da=Ct,Bn(s.I,s.F,Ct))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-i.G,n.l.info("Handshake RTT: "+n.S+"ms"));var p=i;if((s=n).wa=rs(s,s.J?s.pa:null,s.Y),p.K){oo(s.i,p);var A=p,R=s.L;R&&A.setTimeout(R),A.B&&(ho(A),no(A)),s.g=p}else _i(s);0<n.j.length&&or(n)}else"stop"!=L[0]&&"close"!=L[0]||go(n,7);else 3==n.H&&("stop"==L[0]||"close"==L[0]?"stop"==L[0]?go(n,7):qt(n):"noop"!=L[0]&&n.h&&n.h.Aa(L),n.A=0)}Qr()}catch{}}function xo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(ge(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var n=function es(i){if(i.ta&&"function"==typeof i.ta)return i.ta();if(!i.Z||"function"!=typeof i.Z){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(ge(i)||"string"==typeof i){var e=[];i=i.length;for(var n=0;n<i;n++)e.push(n);return e}e=[],n=0;for(const s in i)e[n++]=s;return e}}}(i),s=function Bo(i){if(i.Z&&"function"==typeof i.Z)return i.Z();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(ge(i)){for(var e=[],n=i.length,s=0;s<n;s++)e.push(i[s]);return e}for(s in e=[],n=0,i)e[n++]=i[s];return e}(i),c=s.length,d=0;d<c;d++)e.call(void 0,s[d],n&&n[d],i)}(se=Wi.prototype).setTimeout=function(i){this.P=i},se.nb=function(i){i=i.target;const e=this.M;e&&3==N(i)?e.l():this.Pa(i)},se.Pa=function(i){try{if(i==this.g)e:{const G=N(this.g);var e=this.g.Ia();if(this.g.da(),!(3>G)&&(3!=G||it||this.g&&(this.h.h||this.g.ja()||X(this.g)))){this.J||4!=G||7==e||Qr(),ho(this);var n=this.g.da();this.ca=n;t:if(_s(this)){var s=X(this.g);i="";var c=s.length,d=4==N(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),vs(this);var p="";break t}this.h.i=new Q.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==c-1});s.splice(0,c),this.h.g+=i,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=200==n,function gr(i,e,n,s,c,d,p){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+c+"]: "+e+"\n"+n+"\n"+d+" "+p})}(this.j,this.u,this.A,this.m,this.W,G,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var A,R=this.g;if((A=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tn(A)){var L=A;break t}}L=null}if(!(n=L)){this.i=!1,this.o=3,kn(12),Ci(this),vs(this);break e}Rn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zi(this,n)}this.S?(So(this,G,p),it&&this.i&&3==G&&(jt(this.U,this.V,"tick",this.mb),this.V.start())):(Rn(this.j,this.m,p,null),Zi(this,p)),4==G&&Ci(this),this.i&&!this.J&&(4==G?xi(this.l,this):(this.i=!1,no(this)))}else(function _e(i){const e={};i=(i.g&&2<=N(i)&&i.g.getAllResponseHeaders()||"").split("\r\n");for(let s=0;s<i.length;s++){if(Tn(i[s]))continue;var n=Ae(i[s]);const c=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const d=e[c]||[];e[c]=d,d.push(n)}!function pr(i,e){for(const n in i)e.call(void 0,i[n],n,i)}(e,function(s){return s.join(", ")})})(this.g),400==n&&0<p.indexOf("Unknown SID")?(this.o=3,kn(12)):(this.o=0,kn(13)),Ci(this),vs(this)}}}catch{}},se.mb=function(){if(this.g){var i=N(this.g),e=this.g.ja();this.C<e.length&&(ho(this),So(this,i,e),this.i&&4!=i&&no(this))}},se.cancel=function(){this.J=!0,Ci(this)},se.lb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function Nr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qr(),kn(17)),Ci(this),this.o=2,vs(this)):ys(this,this.Y-i)};var rn=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dr(i){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof dr){this.h=i.h,Fr(this,i.j),this.s=i.s,this.g=i.g,li(this,i.m),this.l=i.l;var e=i.i,n=new ro;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Cs(this,n),this.o=i.o}else i&&(e=String(i).match(rn))?(this.h=!1,Fr(this,e[1]||"",!0),this.s=qi(e[2]||""),this.g=qi(e[3]||"",!0),li(this,e[4]),this.l=qi(e[5]||"",!0),Cs(this,e[6]||"",!0),this.o=qi(e[7]||"")):(this.h=!1,this.i=new ro(null,this.h))}function kr(i){return new dr(i)}function Fr(i,e,n){i.j=n?qi(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function li(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Cs(i,e,n){e instanceof ro?(i.i=e,function ns(i,e){e&&!i.j&&(Vn(i),i.i=null,i.g.forEach(function(n,s){var c=s.toLowerCase();s!=c&&(Ai(this,s),on(this,c,n))},i)),i.j=e}(i.i,i.h)):(n||(e=Kn(e,ts)),i.i=new ro(e,i.h))}function Bn(i,e,n){i.i.set(e,n)}function fo(i){return Bn(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function qi(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Kn(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,bt),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function bt(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}dr.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Kn(e,Kt,!0),":");var n=this.g;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Kn(e,Kt,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&i.push("/"),i.push(Kn(n,"/"==n.charAt(0)?Lr:ir,!0))),(n=this.i.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Kn(n,wr)),i.join("")};var Kt=/[#\/\?@]/g,ir=/[#\?:]/g,Lr=/[#\?]/g,ts=/[#\?@]/g,wr=/#/g;function ro(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Vn(i){i.g||(i.g=new Map,i.h=0,i.i&&function cr(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var s=i[n].indexOf("="),c=null;if(0<=s){var d=i[n].substring(0,s);c=i[n].substring(s+1)}else d=i[n];e(d,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Ai(i,e){Vn(i),e=Di(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function Po(i,e){return Vn(i),e=Di(i,e),i.g.has(e)}function on(i,e,n){Ai(i,e),0<n.length&&(i.i=null,i.g.set(Di(i,e),mt(n)),i.h+=n.length)}function Di(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Ir(i){this.l=i||zo,i=Q.PerformanceNavigationTiming?0<(i=Q.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Q.g&&Q.g.Ka&&Q.g.Ka()&&Q.g.Ka().dc),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=ro.prototype).add=function(i,e){Vn(this),this.i=null,i=Di(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},se.forEach=function(i,e){Vn(this),this.g.forEach(function(n,s){n.forEach(function(c){i.call(e,c,s,this)},this)},this)},se.ta=function(){Vn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const c=i[s];for(let d=0;d<c.length;d++)n.push(e[s])}return n},se.Z=function(i){Vn(this);let e=[];if("string"==typeof i)Po(this,i)&&(e=e.concat(this.g.get(Di(this,i))));else{i=Array.from(this.g.values());for(let n=0;n<i.length;n++)e=e.concat(i[n])}return e},se.set=function(i,e){return Vn(this),this.i=null,Po(this,i=Di(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.Z(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const d=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var c=d;""!==p[s]&&(c+="="+encodeURIComponent(String(p[s]))),i.push(c)}}return this.i=i.join("&")};var zo=10;function io(i){return!!i.h||!!i.g&&i.g.size>=i.j}function hi(i){return i.h?1:i.g?i.g.size:0}function Ho(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function Ki(i,e){i.g?i.g.add(e):i.h=e}function oo(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Si(i){if(null!=i.h)return i.i.concat(i.h.F);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.F);return e}return mt(i.i)}Ir.prototype.cancel=function(){if(this.i=Si(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}};var Ro=class{stringify(i){return Q.JSON.stringify(i,void 0)}parse(i){return Q.JSON.parse(i,void 0)}};function As(){this.g=new Ro}function Sn(i,e,n){const s=n||"";try{xo(i,function(c,d){let p=c;Ie(c)&&(p=Mi(c)),e.push(s+d+"="+encodeURIComponent(p))})}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}function ki(i,e,n,s,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(s)}catch{}}function ii(i){this.l=i.ec||null,this.j=i.ob||!1}function mi(i,e){bn.call(this),this.F=i,this.u=e,this.m=void 0,this.readyState=po,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ft(ii,gi),ii.prototype.g=function(){return new mi(this.l,this.j)},ii.prototype.i=function(i){return function(){return i}}({}),ft(mi,bn);var po=0;function Mo(i){i.j.read().then(i.Xa.bind(i)).catch(i.ka.bind(i))}function Fi(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Mn(i)}function Mn(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=mi.prototype).open=function(i,e){if(this.readyState!=po)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Mn(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.F||Q).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Fi(this)),this.readyState=po},se.$a=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Mn(this)),this.g&&(this.readyState=3,Mn(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Q.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mo(this)}else i.text().then(this.Za.bind(this),this.ka.bind(this))},se.Xa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Fi(this):Mn(this),3==this.readyState&&Mo(this)}},se.Za=function(i){this.g&&(this.response=this.responseText=i,Fi(this))},se.Ya=function(i){this.g&&(this.response=i,Fi(this))},se.ka=function(){this.g&&Fi(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Vs=Q.JSON.parse;function Cn(i){bn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jr,this.L=this.M=!1}ft(Cn,bn);var jr="",Go=/^https?$/i,Li=["POST","PUT"];function $(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,ye(i),y(i)}function ye(i){i.F||(i.F=!0,dn(i,"complete"),dn(i,"error"))}function g(i){if(i.h&&typeof ue<"u"&&(!i.C[1]||4!=N(i)||2!=i.da()))if(i.v&&4==N(i))Oi(i.La,0,i);else if(dn(i,"readystatechange"),4==N(i)){i.h=!1;try{const p=i.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=0===p){var c=String(i.I).match(rn)[1]||null;!c&&Q.self&&Q.self.location&&(c=Q.self.location.protocol.slice(0,-1)),s=!Go.test(c?c.toLowerCase():"")}n=s}if(n)dn(i,"complete"),dn(i,"success");else{i.m=6;try{var d=2<N(i)?i.g.statusText:""}catch{d=""}i.j=d+" ["+i.da()+"]",ye(i)}}finally{y(i)}}}function y(i,e){if(i.g){D(i);const n=i.g,s=i.C[0]?()=>{}:null;i.g=null,i.C=null,e||dn(i,"ready");try{n.onreadystatechange=s}catch{}}}function D(i){i.g&&i.L&&(i.g.ontimeout=null),i.A&&(Q.clearTimeout(i.A),i.A=null)}function N(i){return i.g?i.g.readyState:0}function X(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.K){case jr:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Fe(i){let e="";return Wn(i,function(n,s){e+=s,e+=":",e+=n,e+="\r\n"}),e}function qe(i,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=Fe(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):Bn(i,e,n))}function Ke(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function St(i){this.Ga=0,this.j=[],this.l=new Xt,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ke("failFast",!1,i),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ke("baseRetryDelayMs",5e3,i),this.hb=Ke("retryDelaySeedMs",1e4,i),this.eb=Ke("forwardChannelMaxRetries",2,i),this.xa=Ke("forwardChannelRequestTimeoutMs",2e4,i),this.va=i&&i.xmlHttpFactory||void 0,this.Ha=i&&i.useFetchStreams||!1,this.L=void 0,this.J=i&&i.supportsCrossDomainXhr||!1,this.K="",this.i=new Ir(i&&i.concurrentRequestLimit),this.Ja=new As,this.P=i&&i.fastHandshake||!1,this.O=i&&i.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=i&&i.bc||!1,i&&i.Ea&&this.l.Ea(),i&&i.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&i&&i.detectBufferingProxy||!1,this.qa=void 0,i&&i.longPollingTimeout&&0<i.longPollingTimeout&&(this.qa=i.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function qt(i){if(ur(i),3==i.H){var e=i.W++,n=kr(i.I);if(Bn(n,"SID",i.K),Bn(n,"RID",e),Bn(n,"TYPE","terminate"),_r(i,n),(e=new Wi(i,i.l,e)).L=2,e.v=fo(kr(n)),n=!1,Q.navigator&&Q.navigator.sendBeacon)try{n=Q.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Q.Image&&((new Image).src=e.v,n=!0),n||(e.g=No(e.l,null),e.g.ha(e.v)),e.G=Date.now(),no(e)}Vr(i)}function zn(i){i.g&&(Br(i),i.g.cancel(),i.g=null)}function ur(i){zn(i),i.u&&(Q.clearTimeout(i.u),i.u=null),zr(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Q.clearTimeout(i.m),i.m=null)}function or(i){if(!io(i.i)&&!i.m){i.m=!0;var e=i.Na;Tt||hn(),Gt||(Tt(),Gt=!0),Ht.add(e,i),i.C=0}}function Un(i,e){var n;n=e?e.m:i.W++;const s=kr(i.I);Bn(s,"SID",i.K),Bn(s,"RID",n),Bn(s,"AID",i.V),_r(i,s),i.o&&i.s&&qe(s,i.o,i.s),n=new Wi(i,i.l,n,i.C+1),null===i.o&&(n.I=i.s),e&&(i.j=e.F.concat(i.j)),e=Vi(i,n,1e3),n.setTimeout(Math.round(.5*i.xa)+Math.round(.5*i.xa*Math.random())),Ki(i.i,n),ws(n,s,e)}function _r(i,e){i.na&&Wn(i.na,function(n,s){Bn(e,s,n)}),i.h&&xo({},function(n,s){Bn(e,s,n)})}function Vi(i,e,n){n=Math.min(i.j.length,n);var s=i.h?ht(i.h.Va,i.h,i):null;e:{var c=i.j;let d=-1;for(;;){const p=["count="+n];-1==d?0<n?(d=c[0].g,p.push("ofs="+d)):d=0:p.push("ofs="+d);let A=!0;for(let R=0;R<n;R++){let L=c[R].g;const G=c[R].map;if(L-=d,0>L)d=Math.max(0,c[R].g-100),A=!1;else try{Sn(G,p,"req"+L+"_")}catch{s&&s(G)}}if(A){s=p.join("&");break e}}}return i=i.j.splice(0,n),e.F=i,s}function _i(i){if(!i.g&&!i.u){i.ba=1;var e=i.Ma;Tt||hn(),Gt||(Tt(),Gt=!0),Ht.add(e,i),i.A=0}}function br(i){return!(i.g||i.u||3<=i.A||(i.ba++,i.u=$o(ht(i.Ma,i),Is(i,i.A)),i.A++,0))}function Br(i){null!=i.B&&(Q.clearTimeout(i.B),i.B=null)}function Wo(i){i.g=new Wi(i,i.l,"rpc",i.ba),null===i.o&&(i.g.I=i.s),i.g.O=0;var e=kr(i.wa);Bn(e,"RID","rpc"),Bn(e,"SID",i.K),Bn(e,"AID",i.V),Bn(e,"CI",i.G?"0":"1"),!i.G&&i.qa&&Bn(e,"TO",i.qa),Bn(e,"TYPE","xmlhttp"),_r(i,e),i.o&&i.s&&qe(e,i.o,i.s),i.L&&i.g.setTimeout(i.L);var n=i.g;i=i.pa,n.L=1,n.v=fo(kr(e)),n.s=null,n.S=!0,ms(n,i)}function zr(i){null!=i.v&&(Q.clearTimeout(i.v),i.v=null)}function xi(i,e){var n=null;if(i.g==e){zr(i),Br(i),i.g=null;var s=2}else{if(!Ho(i.i,e))return;n=e.F,oo(i.i,e),s=1}if(0!=i.H)if(e.i)if(1==s){n=e.s?e.s.length:0,e=Date.now()-e.G;var c=i.C;dn(s=Ao(),new eo(s,n)),or(i)}else _i(i);else if(3==(c=e.o)||0==c&&0<e.ca||!(1==s&&function $r(i,e){return!(hi(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.j=e.F.concat(i.j),0):1==i.H||2==i.H||i.C>=(i.cb?0:i.eb)||(i.m=$o(ht(i.Na,i,e),Is(i,i.C)),i.C++,0)))}(i,e)||2==s&&br(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),c){case 1:go(i,5);break;case 4:go(i,10);break;case 3:go(i,6);break;default:go(i,2)}}function Is(i,e){let n=i.ab+Math.floor(Math.random()*i.hb);return i.isActive()||(n*=2),n*e}function go(i,e){if(i.l.info("Error code "+e),2==e){var n=null;i.h&&(n=null);var s=ht(i.pb,i);n||(n=new dr("//www.google.com/images/cleardot.gif"),Q.location&&"http"==Q.location.protocol||Fr(n,"https"),fo(n)),function Ka(i,e){const n=new Xt;if(Q.Image){const s=new Image;s.onload=nt(ki,n,s,"TestLoadImage: loaded",!0,e),s.onerror=nt(ki,n,s,"TestLoadImage: error",!1,e),s.onabort=nt(ki,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=nt(ki,n,s,"TestLoadImage: timeout",!1,e),Q.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(n.toString(),s)}else kn(2);i.H=0,i.h&&i.h.za(e),Vr(i),ur(i)}function Vr(i){if(i.H=0,i.ma=[],i.h){const e=Si(i.i);(0!=e.length||0!=i.j.length)&&(Et(i.ma,e),Et(i.ma,i.j),i.i.i.length=0,mt(i.j),i.j.length=0),i.h.ya()}}function rs(i,e,n){var s=n instanceof dr?kr(n):new dr(n);if(""!=s.g)e&&(s.g=e+"."+s.g),li(s,s.m);else{var c=Q.location;s=c.protocol,e=e?e+"."+c.hostname:c.hostname,c=+c.port;var d=new dr(null);s&&Fr(d,s),e&&(d.g=e),c&&li(d,c),n&&(d.l=n),s=d}return e=i.Da,(n=i.F)&&e&&Bn(s,n,e),Bn(s,"VER",i.ra),_r(i,s),s}function No(i,e,n){if(e&&!i.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Cn(n&&i.Ha&&!i.va?new ii({ob:!0}):i.va)).Oa(i.J),e}function va(){}function Ia(){if(Oe&&!(10<=Number(un)))throw Error("Environmental error: no available transport.")}function yi(i,e){bn.call(this),this.g=new St(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(i?i["X-WebChannel-Client-Profile"]=e.Ca:i={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=i,(i=e&&e.cc)&&!Tn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tn(e)&&(this.g.F=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Us(this)}function Kc(i){Ni.call(this),i.__headers__&&(this.headers=i.__headers__,this.statusCode=i.__status__,delete i.__headers__,delete i.__status__);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Ds(){Do.call(this),this.status=1}function Us(i){this.g=i}function mo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function yc(i,e,n){n||(n=0);var s=Array(16);if("string"==typeof e)for(var c=0;16>c;++c)s[c]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(c=0;16>c;++c)s[c]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var d=i.g[3],p=(e=i.g[0])+(d^(n=i.g[1])&((c=i.g[2])^d))+s[0]+3614090360&4294967295;p=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=(n=(c=(d=(e=n+(p<<7&4294967295|p>>>25))+((p=d+(c^e&(n^c))+s[1]+3905402710&4294967295)<<12&4294967295|p>>>20))+((p=c+(n^d&(e^n))+s[2]+606105819&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^c&(d^e))+s[3]+3250441966&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(c^d))+s[4]+4118548399&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(n^c))+s[5]+1200080426&4294967295)<<12&4294967295|p>>>20))+((p=c+(n^d&(e^n))+s[6]+2821735955&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^c&(d^e))+s[7]+4249261313&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(c^d))+s[8]+1770035416&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(n^c))+s[9]+2336552879&4294967295)<<12&4294967295|p>>>20))+((p=c+(n^d&(e^n))+s[10]+4294925233&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^c&(d^e))+s[11]+2304563134&4294967295)<<22&4294967295|p>>>10))+((p=e+(d^n&(c^d))+s[12]+1804603682&4294967295)<<7&4294967295|p>>>25))+((p=d+(c^e&(n^c))+s[13]+4254626195&4294967295)<<12&4294967295|p>>>20))+((p=c+(n^d&(e^n))+s[14]+2792965006&4294967295)<<17&4294967295|p>>>15))+((p=n+(e^c&(d^e))+s[15]+1236535329&4294967295)<<22&4294967295|p>>>10))+((p=e+(c^d&(n^c))+s[1]+4129170786&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^c&(e^n))+s[6]+3225465664&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^n&(d^e))+s[11]+643717713&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(c^d))+s[0]+3921069994&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(n^c))+s[5]+3593408605&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^c&(e^n))+s[10]+38016083&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^n&(d^e))+s[15]+3634488961&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(c^d))+s[4]+3889429448&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(n^c))+s[9]+568446438&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^c&(e^n))+s[14]+3275163606&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^n&(d^e))+s[3]+4107603335&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(c^d))+s[8]+1163531501&4294967295)<<20&4294967295|p>>>12))+((p=e+(c^d&(n^c))+s[13]+2850285829&4294967295)<<5&4294967295|p>>>27))+((p=d+(n^c&(e^n))+s[2]+4243563512&4294967295)<<9&4294967295|p>>>23))+((p=c+(e^n&(d^e))+s[7]+1735328473&4294967295)<<14&4294967295|p>>>18))+((p=n+(d^e&(c^d))+s[12]+2368359562&4294967295)<<20&4294967295|p>>>12))+((p=e+(n^c^d)+s[5]+4294588738&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^c)+s[8]+2272392833&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^n)+s[11]+1839030562&4294967295)<<16&4294967295|p>>>16))+((p=n+(c^d^e)+s[14]+4259657740&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^c^d)+s[1]+2763975236&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^c)+s[4]+1272893353&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^n)+s[7]+4139469664&4294967295)<<16&4294967295|p>>>16))+((p=n+(c^d^e)+s[10]+3200236656&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^c^d)+s[13]+681279174&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^c)+s[0]+3936430074&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^n)+s[3]+3572445317&4294967295)<<16&4294967295|p>>>16))+((p=n+(c^d^e)+s[6]+76029189&4294967295)<<23&4294967295|p>>>9))+((p=e+(n^c^d)+s[9]+3654602809&4294967295)<<4&4294967295|p>>>28))+((p=d+(e^n^c)+s[12]+3873151461&4294967295)<<11&4294967295|p>>>21))+((p=c+(d^e^n)+s[15]+530742520&4294967295)<<16&4294967295|p>>>16))+((p=n+(c^d^e)+s[2]+3299628645&4294967295)<<23&4294967295|p>>>9))+((p=e+(c^(n|~d))+s[0]+4096336452&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~c))+s[7]+1126891415&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~n))+s[14]+2878612391&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(c|~e))+s[5]+4237533241&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(n|~d))+s[12]+1700485571&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~c))+s[3]+2399980690&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~n))+s[10]+4293915773&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(c|~e))+s[1]+2240044497&4294967295)<<21&4294967295|p>>>11))+((p=e+(c^(n|~d))+s[8]+1873313359&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~c))+s[15]+4264355552&4294967295)<<10&4294967295|p>>>22))+((p=c+(e^(d|~n))+s[6]+2734768916&4294967295)<<15&4294967295|p>>>17))+((p=n+(d^(c|~e))+s[13]+1309151649&4294967295)<<21&4294967295|p>>>11))+((d=(e=n+((p=e+(c^(n|~d))+s[4]+4149444226&4294967295)<<6&4294967295|p>>>26))+((p=d+(n^(e|~c))+s[11]+3174756917&4294967295)<<10&4294967295|p>>>22))^((c=d+((p=c+(e^(d|~n))+s[2]+718787259&4294967295)<<15&4294967295|p>>>17))|~e))+s[9]+3951481745&4294967295,i.g[0]=i.g[0]+e&4294967295,i.g[1]=i.g[1]+(c+(p<<21&4294967295|p>>>11))&4294967295,i.g[2]=i.g[2]+c&4294967295,i.g[3]=i.g[3]+d&4294967295}function Yn(i,e){this.h=e;for(var n=[],s=!0,c=i.length-1;0<=c;c--){var d=0|i[c];s&&d==e||(n[c]=d,s=!1)}this.g=n}(se=Cn.prototype).Oa=function(i){this.M=i},se.ha=function(i,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+i);e=e?e.toUpperCase():"GET",this.I=i,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():to.g(),this.C=function ni(i){return i.h||(i.h=i.i())}(this.u?this.u:to),this.g.onreadystatechange=ht(this.La,this);try{this.G=!0,this.g.open(e,String(i),!0),this.G=!1}catch(d){return void $(this,d)}if(i=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var c in s)n.set(c,s[c]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())n.set(d,s.get(d))}s=Array.from(n.keys()).find(d=>"content-type"==d.toLowerCase()),c=Q.FormData&&i instanceof Q.FormData,!(0<=He(Li,e))||s||c||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,p]of n)this.g.setRequestHeader(d,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{D(this),0<this.B&&((this.L=function Oo(i){return Oe&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ht(this.ua,this)):this.A=Oi(this.ua,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){$(this,d)}},se.ua=function(){typeof ue<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,dn(this,"complete"),dn(this,"abort"),y(this))},se.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),y(this,!0)),Cn.$.N.call(this)},se.La=function(){this.s||(this.G||this.v||this.l?g(this):this.kb())},se.kb=function(){g(this)},se.isActive=function(){return!!this.g},se.da=function(){try{return 2<N(this)?this.g.status:-1}catch{return-1}},se.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Wa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Vs(e)}},se.Ia=function(){return this.m},se.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=St.prototype).ra=8,se.H=1,se.Na=function(i){if(this.m)if(this.m=null,1==this.H){if(!i){this.W=Math.floor(1e5*Math.random()),i=this.W++;const c=new Wi(this,this.l,i);let d=this.s;if(this.U&&(d?(d=Ye(d),ze(d,this.U)):d=this.U),null!==this.o||this.O||(c.I=d,d=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var s=this.j[n];if(void 0===(s="__data__"in s.map&&"string"==typeof(s=s.map.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Vi(this,c,e),Bn(n=kr(this.I),"RID",i),Bn(n,"CVER",22),this.F&&Bn(n,"X-HTTP-Session-Id",this.F),_r(this,n),d&&(this.O?e="headers="+encodeURIComponent(String(Fe(d)))+"&"+e:this.o&&qe(n,this.o,d)),Ki(this.i,c),this.bb&&Bn(n,"TYPE","init"),this.P?(Bn(n,"$req",e),Bn(n,"SID","null"),c.aa=!0,ws(c,n,null)):ws(c,n,e),this.H=2}}else 3==this.H&&(i?Un(this,i):0==this.j.length||io(this.i)||Un(this))},se.Ma=function(){if(this.u=null,Wo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var i=2*this.S;this.l.info("BP detection timer enabled: "+i),this.B=$o(ht(this.jb,this),i)}},se.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,kn(10),zn(this),Wo(this))},se.ib=function(){null!=this.v&&(this.v=null,zn(this),br(this),kn(19))},se.pb=function(i){i?(this.l.info("Successfully pinged google.com"),kn(2)):(this.l.info("Failed to ping google.com"),kn(1))},se.isActive=function(){return!!this.h&&this.h.isActive(this)},(se=va.prototype).Ba=function(){},se.Aa=function(){},se.za=function(){},se.ya=function(){},se.isActive=function(){return!0},se.Va=function(){},Ia.prototype.g=function(i,e){return new yi(i,e)},ft(yi,bn),yi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var i=this.g,e=this.l,n=this.h||void 0;kn(0),i.Y=e,i.na=n||{},i.G=i.aa,i.I=rs(i,null,i.Y),or(i)},yi.prototype.close=function(){qt(this.g)},yi.prototype.u=function(i){var e=this.g;if("string"==typeof i){var n={};n.__data__=i,i=n}else this.v&&((n={}).__data__=Mi(i),i=n);e.j.push(new class{constructor(i,e){this.g=i,this.map=e}}(e.fb++,i)),3==e.H&&or(e)},yi.prototype.N=function(){this.g.h=null,delete this.j,qt(this.g),delete this.g,yi.$.N.call(this)},ft(Kc,Ni),ft(Ds,Do),ft(Us,va),Us.prototype.Ba=function(){dn(this.g,"a")},Us.prototype.Aa=function(i){dn(this.g,new Kc(i))},Us.prototype.za=function(i){dn(this.g,new Ds)},Us.prototype.ya=function(){dn(this.g,"b")},ft(mo,function Ea(){this.blockSize=-1}),mo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mo.prototype.j=function(i,e){void 0===e&&(e=i.length);for(var n=e-this.blockSize,s=this.m,c=this.h,d=0;d<e;){if(0==c)for(;d<=n;)yc(this,i,d),d+=this.blockSize;if("string"==typeof i){for(;d<e;)if(s[c++]=i.charCodeAt(d++),c==this.blockSize){yc(this,s),c=0;break}}else for(;d<e;)if(s[c++]=i[d++],c==this.blockSize){yc(this,s),c=0;break}}this.h=c,this.i+=e},mo.prototype.l=function(){var i=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);i[0]=128;for(var e=1;e<i.length-8;++e)i[e]=0;var n=8*this.i;for(e=i.length-8;e<i.length;++e)i[e]=255&n,n/=256;for(this.j(i),i=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)i[n++]=this.g[e]>>>s&255;return i};var Ta={};function wa(i){return-128<=i&&128>i?function Ne(i,e){var n=Ta;return Object.prototype.hasOwnProperty.call(n,i)?n[i]:n[i]=e(i)}(i,function(e){return new Yn([0|e],0>e?-1:0)}):new Yn([0|i],0>i?-1:0)}function Ui(i){if(isNaN(i)||!isFinite(i))return Ya;if(0>i)return fi(Ui(-i));for(var e=[],n=1,s=0;i>=n;s++)e[s]=i/n|0,n*=Js;return new Yn(e,0)}var Js=4294967296,Ya=wa(0),Qa=wa(1),Uu=wa(16777216);function is(i){if(0!=i.h)return!1;for(var e=0;e<i.g.length;e++)if(0!=i.g[e])return!1;return!0}function ko(i){return-1==i.h}function fi(i){for(var e=i.g.length,n=[],s=0;s<e;s++)n[s]=~i.g[s];return new Yn(n,~i.h).add(Qa)}function Es(i,e){return i.add(fi(e))}function Ss(i,e){for(;(65535&i[e])!=i[e];)i[e+1]+=i[e]>>>16,i[e]&=65535,e++}function C(i,e){this.g=i,this.h=e}function z(i,e){if(is(e))throw Error("division by zero");if(is(i))return new C(Ya,Ya);if(ko(i))return e=z(fi(i),e),new C(fi(e.g),fi(e.h));if(ko(e))return e=z(i,fi(e)),new C(fi(e.g),e.h);if(30<i.g.length){if(ko(i)||ko(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qa,s=e;0>=s.X(i);)n=M(n),s=M(s);var c=V(n,1),d=V(s,1);for(s=V(s,2),n=V(n,2);!is(s);){var p=d.add(s);0>=p.X(i)&&(c=c.add(n),d=p),s=V(s,1),n=V(n,1)}return e=Es(i,c.R(e)),new C(c,e)}for(c=Ya;0<=i.X(e);){for(n=Math.max(1,Math.floor(i.ea()/e.ea())),s=48>=(s=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,s-48),p=(d=Ui(n)).R(e);ko(p)||0<p.X(i);)p=(d=Ui(n-=s)).R(e);is(d)&&(d=Qa),c=c.add(d),i=Es(i,p)}return new C(c,i)}function M(i){for(var e=i.g.length+1,n=[],s=0;s<e;s++)n[s]=i.D(s)<<1|i.D(s-1)>>>31;return new Yn(n,i.h)}function V(i,e){var n=e>>5;e%=32;for(var s=i.g.length-n,c=[],d=0;d<s;d++)c[d]=0<e?i.D(d+n)>>>e|i.D(d+n+1)<<32-e:i.D(d+n);return new Yn(c,i.h)}(se=Yn.prototype).ea=function(){if(ko(this))return-fi(this).ea();for(var i=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);i+=(0<=s?s:Js+s)*e,e*=Js}return i},se.toString=function(i){if(2>(i=i||10)||36<i)throw Error("radix out of range: "+i);if(is(this))return"0";if(ko(this))return"-"+fi(this).toString(i);for(var e=Ui(Math.pow(i,6)),n=this,s="";;){var c=z(n,e).g,d=((0<(n=Es(n,c.R(e))).g.length?n.g[0]:n.h)>>>0).toString(i);if(is(n=c))return d+s;for(;6>d.length;)d="0"+d;s=d+s}},se.D=function(i){return 0>i?0:i<this.g.length?this.g[i]:this.h},se.X=function(i){return ko(i=Es(this,i))?-1:is(i)?0:1},se.abs=function(){return ko(this)?fi(this):this},se.add=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0,c=0;c<=e;c++){var d=s+(65535&this.D(c))+(65535&i.D(c)),p=(d>>>16)+(this.D(c)>>>16)+(i.D(c)>>>16);s=p>>>16,n[c]=(p&=65535)<<16|(d&=65535)}return new Yn(n,-2147483648&n[n.length-1]?-1:0)},se.R=function(i){if(is(this)||is(i))return Ya;if(ko(this))return ko(i)?fi(this).R(fi(i)):fi(fi(this).R(i));if(ko(i))return fi(this.R(fi(i)));if(0>this.X(Uu)&&0>i.X(Uu))return Ui(this.ea()*i.ea());for(var e=this.g.length+i.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var c=0;c<i.g.length;c++){var d=this.D(s)>>>16,p=65535&this.D(s),A=i.D(c)>>>16,R=65535&i.D(c);n[2*s+2*c]+=p*R,Ss(n,2*s+2*c),n[2*s+2*c+1]+=d*R,Ss(n,2*s+2*c+1),n[2*s+2*c+1]+=p*A,Ss(n,2*s+2*c+1),n[2*s+2*c+2]+=d*A,Ss(n,2*s+2*c+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Yn(n,0)},se.gb=function(i){return z(this,i).h},se.and=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&i.D(s);return new Yn(n,this.h&i.h)},se.or=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|i.D(s);return new Yn(n,this.h|i.h)},se.xor=function(i){for(var e=Math.max(this.g.length,i.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^i.D(s);return new Yn(n,this.h^i.h)},Ia.prototype.createWebChannel=Ia.prototype.g,yi.prototype.send=yi.prototype.u,yi.prototype.open=yi.prototype.m,yi.prototype.close=yi.prototype.close,bi.NO_ERROR=0,bi.TIMEOUT=8,bi.HTTP_ERROR=6,Jo.COMPLETE="complete",vr.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",bn.prototype.listen=bn.prototype.O,Cn.prototype.listenOnce=Cn.prototype.P,Cn.prototype.getLastError=Cn.prototype.Sa,Cn.prototype.getLastErrorCode=Cn.prototype.Ia,Cn.prototype.getStatus=Cn.prototype.da,Cn.prototype.getResponseJson=Cn.prototype.Wa,Cn.prototype.getResponseText=Cn.prototype.ja,Cn.prototype.send=Cn.prototype.ha,Cn.prototype.setWithCredentials=Cn.prototype.Oa,mo.prototype.digest=mo.prototype.l,mo.prototype.reset=mo.prototype.reset,mo.prototype.update=mo.prototype.j,Yn.prototype.add=Yn.prototype.add,Yn.prototype.multiply=Yn.prototype.R,Yn.prototype.modulo=Yn.prototype.gb,Yn.prototype.compare=Yn.prototype.X,Yn.prototype.toNumber=Yn.prototype.ea,Yn.prototype.toString=Yn.prototype.toString,Yn.prototype.getBits=Yn.prototype.D,Yn.fromNumber=Ui,Yn.fromString=function js(i,e){if(0==i.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==i.charAt(0))return fi(js(i.substring(1),e));if(0<=i.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Ui(Math.pow(e,8)),s=Ya,c=0;c<i.length;c+=8){var d=Math.min(8,i.length-c),p=parseInt(i.substring(c,c+d),e);8>d?(d=Ui(Math.pow(e,d)),s=s.R(d).add(Ui(p))):s=(s=s.R(n)).add(Ui(p))}return s};var pe=re.createWebChannelTransport=function(){return new Ia},Ve=re.getStatEventTarget=function(){return Ao()},Ze=re.ErrorCode=bi,Ft=re.EventType=Jo,Er=re.Event=Ur,hr=re.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},nr=re.FetchXmlHttpFactory=ii,fn=re.WebChannel=vr,Mr=re.XhrIo=Cn,Tr=re.Md5=mo,Hr=re.Integer=Yn;const Ts="@firebase/firestore";class yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yr.UNAUTHENTICATED=new yr(null),yr.GOOGLE_CREDENTIALS=new yr("google-credentials-uid"),yr.FIRST_PARTY=new yr("first-party-uid"),yr.MOCK_USER=new yr("mock-user");let Yi="10.5.2";const Gr=new te.Yd("@firebase/firestore");function _o(){return Gr.logLevel}function tt(i,...e){if(Gr.logLevel<=te.in.DEBUG){const n=e.map(ju);Gr.debug(`Firestore (${Yi}): ${i}`,...n)}}function oi(i,...e){if(Gr.logLevel<=te.in.ERROR){const n=e.map(ju);Gr.error(`Firestore (${Yi}): ${i}`,...n)}}function so(i,...e){if(Gr.logLevel<=te.in.WARN){const n=e.map(ju);Gr.warn(`Firestore (${Yi}): ${i}`,...n)}}function ju(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function Pt(i="Unexpected state"){const e=`FIRESTORE (${Yi}) INTERNAL ASSERTION FAILED: `+i;throw oi(e),new Error(e)}function Lt(i,e){i||Pt()}function dt(i,e){return i}const je={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends j.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class $u{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Yc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(yr.UNAUTHENTICATED))}shutdown(){}}class Xs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vo{constructor(e){this.t=e,this.currentUser=yr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var s=this;let c=this.i;const d=L=>this.i!==c?(c=this.i,n(L)):Promise.resolve();let p=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),p.resolve(),p=new lr,e.enqueueRetryable(()=>d(this.currentUser))};const A=()=>{const L=p;e.enqueueRetryable((0,H.Z)(function*(){yield L.promise,yield d(s.currentUser)}))},R=L=>{tt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=L,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(L=>R(L)),setTimeout(()=>{if(!this.auth){const L=this.t.getImmediate({optional:!0});L?R(L):(tt("FirebaseAuthCredentialsProvider","Auth not yet detected"),p.resolve(),p=new lr)}},0),A()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(tt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Lt("string"==typeof s.accessToken),new $u(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Lt(null===e||"string"==typeof e),new yr(e)}}class nh{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=yr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ba{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new nh(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ea{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const s=d=>{null!=d.error&&tt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const p=d.token!==this.R;return this.R=d.token,tt("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?n(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const c=d=>{tt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.A.onInit(d=>c(d)),setTimeout(()=>{if(!this.appCheck){const d=this.A.getImmediate({optional:!0});d?c(d):tt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Lt("string"==typeof n.token),this.R=n.token,new vc(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Ps(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}class zu{static newId(){const n=62*Math.floor(256/62);let s="";for(;s.length<20;){const c=Ps(40);for(let d=0;d<c.length;++d)s.length<20&&c[d]<n&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(c[d]%62))}return s}}function pn(i,e){return i<e?-1:i>e?1:0}function Ja(i,e,n){return i.length===e.length&&i.every((s,c)=>n(s,e[c]))}class Ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new st(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new st(je.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new st(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(je.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ot(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?pn(this.nanoseconds,e.nanoseconds):pn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Ot(0,0))}static max(){return new Bt(new Ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rs{constructor(e,n,s){void 0===n?n=0:n>e.length&&Pt(),void 0===s?s=e.length-n:s>e.length-n&&Pt(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return 0===Rs.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let c=0;c<s;c++){const d=e.get(c),p=n.get(c);if(d<p)return-1;if(d>p)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qn extends Rs{construct(e,n,s){return new Qn(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(je.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(c=>c.length>0))}return new Qn(n)}static emptyPath(){return new Qn([])}}const pi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends Rs{construct(e,n,s){return new Wr(e,n,s)}static isValidIdentifier(e){return pi.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wr(["__name__"])}static fromServerFormat(e){const n=[];let s="",c=0;const d=()=>{if(0===s.length)throw new st(je.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let p=!1;for(;c<e.length;){const A=e[c];if("\\"===A){if(c+1===e.length)throw new st(je.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const R=e[c+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new st(je.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=R,c+=2}else"`"===A?(p=!p,c++):"."!==A||p?(s+=A,c++):(d(),c++)}if(d(),p)throw new st(je.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wr(n)}static emptyPath(){return new Wr([])}}class Dt{constructor(e){this.path=e}static fromPath(e){return new Dt(Qn.fromString(e))}static fromName(e){return new Dt(Qn.fromString(e).popFirst(5))}static empty(){return new Dt(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Qn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Qn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Dt(new Qn(e.slice()))}}function ta(i){return new ji(i.readTime,i.key,-1)}class ji{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ji(Bt.min(),Dt.empty(),-1)}static max(){return new ji(Bt.max(),Dt.empty(),-1)}}function vi(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Dt.comparator(i.documentKey,e.documentKey),0!==n?n:pn(i.largestBatchId,e.largestBatchId))}const Xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ii(i){return ec.apply(this,arguments)}function ec(){return ec=(0,H.Z)(function*(i){if(i.code!==je.FAILED_PRECONDITION||i.message!==Xa)throw i;tt("LocalStore","Unexpectedly lost primary lease")}),ec.apply(this,arguments)}class Re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Re((s,c)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,c)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,c)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Re?n:Re.resolve(n)}catch(n){return Re.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Re.reject(n)}static resolve(e){return new Re((n,s)=>{n(e)})}static reject(e){return new Re((n,s)=>{s(e)})}static waitFor(e){return new Re((n,s)=>{let c=0,d=0,p=!1;e.forEach(A=>{++c,A.next(()=>{++d,p&&d===c&&n()},R=>s(R))}),p=!0,d===c&&n()})}static or(e){let n=Re.resolve(!1);for(const s of e)n=n.next(c=>c?Re.resolve(c):s());return n}static forEach(e,n){const s=[];return e.forEach((c,d)=>{s.push(n.call(this,c,d))}),this.waitFor(s)}static mapArray(e,n){return new Re((s,c)=>{const d=e.length,p=new Array(d);let A=0;for(let R=0;R<d;R++){const L=R;n(e[L]).next(G=>{p[L]=G,++A,A===d&&s(p)},G=>c(G))}})}static doWhile(e,n){return new Re((s,c)=>{const d=()=>{!0===e()?n().next(()=>{d()},c):s()};d()})}}function ao(i){return"IndexedDbTransactionError"===i.name}let k=(()=>{class i{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=c=>this.se(c),this.oe=c=>s.writeSequenceNumber(c))}se(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.oe&&this.oe(n),n}}return i._e=-1,i})();function q(i){return null==i}function de(i){return 0===i&&1/i==-1/0}function sh(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Fo(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function tu(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Dr{constructor(e,n){this.comparator=e,this.root=n||Ei.EMPTY}insert(e,n){return new Dr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ei.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ei.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const c=this.comparator(e,s.key);if(0===c)return n+s.left.size;c<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,c){this.isReverse=c,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=n?s(e.key,n):1,n&&c&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ei{constructor(e,n,s,c,d){this.key=e,this.value=n,this.color=s??Ei.RED,this.left=c??Ei.EMPTY,this.right=d??Ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,c,d){return new Ei(e??this.key,n??this.value,s??this.color,c??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let c=this;const d=s(e,c.key);return c=d<0?c.copy(null,null,null,c.left.insert(e,n,s),null):0===d?c.copy(null,n,null,null,null):c.copy(null,null,null,null,c.right.insert(e,n,s)),c.fixUp()}removeMin(){if(this.left.isEmpty())return Ei.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,c=this;if(n(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,n),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===n(e,c.key)){if(c.right.isEmpty())return Ei.EMPTY;s=c.right.min(),c=c.copy(s.key,s.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,n))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pt();const e=this.left.check();if(e!==this.right.check())throw Pt();return e+(this.isRed()?0:1)}}Ei.EMPTY=null,Ei.RED=!0,Ei.BLACK=!1,Ei.EMPTY=new class{constructor(){this.size=0}get key(){throw Pt()}get value(){throw Pt()}get color(){throw Pt()}get left(){throw Pt()}get right(){throw Pt()}copy(e,n,s,c,d){return this}insert(e,n,s){return new Ei(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cr{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const c=s.getNext();if(this.comparator(c.key,e[1])>=0)return;n(c.key)}}forEachWhile(e,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ch(this.data.getIterator())}getIteratorFrom(e){return new ch(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Cr)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const c=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(c,d))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Cr(this.comparator);return n.data=e,n}}class ch{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class as{constructor(e){this.fields=e,e.sort(Wr.comparator)}static empty(){return new as([])}unionWith(e){let n=new Cr(Wr.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new as(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}class tp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class qr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(c){try{return atob(c)}catch(d){throw typeof DOMException<"u"&&d instanceof DOMException?new tp("Invalid base64 string: "+d):d}}(e);return new qr(n)}static fromUint8Array(e){const n=function(c){let d="";for(let p=0;p<c.length;++p)d+=String.fromCharCode(c[p]);return d}(e);return new qr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let c=0;c<n.length;c++)s[c]=n.charCodeAt(c);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qr.EMPTY_BYTE_STRING=new qr("");const Gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Os(i){if(Lt(!!i),"string"==typeof i){let e=0;const n=Gl.exec(i);if(Lt(!!n),n[1]){let c=n[1];c=(c+"000000000").substr(0,9),e=Number(c)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Jr(i.seconds),nanos:Jr(i.nanos)}}function Jr(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function cs(i){return"string"==typeof i?qr.fromBase64String(i):qr.fromUint8Array(i)}function Yu(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Qu(i){const e=i.mapValue.fields.__previous_value__;return Yu(e)?Qu(e):e}function Tc(i){const e=Os(i.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}class Wl{constructor(e,n,s,c,d,p,A,R,L){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=c,this.ssl=d,this.forceLongPolling=p,this.autoDetectLongPolling=A,this.longPollingOptions=R,this.useFetchStreams=L}}class Lo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Da={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ia(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Yu(i)?4:Pa(i)?9007199254740991:10:Pt()}function Ns(i,e){if(i===e)return!0;const n=ia(i);if(n!==ia(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Tc(i).isEqual(Tc(e));case 3:return function(c,d){if("string"==typeof c.timestampValue&&"string"==typeof d.timestampValue&&c.timestampValue.length===d.timestampValue.length)return c.timestampValue===d.timestampValue;const p=Os(c.timestampValue),A=Os(d.timestampValue);return p.seconds===A.seconds&&p.nanos===A.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return d=e,cs(i.bytesValue).isEqual(cs(d.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(c,d){return Jr(c.geoPointValue.latitude)===Jr(d.geoPointValue.latitude)&&Jr(c.geoPointValue.longitude)===Jr(d.geoPointValue.longitude)}(i,e);case 2:return function(c,d){if("integerValue"in c&&"integerValue"in d)return Jr(c.integerValue)===Jr(d.integerValue);if("doubleValue"in c&&"doubleValue"in d){const p=Jr(c.doubleValue),A=Jr(d.doubleValue);return p===A?de(p)===de(A):isNaN(p)&&isNaN(A)}return!1}(i,e);case 9:return Ja(i.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:return function(c,d){const p=c.mapValue.fields||{},A=d.mapValue.fields||{};if(sh(p)!==sh(A))return!1;for(const R in p)if(p.hasOwnProperty(R)&&(void 0===A[R]||!Ns(p[R],A[R])))return!1;return!0}(i,e);default:return Pt()}var d}function Hs(i,e){return void 0!==(i.values||[]).find(n=>Ns(n,e))}function oa(i,e){if(i===e)return 0;const n=ia(i),s=ia(e);if(n!==s)return pn(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return pn(i.booleanValue,e.booleanValue);case 2:return function(d,p){const A=Jr(d.integerValue||d.doubleValue),R=Jr(p.integerValue||p.doubleValue);return A<R?-1:A>R?1:A===R?0:isNaN(A)?isNaN(R)?0:-1:1}(i,e);case 3:return Ju(i.timestampValue,e.timestampValue);case 4:return Ju(Tc(i),Tc(e));case 5:return pn(i.stringValue,e.stringValue);case 6:return function(d,p){const A=cs(d),R=cs(p);return A.compareTo(R)}(i.bytesValue,e.bytesValue);case 7:return function(d,p){const A=d.split("/"),R=p.split("/");for(let L=0;L<A.length&&L<R.length;L++){const G=pn(A[L],R[L]);if(0!==G)return G}return pn(A.length,R.length)}(i.referenceValue,e.referenceValue);case 8:return function(d,p){const A=pn(Jr(d.latitude),Jr(p.latitude));return 0!==A?A:pn(Jr(d.longitude),Jr(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(d,p){const A=d.values||[],R=p.values||[];for(let L=0;L<A.length&&L<R.length;++L){const G=oa(A[L],R[L]);if(G)return G}return pn(A.length,R.length)}(i.arrayValue,e.arrayValue);case 10:return function(d,p){if(d===Da.mapValue&&p===Da.mapValue)return 0;if(d===Da.mapValue)return 1;if(p===Da.mapValue)return-1;const A=d.fields||{},R=Object.keys(A),L=p.fields||{},G=Object.keys(L);R.sort(),G.sort();for(let ae=0;ae<R.length&&ae<G.length;++ae){const Ee=pn(R[ae],G[ae]);if(0!==Ee)return Ee;const Le=oa(A[R[ae]],L[G[ae]]);if(0!==Le)return Le}return pn(R.length,G.length)}(i.mapValue,e.mapValue);default:throw Pt()}}function Ju(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return pn(i,e);const n=Os(i),s=Os(e),c=pn(n.seconds,s.seconds);return 0!==c?c:pn(n.nanos,s.nanos)}function Sa(i){return wc(i)}function wc(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Os(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?cs(i.bytesValue).toBase64():"referenceValue"in i?Dt.fromName(i.referenceValue).toString():"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",c=!0;for(const d of n.values||[])c?c=!1:s+=",",s+=wc(d);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let c="{",d=!0;for(const p of s)d?d=!1:c+=",",c+=`${p}:${wc(n.fields[p])}`;return c+"}"}(i.mapValue):Pt()}function Gs(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Zl(i){return!!i&&"integerValue"in i}function xa(i){return!!i&&"arrayValue"in i}function sa(i){return!!i&&"nullValue"in i}function ql(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function nu(i){return!!i&&"mapValue"in i}function Cc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Fo(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Cc(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cc(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Pa(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}class zi{constructor(e){this.value=e}static empty(){return new zi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!nu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cc(n)}setAll(e){let n=Wr.emptyPath(),s={},c=[];e.forEach((p,A)=>{if(!n.isImmediateParentOf(A)){const R=this.getFieldsMap(n);this.applyChanges(R,s,c),s={},c=[],n=A.popLast()}p?s[A.lastSegment()]=Cc(p):c.push(A.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,c)}delete(e){const n=this.field(e.popLast());nu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let c=n.mapValue.fields[e.get(s)];nu(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=c),n=c}return n.mapValue.fields}applyChanges(e,n,s){Fo(n,(c,d)=>e[c]=d);for(const c of s)delete e[c]}clone(){return new zi(Cc(this.value))}}function lh(i){const e=[];return Fo(i.fields,(n,s)=>{const c=new Wr([n]);if(nu(s)){const d=lh(s.mapValue).fields;if(0===d.length)e.push(c);else for(const p of d)e.push(c.child(p))}else e.push(c)}),new as(e)}class Or{constructor(e,n,s,c,d,p,A){this.key=e,this.documentType=n,this.version=s,this.readTime=c,this.createTime=d,this.data=p,this.documentState=A}static newInvalidDocument(e){return new Or(e,0,Bt.min(),Bt.min(),Bt.min(),zi.empty(),0)}static newFoundDocument(e,n,s,c){return new Or(e,1,n,Bt.min(),s,c,0)}static newNoDocument(e,n){return new Or(e,2,n,Bt.min(),Bt.min(),zi.empty(),0)}static newUnknownDocument(e,n){return new Or(e,3,n,Bt.min(),Bt.min(),zi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Or&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Or(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ws{constructor(e,n){this.position=e,this.inclusive=n}}function Zs(i,e,n){let s=0;for(let c=0;c<i.position.length;c++){const d=e[c],p=i.position[c];if(s=d.field.isKeyField()?Dt.comparator(Dt.fromName(p.referenceValue),n.key):oa(p,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function ic(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ns(i.position[n],e.position[n]))return!1;return!0}class qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function dh(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class Xu{}class On extends Xu{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,s):new ph(e,n,s):"array-contains"===n?new iu(e,s):"in"===n?new mh(e,s):"not-in"===n?new us(e,s):"array-contains-any"===n?new Ra(e,s):new On(e,n,s)}static createKeyFieldInFilter(e,n,s){return"in"===n?new sp(e,s):new Hi(e,s)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(oa(n,this.value)):null!==n&&ia(this.value)===ia(n)&&this.matchesComparison(oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Pt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends Xu{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Sr(e,n)}matches(e){return Ac(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Ac(i){return"and"===i.op}function el(i){return function rp(i){for(const e of i.filters)if(e instanceof Sr)return!1;return!0}(i)&&Ac(i)}function fh(i){if(i instanceof On)return i.field.canonicalString()+i.op.toString()+Sa(i.value);if(el(i))return i.filters.map(e=>fh(e)).join(",");{const e=i.filters.map(n=>fh(n)).join(",");return`${i.op}(${e})`}}function ip(i,e){return i instanceof On?(s=i,(c=e)instanceof On&&s.op===c.op&&s.field.isEqual(c.field)&&Ns(s.value,c.value)):i instanceof Sr?function(s,c){return c instanceof Sr&&s.op===c.op&&s.filters.length===c.filters.length&&s.filters.reduce((d,p,A)=>d&&ip(p,c.filters[A]),!0)}(i,e):void Pt();var s,c}function oc(i){return i instanceof On?`${(n=i).field.canonicalString()} ${n.op} ${Sa(n.value)}`:i instanceof Sr?function(n){return n.op.toString()+" {"+n.getFilters().map(oc).join(" ,")+"}"}(i):"Filter";var n}class ph extends On{constructor(e,n,s){super(e,n,s),this.key=Dt.fromName(s.referenceValue)}matches(e){const n=Dt.comparator(e.key,this.key);return this.matchesComparison(n)}}class sp extends On{constructor(e,n){super(e,"in",n),this.keys=gh(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Hi extends On{constructor(e,n){super(e,"not-in",n),this.keys=gh(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gh(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>Dt.fromName(s.referenceValue))}class iu extends On{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xa(n)&&Hs(n.arrayValue,this.value)}}class mh extends On{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Hs(this.value.arrayValue,n)}}class us extends On{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Hs(this.value.arrayValue,n)}}class Ra extends On{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xa(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Hs(this.value.arrayValue,s))}}class _h{constructor(e,n=null,s=[],c=[],d=null,p=null,A=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=c,this.limit=d,this.startAt=p,this.endAt=A,this.ce=null}}function Ma(i,e=null,n=[],s=[],c=null,d=null,p=null){return new _h(i,e,n,s,c,d,p)}function ks(i){const e=dt(i);if(null===e.ce){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>fh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>{return(d=s).field.canonicalString()+d.dir;var d}).join(","),q(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Sa(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Sa(s)).join(",")),e.ce=n}return e.ce}function ou(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!dh(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!ip(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ic(i.startAt,e.startAt)&&ic(i.endAt,e.endAt)}function yh(i){return Dt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}class ds{constructor(e,n=null,s=[],c=[],d=null,p="F",A=null,R=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=c,this.limit=d,this.limitType=p,this.startAt=A,this.endAt=R,this.le=null,this.he=null,this.Pe=null}}function Na(i){return new ds(i)}function tl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function nl(i){return null!==i.collectionGroup}function Dc(i){const e=dt(i);if(null===e.le){e.le=[];const n=new Set;for(const d of e.explicitOrderBy)e.le.push(d),n.add(d.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(p){let A=new Cr(Wr.comparator);return p.filters.forEach(R=>{R.getFlattenedFilters().forEach(L=>{L.isInequality()&&(A=A.add(L.field))})}),A})(e).forEach(d=>{n.has(d.canonicalString())||d.isKeyField()||e.le.push(new qs(d,s))}),n.has(Wr.keyField().canonicalString())||e.le.push(new qs(Wr.keyField(),s))}return e.le}function Uo(i){const e=dt(i);return e.he||(e.he=function vh(i,e){if("F"===i.limitType)return Ma(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(c=>new qs(c.field,"desc"===c.dir?"asc":"desc"));const n=i.endAt?new Ws(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ws(i.startAt.position,i.startAt.inclusive):null;return Ma(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}(e,Dc(i))),e.he}function Kl(i,e){const n=i.filters.concat([e]);return new ds(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function rl(i,e,n){return new ds(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function ka(i,e){return ou(Uo(i),Uo(e))&&i.limitType===e.limitType}function au(i){return`${ks(Uo(i))}|lt:${i.limitType}`}function Sc(i){return`Query(target=${function(n){let s=n.path.canonicalString();return null!==n.collectionGroup&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(c=>oc(c)).join(", ")}]`),q(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(c=>{return`${(p=c).field.canonicalString()} (${p.dir})`;var p}).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(c=>Sa(c)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(c=>Sa(c)).join(",")),`Target(${s})`}(Uo(i))}; limitType=${i.limitType})`}function T(i,e){return e.isFoundDocument()&&function(s,c){const d=c.key.path;return null!==s.collectionGroup?c.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(d):Dt.isDocumentKey(s.path)?s.path.isEqual(d):s.path.isImmediateParentOf(d)}(i,e)&&function(s,c){for(const d of Dc(s))if(!d.field.isKeyField()&&null===c.data.field(d.field))return!1;return!0}(i,e)&&function(s,c){for(const d of s.filters)if(!d.matches(c))return!1;return!0}(i,e)&&(c=e,!((s=i).startAt&&!function(p,A,R){const L=Zs(p,A,R);return p.inclusive?L<=0:L<0}(s.startAt,Dc(s),c)||s.endAt&&!function(p,A,R){const L=Zs(p,A,R);return p.inclusive?L>=0:L>0}(s.endAt,Dc(s),c)));var s,c}function m(i){return(e,n)=>{let s=!1;for(const c of Dc(i)){const d=b(c,e,n);if(0!==d)return d;s=s||c.field.isKeyField()}return 0}}function b(i,e,n){const s=i.field.isKeyField()?Dt.comparator(e.key,n.key):function(d,p,A){const R=p.data.field(d),L=A.data.field(d);return null!==R&&null!==L?oa(R,L):Pt()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Pt()}}class U{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0!==s)for(const[c,d]of s)if(this.equalsFn(c,e))return d}has(e){return void 0!==this.get(e)}set(e,n){const s=this.mapKeyFn(e),c=this.inner[s];if(void 0===c)return this.inner[s]=[[e,n]],void this.innerSize++;for(let d=0;d<c.length;d++)if(this.equalsFn(c[d][0],e))return void(c[d]=[e,n]);c.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(void 0===s)return!1;for(let c=0;c<s.length;c++)if(this.equalsFn(s[c][0],e))return 1===s.length?delete this.inner[n]:s.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Fo(this.inner,(n,s)=>{for(const[c,d]of s)e(c,d)})}isEmpty(){return tu(this.inner)}size(){return this.innerSize}}const ee=new Dr(Dt.comparator);function ve(){return ee}const Be=new Dr(Dt.comparator);function ct(...i){let e=Be;for(const n of i)e=e.insert(n.key,n);return e}function $t(i){let e=Be;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vt(){return Qi()}function Fn(){return Qi()}function Qi(){return new U(i=>i.toString(),(i,e)=>i.isEqual(e))}const sc=new Dr(Dt.comparator),cu=new Cr(Dt.comparator);function xn(...i){let e=cu;for(const n of i)e=e.add(n);return e}const Ih=new Cr(pn);function Yl(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:de(e)?"-0":e}}function ol(i){return{integerValue:""+i}}function xc(i,e){return function Ue(i){return"number"==typeof i&&Number.isInteger(i)&&!de(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}(e)?ol(e):Yl(i,e)}class Pc{constructor(){this._=void 0}}function Ql(i,e,n){return i instanceof aa?function(c,d){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:c.seconds,nanos:c.nanoseconds}}}};return d&&Yu(d)&&(d=Qu(d)),d&&(p.fields.__previous_value__=d),{mapValue:p}}(n,e):i instanceof Rc?gm(i,e):i instanceof uu?Eh(i,e):function(c,d){const p=ap(c,d),A=Vy(p)+Vy(c.Ie);return Zl(p)&&Zl(c.Ie)?ol(A):Yl(c.serializer,A)}(i,e)}function Jl(i,e,n){return i instanceof Rc?gm(i,e):i instanceof uu?Eh(i,e):n}function ap(i,e){return i instanceof Xl?Zl(s=e)||(d=s)&&"doubleValue"in d?e:{integerValue:0}:null;var s,d}class aa extends Pc{}class Rc extends Pc{constructor(e){super(),this.elements=e}}function gm(i,e){const n=Th(e);for(const s of i.elements)n.some(c=>Ns(c,s))||n.push(s);return{arrayValue:{values:n}}}class uu extends Pc{constructor(e){super(),this.elements=e}}function Eh(i,e){let n=Th(e);for(const s of i.elements)n=n.filter(c=>!Ns(c,s));return{arrayValue:{values:n}}}class Xl extends Pc{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Vy(i){return Jr(i.integerValue||i.doubleValue)}function Th(i){return xa(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class wh{constructor(e,n){this.field=e,this.transform=n}}class NE{constructor(e,n){this.version=e,this.transformResults=n}}class Ti{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ti}static exists(e){return new Ti(void 0,e)}static updateTime(e){return new Ti(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cp(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class bh{}function ed(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new ac(i.key,Ti.none()):new ca(i.key,i.data,Ti.none());{const n=i.data,s=zi.empty();let c=new Cr(Wr.comparator);for(let d of e.fields)if(!c.has(d)){let p=n.field(d);null===p&&d.length>1&&(d=d.popLast(),p=n.field(d)),null===p?s.delete(d):s.set(d,p),c=c.add(d)}return new Fa(i.key,s,new as(c.toArray()),Ti.none())}}function Ch(i,e,n){i instanceof ca?function(c,d,p){const A=c.value.clone(),R=td(c.fieldTransforms,d,p.transformResults);A.setAll(R),d.convertToFoundDocument(p.version,A).setHasCommittedMutations()}(i,e,n):i instanceof Fa?function(c,d,p){if(!cp(c.precondition,d))return void d.convertToUnknownDocument(p.version);const A=td(c.fieldTransforms,d,p.transformResults),R=d.data;R.setAll(lp(c)),R.setAll(A),d.convertToFoundDocument(p.version,R).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function sl(i,e,n,s){return i instanceof ca?function(d,p,A,R){if(!cp(d.precondition,p))return A;const L=d.value.clone(),G=nd(d.fieldTransforms,R,p);return L.setAll(G),p.convertToFoundDocument(p.version,L).setHasLocalMutations(),null}(i,e,n,s):i instanceof Fa?function(d,p,A,R){if(!cp(d.precondition,p))return A;const L=nd(d.fieldTransforms,R,p),G=p.data;return G.setAll(lp(d)),G.setAll(L),p.convertToFoundDocument(p.version,G).setHasLocalMutations(),null===A?null:A.unionWith(d.fieldMask.fields).unionWith(d.fieldTransforms.map(ae=>ae.field))}(i,e,n,s):(A=n,cp(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):A);var p,A}function mm(i,e){let n=null;for(const s of i.fieldTransforms){const c=e.data.field(s.field),d=ap(s.transform,c||null);null!=d&&(null===n&&(n=zi.empty()),n.set(s.field,d))}return n||null}function up(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(c=e.fieldTransforms,!!(void 0===(s=i.fieldTransforms)&&void 0===c||s&&c&&Ja(s,c,(d,p)=>function OE(i,e){return i.field.isEqual(e.field)&&(c=e.transform,(s=i.transform)instanceof Rc&&c instanceof Rc||s instanceof uu&&c instanceof uu?Ja(s.elements,c.elements,Ns):s instanceof Xl&&c instanceof Xl?Ns(s.Ie,c.Ie):s instanceof aa&&c instanceof aa);var s,c}(d,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var s,c}class ca extends bh{constructor(e,n,s,c=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Fa extends bh{constructor(e,n,s,c,d=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=c,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function lp(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function td(i,e,n){const s=new Map;Lt(i.length===n.length);for(let c=0;c<n.length;c++){const d=i[c],p=d.transform,A=e.data.field(d.field);s.set(d.field,Jl(p,A,n[c]))}return s}function nd(i,e,n){const s=new Map;for(const c of i){const d=c.transform,p=n.data.field(c.field);s.set(c.field,Ql(d,p,e))}return s}class ac extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dp extends bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hp{constructor(e,n,s,c){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=c}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let c=0;c<this.mutations.length;c++){const d=this.mutations[c];d.key.isEqual(e.key)&&Ch(d,e,s[c])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=sl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=sl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Fn();return this.mutations.forEach(c=>{const d=e.get(c.key),p=d.overlayedDocument;let A=this.applyToLocalView(p,d.mutatedFields);A=n.has(c.key)?null:A;const R=ed(p,A);null!==R&&s.set(c.key,R),p.isValidDocument()||p.convertToNoDocument(Bt.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xn())}isEqual(e){return this.batchId===e.batchId&&Ja(this.mutations,e.mutations,(n,s)=>up(n,s))&&Ja(this.baseMutations,e.baseMutations,(n,s)=>up(n,s))}}class fp{constructor(e,n,s,c){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=c}static from(e,n,s){Lt(e.mutations.length===s.length);let c=sc;const d=e.mutations;for(let p=0;p<d.length;p++)c=c.insert(d[p].key,s[p].version);return new fp(e,n,s,c)}}class Ah{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uy{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ji,fr;function _m(i){if(void 0===i)return oi("GRPC error has no .code"),je.UNKNOWN;switch(i){case Ji.OK:return je.OK;case Ji.CANCELLED:return je.CANCELLED;case Ji.UNKNOWN:return je.UNKNOWN;case Ji.DEADLINE_EXCEEDED:return je.DEADLINE_EXCEEDED;case Ji.RESOURCE_EXHAUSTED:return je.RESOURCE_EXHAUSTED;case Ji.INTERNAL:return je.INTERNAL;case Ji.UNAVAILABLE:return je.UNAVAILABLE;case Ji.UNAUTHENTICATED:return je.UNAUTHENTICATED;case Ji.INVALID_ARGUMENT:return je.INVALID_ARGUMENT;case Ji.NOT_FOUND:return je.NOT_FOUND;case Ji.ALREADY_EXISTS:return je.ALREADY_EXISTS;case Ji.PERMISSION_DENIED:return je.PERMISSION_DENIED;case Ji.FAILED_PRECONDITION:return je.FAILED_PRECONDITION;case Ji.ABORTED:return je.ABORTED;case Ji.OUT_OF_RANGE:return je.OUT_OF_RANGE;case Ji.UNIMPLEMENTED:return je.UNIMPLEMENTED;case Ji.DATA_LOSS:return je.DATA_LOSS;default:return Pt()}}(fr=Ji||(Ji={}))[fr.OK=0]="OK",fr[fr.CANCELLED=1]="CANCELLED",fr[fr.UNKNOWN=2]="UNKNOWN",fr[fr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fr[fr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fr[fr.NOT_FOUND=5]="NOT_FOUND",fr[fr.ALREADY_EXISTS=6]="ALREADY_EXISTS",fr[fr.PERMISSION_DENIED=7]="PERMISSION_DENIED",fr[fr.UNAUTHENTICATED=16]="UNAUTHENTICATED",fr[fr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fr[fr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fr[fr.ABORTED=10]="ABORTED",fr[fr.OUT_OF_RANGE=11]="OUT_OF_RANGE",fr[fr.UNIMPLEMENTED=12]="UNIMPLEMENTED",fr[fr.INTERNAL=13]="INTERNAL",fr[fr.UNAVAILABLE=14]="UNAVAILABLE",fr[fr.DATA_LOSS=15]="DATA_LOSS";const mp=new Hr([4294967295,4294967295],0);function _p(i){const e=function hs(){return new TextEncoder}().encode(i),n=new Tr;return n.update(e),new Uint8Array(n.digest())}function Sh(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),c=e.getUint32(8,!0),d=e.getUint32(12,!0);return[new Hr([n,s],0),new Hr([c,d],0)]}class Eo{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(s<0)throw new cc(`Invalid hash count: ${s}`);if(e.length>0&&0===this.hashCount)throw new cc(`Invalid hash count: ${s}`);if(0===e.length&&0!==n)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=Hr.fromNumber(this.Te)}de(e,n,s){let c=e.add(n.multiply(Hr.fromNumber(s)));return 1===c.compare(mp)&&(c=new Hr([c.getBits(0),c.getBits(1)],0)),c.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const n=_p(e),[s,c]=Sh(n);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);if(!this.Ae(p))return!1}return!0}static create(e,n,s){const c=e%8==0?0:8-e%8,d=new Uint8Array(Math.ceil(e/8)),p=new Eo(d,c,n);return s.forEach(A=>p.insert(A)),p}insert(e){if(0===this.Te)return;const n=_p(e),[s,c]=Sh(n);for(let d=0;d<this.hashCount;d++){const p=this.de(s,c,d);this.Re(p)}}Re(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class al{constructor(e,n,s,c,d){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=c,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const c=new Map;return c.set(e,cl.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new al(Bt.min(),c,new Dr(pn),ve(),xn())}}class cl{constructor(e,n,s,c,d){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=c,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new cl(s,n,xn(),xn(),xn())}}class xh{constructor(e,n,s,c){this.Ve=e,this.removedTargetIds=n,this.key=s,this.me=c}}class yp{constructor(e,n){this.targetId=e,this.fe=n}}class ym{constructor(e,n,s=qr.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=c}}class vp{constructor(){this.ge=0,this.pe=vm(),this.ye=qr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=xn(),n=xn(),s=xn();return this.pe.forEach((c,d)=>{switch(d){case 0:e=e.add(c);break;case 2:n=n.add(c);break;case 1:s=s.add(c);break;default:Pt()}}),new cl(this.ye,this.we,e,n,s)}Fe(){this.Se=!1,this.pe=vm()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class jy{constructor(e){this.Le=e,this.ke=new Map,this.qe=ve(),this.Qe=Ip(),this.Ke=new Dr(pn)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.Ce(e.resumeToken);break;case 1:s.Ne(),s.be||s.Fe(),s.Ce(e.resumeToken);break;case 2:s.Ne(),s.be||this.removeTarget(n);break;case 3:this.je(n)&&(s.Be(),s.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.Ce(e.resumeToken));break;default:Pt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((s,c)=>{this.je(c)&&n(c)})}Je(e){const n=e.targetId,s=e.fe.count,c=this.Ye(n);if(c){const d=c.target;if(yh(d))if(0===s){const p=new Dt(d.path);this.We(n,p,Or.newNoDocument(p,Bt.min()))}else Lt(1===s);else{const p=this.Ze(n);if(p!==s){const A=this.Xe(e),R=A?this.et(A,e,p):1;0!==R&&(this.He(n),this.Ke=this.Ke.insert(n,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:c=0},hashCount:d=0}=n;let p,A;try{p=cs(s).toUint8Array()}catch(R){if(R instanceof tp)return so("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{A=new Eo(p,c,d)}catch(R){return so(R instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===A.Te?null:A}et(e,n,s){return n.fe.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let c=0;return s.forEach(d=>{const p=this.Le.nt(),A=`projects/${p.projectId}/databases/${p.database}/documents/${d.path.canonicalString()}`;e.mightContain(A)||(this.We(n,d,null),c++)}),c}it(e){const n=new Map;this.ke.forEach((d,p)=>{const A=this.Ye(p);if(A){if(d.current&&yh(A.target)){const R=new Dt(A.target.path);null!==this.qe.get(R)||this.st(p,R)||this.We(p,R,Or.newNoDocument(R,e))}d.De&&(n.set(p,d.ve()),d.Fe())}});let s=xn();this.Qe.forEach((d,p)=>{let A=!0;p.forEachWhile(R=>{const L=this.Ye(R);return!L||"TargetPurposeLimboResolution"===L.purpose||(A=!1,!1)}),A&&(s=s.add(d))}),this.qe.forEach((d,p)=>p.setReadTime(e));const c=new al(e,n,this.Ke,this.qe,s);return this.qe=ve(),this.Qe=Ip(),this.Ke=new Dr(pn),c}Ue(e,n){if(!this.je(e))return;const s=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,s),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const c=this.ze(e);this.st(e,n)?c.Me(n,1):c.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),s&&(this.qe=this.qe.insert(n,s))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new vp,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Cr(pn),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=null!==this.Ye(e);return n||tt("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new vp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ip(){return new Dr(Dt.comparator)}function vm(){return new Dr(Dt.comparator)}const $y={asc:"ASCENDING",desc:"DESCENDING"},Ep={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tp={and:"AND",or:"OR"};class By{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function lu(i,e){return i.useProto3Json||q(e)?e:{value:e}}function ul(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Im(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Em(i,e){return ul(i,e.toTimestamp())}function Pi(i){return Lt(!!i),Bt.fromTimestamp(function(n){const s=Os(n);return new Ot(s.seconds,s.nanos)}(i))}function Ph(i,e){return(s=i,new Qn(["projects",s.projectId,"databases",s.database])).child("documents").child(e).canonicalString();var s}function du(i){const e=Qn.fromString(i);return Lt(Dp(e)),e}function Mc(i,e){return Ph(i.databaseId,e.path)}function ua(i,e){const n=du(e);if(n.get(1)!==i.databaseId.projectId)throw new st(je.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new st(je.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Dt(Tm(n))}function rd(i,e){return Ph(i.databaseId,e)}function od(i){return new Qn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Tm(i){return Lt(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function wm(i,e,n){return{name:Mc(i,e),fields:n.value.mapValue.fields}}function Rh(i,e){return{documents:[rd(i,e.path)]}}function bp(i,e){const n={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(n.parent=rd(i,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rd(i,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const c=function(R){if(0!==R.length)return ad(Sr.create(R,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const d=function(R){if(0!==R.length)return R.map(L=>{return{field:Oc((ae=L).field),direction:hu(ae.dir)};var ae})}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const p=lu(i,e.limit);return null!==p&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt={before:(R=e.startAt).inclusive,values:R.position}),e.endAt&&(n.structuredQuery.endAt=function(R){return{before:!R.inclusive,values:R.position}}(e.endAt)),n;var R}function Cm(i){let e=function id(i){const e=du(i);return 4===e.length?Qn.emptyPath():Tm(e)}(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let c=null;if(s>0){Lt(1===s);const G=n.from[0];G.allDescendants?c=G.collectionId:e=e.child(G.collectionId)}let d=[];n.where&&(d=function(ae){const Ee=Ap(ae);return Ee instanceof Sr&&el(Ee)?Ee.getFilters():[Ee]}(n.where));let p=[];n.orderBy&&(p=n.orderBy.map(Ee=>{return new qs(sd((It=Ee).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(It.direction));var It}));let A=null;n.limit&&(A=function(ae){let Ee;return Ee="object"==typeof ae?ae.value:ae,q(Ee)?null:Ee}(n.limit));let R=null;var ae;n.startAt&&(R=new Ws((ae=n.startAt).values||[],!!ae.before));let L=null;return n.endAt&&(L=function(ae){return new Ws(ae.values||[],!ae.before)}(n.endAt)),function Oa(i,e,n,s,c,d,p,A){return new ds(i,e,n,s,c,d,p,A)}(e,c,p,d,A,"F",R,L)}function Ap(i){return void 0!==i.unaryFilter?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=sd(n.unaryFilter.field);return On.create(s,"==",{doubleValue:NaN});case"IS_NULL":const c=sd(n.unaryFilter.field);return On.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=sd(n.unaryFilter.field);return On.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=sd(n.unaryFilter.field);return On.create(p,"!=",{nullValue:"NULL_VALUE"});default:return Pt()}}(i):void 0!==i.fieldFilter?On.create(sd((n=i).fieldFilter.field),function(c){switch(c){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pt()}}(n.fieldFilter.op),n.fieldFilter.value):void 0!==i.compositeFilter?function(n){return Sr.create(n.compositeFilter.filters.map(s=>Ap(s)),function(c){switch(c){case"AND":return"and";case"OR":return"or";default:return Pt()}}(n.compositeFilter.op))}(i):Pt();var n}function hu(i){return $y[i]}function Am(i){return Ep[i]}function Dm(i){return Tp[i]}function Oc(i){return{fieldPath:i.canonicalString()}}function sd(i){return Wr.fromServerFormat(i.fieldPath)}function ad(i){return i instanceof On?function(n){if("=="===n.op){if(ql(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NAN"}};if(sa(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NULL"}}}else if("!="===n.op){if(ql(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NOT_NAN"}};if(sa(n.value))return{unaryFilter:{field:Oc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Oc(n.field),op:Am(n.op),value:n.value}}}(i):i instanceof Sr?function(n){const s=n.getFilters().map(c=>ad(c));return 1===s.length?s[0]:{compositeFilter:{op:Dm(n.op),filters:s}}}(i):Pt()}function Gy(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Dp(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}class La{constructor(e,n,s,c,d=Bt.min(),p=Bt.min(),A=qr.EMPTY_BYTE_STRING,R=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=c,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=A,this.expectedCount=R}withSequenceNumber(e){return new La(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new La(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Sp{constructor(e){this.ut=e}}function cd(i){const e=Cm({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?rl(e,e.limit,"L"):e}class Va{constructor(){}ht(e,n){this.Pt(e,n),n.It()}Pt(e,n){if("nullValue"in e)this.Tt(n,5);else if("booleanValue"in e)this.Tt(n,10),n.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(n,15),n.Et(Jr(e.integerValue));else if("doubleValue"in e){const s=Jr(e.doubleValue);isNaN(s)?this.Tt(n,13):(this.Tt(n,15),de(s)?n.Et(0):n.Et(s))}else if("timestampValue"in e){const s=e.timestampValue;this.Tt(n,20),"string"==typeof s?n.dt(s):(n.dt(`${s.seconds||""}`),n.Et(s.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,n),this.Rt(n);else if("bytesValue"in e)this.Tt(n,30),n.Vt(cs(e.bytesValue)),this.Rt(n);else if("referenceValue"in e)this.ft(e.referenceValue,n);else if("geoPointValue"in e){const s=e.geoPointValue;this.Tt(n,45),n.Et(s.latitude||0),n.Et(s.longitude||0)}else"mapValue"in e?Pa(e)?this.Tt(n,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,n),this.Rt(n)):"arrayValue"in e?(this.yt(e.arrayValue,n),this.Rt(n)):Pt()}At(e,n){this.Tt(n,25),this.wt(e,n)}wt(e,n){n.dt(e)}gt(e,n){const s=e.fields||{};this.Tt(n,55);for(const c of Object.keys(s))this.At(c,n),this.Pt(s[c],n)}yt(e,n){const s=e.values||[];this.Tt(n,50);for(const c of s)this.Pt(c,n)}ft(e,n){this.Tt(n,37),Dt.fromName(e).path.forEach(s=>{this.Tt(n,60),this.wt(s,n)})}Tt(e,n){e.Et(n)}Rt(e){e.Et(2)}}Va.St=new Va;class Ky{constructor(){this.on=new da}addToCollectionParentIndex(e,n){return this.on.add(n),Re.resolve()}getCollectionParents(e,n){return Re.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return Re.resolve()}deleteFieldIndex(e,n){return Re.resolve()}deleteAllFieldIndexes(e){return Re.resolve()}createTargetIndexes(e,n){return Re.resolve()}getDocumentsMatchingTarget(e,n){return Re.resolve(null)}getIndexType(e,n){return Re.resolve(0)}getFieldIndexes(e,n){return Re.resolve([])}getNextCollectionGroupToUpdate(e){return Re.resolve(null)}getMinOffset(e,n){return Re.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,n){return Re.resolve(ji.min())}updateCollectionGroup(e,n,s){return Re.resolve()}updateIndexEntries(e,n){return Re.resolve()}}class da{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),c=this.index[n]||new Cr(Qn.comparator),d=!c.has(s);return this.index[n]=c.add(s),d}has(e){const n=e.lastSegment(),s=e.popLast(),c=this.index[n];return c&&c.has(s)}getEntries(e){return(this.index[e]||new Cr(Qn.comparator)).toArray()}}new Uint8Array(0);class qo{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Vc{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Vc(0)}static Nn(){return new Vc(-1)}}class ev{constructor(){this.changes=new U(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Or.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Re.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class nv{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class $h{constructor(e,n,s,c){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=c}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(c=>(s=c,this.remoteDocumentCache.getEntry(e,n))).next(c=>(null!==s&&sl(s.mutation,c,as.empty(),Ot.now()),c))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,xn()).next(()=>s))}getLocalViewOfDocuments(e,n,s=xn()){const c=Vt();return this.populateOverlays(e,c,n).next(()=>this.computeViews(e,n,c,s).next(d=>{let p=ct();return d.forEach((A,R)=>{p=p.insert(A,R.overlayedDocument)}),p}))}getOverlayedDocuments(e,n){const s=Vt();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,xn()))}populateOverlays(e,n,s){const c=[];return s.forEach(d=>{n.has(d)||c.push(d)}),this.documentOverlayCache.getOverlays(e,c).next(d=>{d.forEach((p,A)=>{n.set(p,A)})})}computeViews(e,n,s,c){let d=ve();const p=Qi(),A=Qi();return n.forEach((R,L)=>{const G=s.get(L.key);c.has(L.key)&&(void 0===G||G.mutation instanceof Fa)?d=d.insert(L.key,L):void 0!==G?(p.set(L.key,G.mutation.getFieldMask()),sl(G.mutation,L,G.mutation.getFieldMask(),Ot.now())):p.set(L.key,as.empty())}),this.recalculateAndSaveOverlays(e,d).next(R=>(R.forEach((L,G)=>p.set(L,G)),n.forEach((L,G)=>{var ae;return A.set(L,new nv(G,null!==(ae=p.get(L))&&void 0!==ae?ae:null))}),A))}recalculateAndSaveOverlays(e,n){const s=Qi();let c=new Dr((p,A)=>p-A),d=xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(p=>{for(const A of p)A.keys().forEach(R=>{const L=n.get(R);if(null===L)return;let G=s.get(R)||as.empty();G=A.applyToLocalView(L,G),s.set(R,G);const ae=(c.get(A.batchId)||xn()).add(R);c=c.insert(A.batchId,ae)})}).next(()=>{const p=[],A=c.getReverseIterator();for(;A.hasNext();){const R=A.getNext(),L=R.key,G=R.value,ae=Fn();G.forEach(Ee=>{if(!d.has(Ee)){const Le=ed(n.get(Ee),s.get(Ee));null!==Le&&ae.set(Ee,Le),d=d.add(Ee)}}),p.push(this.documentOverlayCache.saveOverlays(e,L,ae))}return Re.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,c){return Dt.isDocumentKey((p=n).path)&&null===p.collectionGroup&&0===p.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):nl(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,c):this.getDocumentsMatchingCollectionQuery(e,n,s,c);var p}getNextDocuments(e,n,s,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,c).next(d=>{const p=c-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,c-d.size):Re.resolve(Vt());let A=-1,R=d;return p.next(L=>Re.forEach(L,(G,ae)=>(A<ae.largestBatchId&&(A=ae.largestBatchId),d.get(G)?Re.resolve():this.remoteDocumentCache.getEntry(e,G).next(Ee=>{R=R.insert(G,Ee)}))).next(()=>this.populateOverlays(e,L,d)).next(()=>this.computeViews(e,R,L,xn())).next(G=>({batchId:A,changes:$t(G)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Dt(n)).next(s=>{let c=ct();return s.isFoundDocument()&&(c=c.insert(s.key,s)),c})}getDocumentsMatchingCollectionGroupQuery(e,n,s,c){const d=n.collectionGroup;let p=ct();return this.indexManager.getCollectionParents(e,d).next(A=>Re.forEach(A,R=>{const L=(ae=n,Ee=R.child(d),new ds(Ee,null,ae.explicitOrderBy.slice(),ae.filters.slice(),ae.limit,ae.limitType,ae.startAt,ae.endAt));var ae,Ee;return this.getDocumentsMatchingCollectionQuery(e,L,s,c).next(G=>{G.forEach((ae,Ee)=>{p=p.insert(ae,Ee)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,n,s,c){let d;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(p=>(d=p,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,d,c))).next(p=>{d.forEach((R,L)=>{const G=L.getKey();null===p.get(G)&&(p=p.insert(G,Or.newInvalidDocument(G)))});let A=ct();return p.forEach((R,L)=>{const G=d.get(R);void 0!==G&&sl(G.mutation,L,as.empty(),Ot.now()),T(n,L)&&(A=A.insert(R,L))}),A})}}class zp{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return Re.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,{id:(c=n).id,version:c.version,createTime:Pi(c.createTime)}),Re.resolve();var c}getNamedQuery(e,n){return Re.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,{name:(c=n).name,query:cd(c.bundledQuery),readTime:Pi(c.readTime)}),Re.resolve();var c}}class rv{constructor(){this.overlays=new Dr(Dt.comparator),this.lr=new Map}getOverlay(e,n){return Re.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vt();return Re.forEach(n,c=>this.getOverlay(e,c).next(d=>{null!==d&&s.set(c,d)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((c,d)=>{this.lt(e,n,d)}),Re.resolve()}removeOverlaysForBatchId(e,n,s){const c=this.lr.get(s);return void 0!==c&&(c.forEach(d=>this.overlays=this.overlays.remove(d)),this.lr.delete(s)),Re.resolve()}getOverlaysForCollection(e,n,s){const c=Vt(),d=n.length+1,p=new Dt(n.child("")),A=this.overlays.getIteratorFrom(p);for(;A.hasNext();){const R=A.getNext().value,L=R.getKey();if(!n.isPrefixOf(L.path))break;L.path.length===d&&R.largestBatchId>s&&c.set(R.getKey(),R)}return Re.resolve(c)}getOverlaysForCollectionGroup(e,n,s,c){let d=new Dr((L,G)=>L-G);const p=this.overlays.getIterator();for(;p.hasNext();){const L=p.getNext().value;if(L.getKey().getCollectionGroup()===n&&L.largestBatchId>s){let G=d.get(L.largestBatchId);null===G&&(G=Vt(),d=d.insert(L.largestBatchId,G)),G.set(L.getKey(),L)}}const A=Vt(),R=d.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((L,G)=>A.set(L,G)),!(A.size()>=c)););return Re.resolve(A)}lt(e,n,s){const c=this.overlays.get(s.key);if(null!==c){const p=this.lr.get(c.largestBatchId).delete(s.key);this.lr.set(c.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new Ah(n,s));let d=this.lr.get(n);void 0===d&&(d=xn(),this.lr.set(n,d)),this.lr.set(n,d.add(s.key))}}class Hp{constructor(){this.hr=new Cr(To.Pr),this.Ir=new Cr(To.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const s=new To(e,n);this.hr=this.hr.add(s),this.Ir=this.Ir.add(s)}Er(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.dr(new To(e,n))}Ar(e,n){e.forEach(s=>this.removeReference(s,n))}Rr(e){const n=new Dt(new Qn([])),s=new To(n,e),c=new To(n,e+1),d=[];return this.Ir.forEachInRange([s,c],p=>{this.dr(p),d.push(p.key)}),d}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new Dt(new Qn([])),s=new To(n,e),c=new To(n,e+1);let d=xn();return this.Ir.forEachInRange([s,c],p=>{d=d.add(p.key)}),d}containsKey(e){const n=new To(e,0),s=this.hr.firstAfterOrEqual(n);return null!==s&&e.isEqual(s.key)}}class To{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return Dt.comparator(e.key,n.key)||pn(e.gr,n.gr)}static Tr(e,n){return pn(e.gr,n.gr)||Dt.comparator(e.key,n.key)}}class iv{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Cr(To.Pr)}checkEmpty(e){return Re.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,s,c){const d=this.pr;this.pr++;const p=new hp(d,n,s,c);this.mutationQueue.push(p);for(const A of c)this.yr=this.yr.add(new To(A.key,d)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Re.resolve(p)}lookupMutationBatch(e,n){return Re.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const c=this.Sr(n+1),d=c<0?0:c;return Re.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return Re.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return Re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new To(n,0),c=new To(n,Number.POSITIVE_INFINITY),d=[];return this.yr.forEachInRange([s,c],p=>{const A=this.wr(p.gr);d.push(A)}),Re.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Cr(pn);return n.forEach(c=>{const d=new To(c,0),p=new To(c,Number.POSITIVE_INFINITY);this.yr.forEachInRange([d,p],A=>{s=s.add(A.gr)})}),Re.resolve(this.br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,c=s.length+1;let d=s;Dt.isDocumentKey(d)||(d=d.child(""));const p=new To(new Dt(d),0);let A=new Cr(pn);return this.yr.forEachWhile(R=>{const L=R.key.path;return!!s.isPrefixOf(L)&&(L.length===c&&(A=A.add(R.gr)),!0)},p),Re.resolve(this.br(A))}br(e){const n=[];return e.forEach(s=>{const c=this.wr(s);null!==c&&n.push(c)}),n}removeMutationBatch(e,n){Lt(0===this.Dr(n.batchId,"removed")),this.mutationQueue.shift();let s=this.yr;return Re.forEach(n.mutations,c=>{const d=new To(c.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.yr=s})}Fn(e){}containsKey(e,n){const s=new To(n,0),c=this.yr.firstAfterOrEqual(s);return Re.resolve(n.isEqual(c&&c.key))}performConsistencyCheck(e){return Re.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Lm{constructor(e){this.Cr=e,this.docs=new Dr(Dt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,c=this.docs.get(s),d=c?c.size:0,p=this.Cr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:p}),this.size+=p-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Re.resolve(s?s.document.mutableCopy():Or.newInvalidDocument(n))}getEntries(e,n){let s=ve();return n.forEach(c=>{const d=this.docs.get(c);s=s.insert(c,d?d.document.mutableCopy():Or.newInvalidDocument(c))}),Re.resolve(s)}getDocumentsMatchingQuery(e,n,s,c){let d=ve();const p=n.path,A=new Dt(p.child("")),R=this.docs.getIteratorFrom(A);for(;R.hasNext();){const{key:L,value:{document:G}}=R.getNext();if(!p.isPrefixOf(L.path))break;L.path.length>p.length+1||vi(ta(G),s)<=0||(c.has(G.key)||T(n,G))&&(d=d.insert(G.key,G.mutableCopy()))}return Re.resolve(d)}getAllFromCollectionGroup(e,n,s,c){Pt()}vr(e,n){return Re.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new LE(this)}getSize(e){return Re.resolve(this.size)}}class LE extends ev{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((s,c)=>{c.isValidDocument()?n.push(this._r.addEntry(e,c)):this._r.removeEntry(s)}),Re.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}class VE{constructor(e){this.persistence=e,this.Fr=new U(n=>ks(n),ou),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Mr=0,this.Or=new Hp,this.targetCount=0,this.Nr=Vc.On()}forEachTarget(e,n){return this.Fr.forEach((s,c)=>n(c)),Re.resolve()}getLastRemoteSnapshotVersion(e){return Re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Re.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),Re.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Mr&&(this.Mr=n),Re.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Vc(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,Re.resolve()}updateTargetData(e,n){return this.kn(n),Re.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,Re.resolve()}removeTargets(e,n,s){let c=0;const d=[];return this.Fr.forEach((p,A)=>{A.sequenceNumber<=n&&null===s.get(A.targetId)&&(this.Fr.delete(p),d.push(this.removeMatchingKeysForTargetId(e,A.targetId)),c++)}),Re.waitFor(d).next(()=>c)}getTargetCount(e){return Re.resolve(this.targetCount)}getTargetData(e,n){const s=this.Fr.get(n)||null;return Re.resolve(s)}addMatchingKeys(e,n,s){return this.Or.Er(n,s),Re.resolve()}removeMatchingKeys(e,n,s){this.Or.Ar(n,s);const c=this.persistence.referenceDelegate,d=[];return c&&n.forEach(p=>{d.push(c.markPotentiallyOrphaned(e,p))}),Re.waitFor(d)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),Re.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Or.mr(n);return Re.resolve(s)}containsKey(e,n){return Re.resolve(this.Or.containsKey(n))}}class yu{constructor(e,n){this.Br={},this.overlays={},this.Lr=new k(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new VE(this),this.indexManager=new Ky,this.remoteDocumentCache=new Lm(s=>this.referenceDelegate.Qr(s)),this.serializer=new Sp(n),this.Kr=new zp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rv,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Br[e.toKey()];return s||(s=new iv(n,this.referenceDelegate),this.Br[e.toKey()]=s),s}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,s){tt("MemoryPersistence","Starting transaction:",e);const c=new md(this.Lr.next());return this.referenceDelegate.$r(),s(c).next(d=>this.referenceDelegate.Ur(c).next(()=>d)).toPromise().then(d=>(c.raiseOnCommittedEvent(),d))}Wr(e,n){return Re.or(Object.values(this.Br).map(s=>()=>s.containsKey(e,n)))}}class md extends Aa{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.Gr=new Hp,this.zr=null}static jr(e){return new _d(e)}get Hr(){if(this.zr)return this.zr;throw Pt()}addReference(e,n,s){return this.Gr.addReference(s,n),this.Hr.delete(s.toString()),Re.resolve()}removeReference(e,n,s){return this.Gr.removeReference(s,n),this.Hr.add(s.toString()),Re.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),Re.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(c=>this.Hr.add(c.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(c=>{c.forEach(d=>this.Hr.add(d.toString()))}).next(()=>s.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Re.forEach(this.Hr,s=>{const c=Dt.fromPath(s);return this.Jr(e,c).next(d=>{d||n.removeEntry(c,Bt.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(s=>{s?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return Re.or([()=>Re.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}class vd{constructor(e,n,s,c){this.targetId=e,this.fromCache=n,this.ki=s,this.qi=c}static Qi(e,n){let s=xn(),c=xn();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:c=c.add(d.doc.key)}return new vd(e,n.fromCache,s,c)}}class ov{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class zh{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,n){this.Gi=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,s,c){const d={result:null};return this.zi(e,n).next(p=>{d.result=p}).next(()=>{if(!d.result)return this.ji(e,n,c,s).next(p=>{d.result=p})}).next(()=>{if(d.result)return;const p=new ov;return this.Hi(e,n,p).next(A=>{if(d.result=A,this.$i)return this.Ji(e,n,p,A.size)})}).next(()=>d.result)}Ji(e,n,s,c){return s.documentReadCount<this.Ui?(_o()<=te.in.DEBUG&&tt("QueryEngine","SDK will not create cache indexes for query:",Sc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),Re.resolve()):(_o()<=te.in.DEBUG&&tt("QueryEngine","Query:",Sc(n),"scans",s.documentReadCount,"local documents and returns",c,"documents as results."),s.documentReadCount>this.Wi*c?(_o()<=te.in.DEBUG&&tt("QueryEngine","The SDK decides to create cache indexes for query:",Sc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Uo(n))):Re.resolve())}zi(e,n){if(tl(n))return Re.resolve(null);let s=Uo(n);return this.indexManager.getIndexType(e,s).next(c=>0===c?null:(null!==n.limit&&1===c&&(n=rl(n,null,"F"),s=Uo(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const p=xn(...d);return this.Gi.getDocuments(e,p).next(A=>this.indexManager.getMinOffset(e,s).next(R=>{const L=this.Yi(n,A);return this.Zi(n,L,p,R.readTime)?this.zi(e,rl(n,null,"F")):this.Xi(e,L,n,R)}))})))}ji(e,n,s,c){return tl(n)||c.isEqual(Bt.min())?Re.resolve(null):this.Gi.getDocuments(e,s).next(d=>{const p=this.Yi(n,d);return this.Zi(n,p,s,c)?Re.resolve(null):(_o()<=te.in.DEBUG&&tt("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),Sc(n)),this.Xi(e,p,n,function jn(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,c=Bt.fromTimestamp(1e9===s?new Ot(n+1,0):new Ot(n,s));return new ji(c,Dt.empty(),e)}(c,-1)).next(A=>A))})}Yi(e,n){let s=new Cr(m(e));return n.forEach((c,d)=>{T(e,d)&&(s=s.add(d))}),s}Zi(e,n,s,c){if(null===e.limit)return!1;if(s.size!==n.size)return!0;const d="F"===e.limitType?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(c)>0)}Hi(e,n,s){return _o()<=te.in.DEBUG&&tt("QueryEngine","Using full collection scan to execute query:",Sc(n)),this.Gi.getDocumentsMatchingQuery(e,n,ji.min(),s)}Xi(e,n,s,c){return this.Gi.getDocumentsMatchingQuery(e,s,c).next(d=>(n.forEach(p=>{d=d.insert(p.key,p)}),d))}}class Um{constructor(e,n,s,c){this.persistence=e,this.es=n,this.serializer=c,this.ts=new Dr(pn),this.ns=new U(d=>ks(d),ou),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(s)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $h(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ts))}}function jc(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,H.Z)(function*(i,e){const n=dt(i);return yield n.persistence.runTransaction("Handle user change","readonly",s=>{let c;return n.mutationQueue.getAllMutationBatches(s).next(d=>(c=d,n.os(e),n.mutationQueue.getAllMutationBatches(s))).next(d=>{const p=[],A=[];let R=xn();for(const L of c){p.push(L.batchId);for(const G of L.mutations)R=R.add(G.key)}for(const L of d){A.push(L.batchId);for(const G of L.mutations)R=R.add(G.key)}return n.localDocuments.getDocuments(s,R).next(L=>({_s:L,removedBatchIds:p,addedBatchIds:A}))})})}),Kp.apply(this,arguments)}function Id(i){const e=dt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function Gh(i,e){const n=dt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ha(i,e,n){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,H.Z)(function*(i,e,n){const s=dt(i),c=s.ts.get(e),d=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",d,p=>s.persistence.referenceDelegate.removeTarget(p,c)))}catch(p){if(!ao(p))throw p;tt("LocalStore",`Failed to update sequence numbers for target ${e}: ${p}`)}s.ts=s.ts.remove(e),s.ns.delete(c.target)}),Ed.apply(this,arguments)}function Wh(i,e,n){const s=dt(i);let c=Bt.min(),d=xn();return s.persistence.runTransaction("Execute query","readwrite",p=>function(R,L,G){const ae=dt(R),Ee=ae.ns.get(G);return void 0!==Ee?Re.resolve(ae.ts.get(Ee)):ae.qr.getTargetData(L,G)}(s,p,Uo(e)).next(A=>{if(A)return c=A.lastLimboFreeSnapshotVersion,s.qr.getMatchingKeysForTargetId(p,A.targetId).next(R=>{d=R})}).next(()=>s.es.getDocumentsMatchingQuery(p,e,n?c:Bt.min(),n?d:xn())).next(A=>(function Iu(i,e,n){let s=i.rs.get(e)||Bt.min();n.forEach((c,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.rs.set(e,s)}(s,function f(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}(e),A),{documents:A,ls:d})))}class ng{constructor(){this.activeTargetIds=function il(){return Ih}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uv{constructor(){this.eo=new ng,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,n,s){this.no[e]=n}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new ng,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kh{ro(e){}shutdown(){}}class zm{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){tt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){tt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let _l=null;function wd(){return null===_l?_l=268435456+Math.round(2147483648*Math.random()):_l++,"0x"+_l.toString(16)}const yl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rg{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const wo="WebChannelConnection";class bd extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",c=encodeURIComponent(this.databaseId.projectId),d=encodeURIComponent(this.databaseId.database);this.mo=s+"://"+n.host,this.fo=`projects/${c}/databases/${d}`,this.po="(default)"===this.databaseId.database?`project_id=${c}`:`project_id=${c}&database_id=${d}`}get yo(){return!1}wo(n,s,c,d,p){const A=wd(),R=this.So(n,s);tt("RestConnection",`Sending RPC '${n}' ${A}:`,R,c);const L={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(L,d,p),this.Do(n,R,L,c).then(G=>(tt("RestConnection",`Received RPC '${n}' ${A}: `,G),G),G=>{throw so("RestConnection",`RPC '${n}' ${A} failed with error: `,G,"url: ",R,"request:",c),G})}Co(n,s,c,d,p,A){return this.wo(n,s,c,d,p)}bo(n,s,c){n["X-Goog-Api-Client"]="gl-js/ fire/"+Yi,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((d,p)=>n[p]=d),c&&c.headers.forEach((d,p)=>n[p]=d)}So(n,s){return`${this.mo}/v1/${s}:${yl[n]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,n,s,c){const d=wd();return new Promise((p,A)=>{const R=new Mr;R.setWithCredentials(!0),R.listenOnce(Ft.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case Ze.NO_ERROR:const G=R.getResponseJson();tt(wo,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(G)),p(G);break;case Ze.TIMEOUT:tt(wo,`RPC '${e}' ${d} timed out`),A(new st(je.DEADLINE_EXCEEDED,"Request time out"));break;case Ze.HTTP_ERROR:const ae=R.getStatus();if(tt(wo,`RPC '${e}' ${d} failed with status:`,ae,"response text:",R.getResponseText()),ae>0){let Ee=R.getResponseJson();Array.isArray(Ee)&&(Ee=Ee[0]);const Le=Ee?.error;if(Le&&Le.status&&Le.message){const It=function(xt){const an=xt.toLowerCase().replace(/_/g,"-");return Object.values(je).indexOf(an)>=0?an:je.UNKNOWN}(Le.status);A(new st(It,Le.message))}else A(new st(je.UNKNOWN,"Server responded with status "+R.getStatus()))}else A(new st(je.UNAVAILABLE,"Connection failed."));break;default:Pt()}}finally{tt(wo,`RPC '${e}' ${d} completed.`)}});const L=JSON.stringify(c);tt(wo,`RPC '${e}' ${d} sending request:`,c),R.send(n,"POST",L,s,15)})}vo(e,n,s){const c=wd(),d=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=pe(),A=Ve(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},L=this.longPollingOptions.timeoutSeconds;void 0!==L&&(R.longPollingTimeout=Math.round(1e3*L)),this.useFetchStreams&&(R.xmlHttpFactory=new nr({})),this.bo(R.initMessageHeaders,n,s),R.encodeInitMessageHeaders=!0;const G=d.join("");tt(wo,`Creating RPC '${e}' stream ${c}: ${G}`,R);const ae=p.createWebChannel(G,R);let Ee=!1,Le=!1;const It=new rg({co:xt=>{Le?tt(wo,`Not sending because RPC '${e}' stream ${c} is closed:`,xt):(Ee||(tt(wo,`Opening RPC '${e}' stream ${c} transport.`),ae.open(),Ee=!0),tt(wo,`RPC '${e}' stream ${c} sending:`,xt),ae.send(xt))},lo:()=>ae.close()}),Ct=(xt,an,_n)=>{xt.listen(an,tn=>{try{_n(tn)}catch(sr){setTimeout(()=>{throw sr},0)}})};return Ct(ae,fn.EventType.OPEN,()=>{Le||tt(wo,`RPC '${e}' stream ${c} transport opened.`)}),Ct(ae,fn.EventType.CLOSE,()=>{Le||(Le=!0,tt(wo,`RPC '${e}' stream ${c} transport closed`),It.Ro())}),Ct(ae,fn.EventType.ERROR,xt=>{Le||(Le=!0,so(wo,`RPC '${e}' stream ${c} transport errored:`,xt),It.Ro(new st(je.UNAVAILABLE,"The operation could not be completed")))}),Ct(ae,fn.EventType.MESSAGE,xt=>{var an;if(!Le){const _n=xt.data[0];Lt(!!_n);const sr=_n.error||(null===(an=_n[0])||void 0===an?void 0:an.error);if(sr){tt(wo,`RPC '${e}' stream ${c} received error:`,sr);const Kr=sr.status;let xr=function(Ay){const im=Ji[Ay];if(void 0!==im)return _m(im)}(Kr),Gi=sr.message;void 0===xr&&(xr=je.INTERNAL,Gi="Unknown error status: "+Kr+" with message "+sr.message),Le=!0,It.Ro(new st(xr,Gi)),ae.close()}else tt(wo,`RPC '${e}' stream ${c} received:`,_n),It.Vo(_n)}}),Ct(A,Er.STAT_EVENT,xt=>{xt.stat===hr.PROXY?tt(wo,`RPC '${e}' stream ${c} detected buffering proxy`):xt.stat===hr.NOPROXY&&tt(wo,`RPC '${e}' stream ${c} detected no buffering proxy`)}),setTimeout(()=>{It.Ao()},0),It}}function fc(){return typeof document<"u"?document:null}function Eu(i){return new By(i,!0)}class Ad{constructor(e,n,s=1e3,c=1.5,d=6e4){this.si=e,this.timerId=n,this.Fo=s,this.Mo=c,this.xo=d,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const n=Math.floor(this.Oo+this.qo()),s=Math.max(0,Date.now()-this.Bo),c=Math.max(0,n-s);c>0&&tt("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.Oo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,c,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Dd{constructor(e,n,s,c,d,p,A,R){this.si=e,this.Ko=s,this.$o=c,this.connection=d,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=A,this.listener=R,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new Ad(e,n)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,H.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,H.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,n){var s=this;return(0,H.Z)(function*(){s.t_(),s.n_(),s.zo.cancel(),s.Uo++,4!==e?s.zo.reset():n&&n.code===je.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),s.zo.Lo()):n&&n.code===je.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.r_(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Io(n)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),n=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,c])=>{this.Uo===n&&this.s_(s,c)},s=>{e(()=>{const c=new st(je.UNKNOWN,"Fetching auth token failed: "+s.message);return this.o_(c)})})}s_(e,n){const s=this.i_(this.Uo);this.stream=this.__(e,n),this.stream.ho(()=>{s(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(c=>{s(()=>this.o_(c))}),this.stream.onMessage(c=>{s(()=>this.onMessage(c))})}Jo(){var e=this;this.state=5,this.zo.ko((0,H.Z)(function*(){e.state=0,e.start()}))}o_(e){return tt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return n=>{this.si.enqueueAndForget(()=>this.Uo===e?n():(tt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class UE extends Dd{constructor(e,n,s,c,d,p){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,c,p),this.serializer=d}__(e,n){return this.connection.vo("Listen",e,n)}onMessage(e){this.zo.reset();const n=function Hy(i,e){let n;if("targetChange"in e){const s="NO_CHANGE"===(L=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===L?1:"REMOVE"===L?2:"CURRENT"===L?3:"RESET"===L?4:Pt(),c=e.targetChange.targetIds||[],d=function(L,G){return L.useProto3Json?(Lt(void 0===G||"string"==typeof G),qr.fromBase64String(G||"")):(Lt(void 0===G||G instanceof Uint8Array),qr.fromUint8Array(G||new Uint8Array))}(i,e.targetChange.resumeToken),p=e.targetChange.cause,A=p&&function(L){const G=void 0===L.code?je.UNKNOWN:_m(L.code);return new st(G,L.message||"")}(p);n=new ym(s,c,d,A||null)}else if("documentChange"in e){const s=e.documentChange,c=ua(i,s.document.name),d=Pi(s.document.updateTime),p=s.document.createTime?Pi(s.document.createTime):Bt.min(),A=new zi({mapValue:{fields:s.document.fields}}),R=Or.newFoundDocument(c,d,p,A);n=new xh(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in e){const s=e.documentDelete,c=ua(i,s.document),d=s.readTime?Pi(s.readTime):Bt.min(),p=Or.newNoDocument(c,d);n=new xh([],s.removedTargetIds||[],p.key,p)}else if("documentRemove"in e){const s=e.documentRemove,c=ua(i,s.document);n=new xh([],s.removedTargetIds||[],c,null)}else{if(!("filter"in e))return Pt();{const s=e.filter,{count:c=0,unchangedNames:d}=s,p=new Uy(c,d);n=new yp(s.targetId,p)}}var L;return n}(this.serializer,e),s=function(d){if(!("targetChange"in d))return Bt.min();const p=d.targetChange;return p.targetIds&&p.targetIds.length?Bt.min():p.readTime?Pi(p.readTime):Bt.min()}(e);return this.listener.a_(n,s)}u_(e){const n={};n.database=od(this.serializer),n.addTarget=function(d,p){let A;const R=p.target;if(A=yh(R)?{documents:Rh(d,R)}:{query:bp(d,R)},A.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){A.resumeToken=Im(d,p.resumeToken);const L=lu(d,p.expectedCount);null!==L&&(A.expectedCount=L)}else if(p.snapshotVersion.compareTo(Bt.min())>0){A.readTime=ul(d,p.snapshotVersion.toTimestamp());const L=lu(d,p.expectedCount);null!==L&&(A.expectedCount=L)}return A}(this.serializer,e);const s=function Cp(i,e){const n=function(c){switch(c){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);s&&(n.labels=s),this.e_(n)}c_(e){const n={};n.database=od(this.serializer),n.removeTarget=e,this.e_(n)}}class ig extends Dd{constructor(e,n,s,c,d,p){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,c,p),this.serializer=d,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,n){return this.connection.vo("Write",e,n)}onMessage(e){if(Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const n=function wp(i,e){return i&&i.length>0?(Lt(void 0!==e),i.map(n=>function(c,d){let p=Pi(c.updateTime?c.updateTime:d);return p.isEqual(Bt.min())&&(p=Pi(d)),new NE(p,c.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),s=Pi(e.commitTime);return this.listener.I_(s,n)}return Lt(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=od(this.serializer),this.e_(e)}P_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>function ll(i,e){let n;if(e instanceof ca)n={update:wm(i,e.key,e.value)};else if(e instanceof ac)n={delete:Mc(i,e.key)};else if(e instanceof Fa)n={update:wm(i,e.key,e.data),updateMask:Gy(e.fieldMask)};else{if(!(e instanceof dp))return Pt();n={verify:Mc(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(d,p){const A=p.transform;if(A instanceof aa)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Rc)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof uu)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof Xl)return{fieldPath:p.field.canonicalString(),increment:A.Ie};throw Pt()}(0,s))),e.precondition.isNone||(n.currentDocument=void 0!==(d=e.precondition).updateTime?{updateTime:Em(i,d.updateTime)}:void 0!==d.exists?{exists:d.exists}:Pt()),n;var d}(this.serializer,s))};this.e_(n)}}class Sd extends class{}{constructor(e,n,s,c){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=c,this.d_=!1}A_(){if(this.d_)throw new st(je.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,n,s){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.wo(e,n,s,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(je.UNKNOWN,c.toString())})}Co(e,n,s,c){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.Co(e,n,s,d,p,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===je.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(je.UNKNOWN,d.toString())})}terminate(){this.d_=!0}}class dv{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(oi(n),this.f_=!1):tt("OnlineStateTracker",n)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class hv{constructor(e,n,s,c,d){var p=this;this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=d,this.F_.ro(A=>{s.enqueueAndForget((0,H.Z)(function*(){var R;ja(p)&&(tt("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,H.Z)(function*(G){const ae=dt(G);ae.C_.add(4),yield vl(ae),ae.M_.set("Unknown"),ae.C_.delete(4),yield Tu(ae)}),function L(G){return R.apply(this,arguments)})(p))}))}),this.M_=new dv(s,c)}}function Tu(i){return Qh.apply(this,arguments)}function Qh(){return Qh=(0,H.Z)(function*(i){if(ja(i))for(const e of i.v_)yield e(!0)}),Qh.apply(this,arguments)}function vl(i){return og.apply(this,arguments)}function og(){return og=(0,H.Z)(function*(i){for(const e of i.v_)yield e(!1)}),og.apply(this,arguments)}function sg(i,e){const n=dt(i);n.D_.has(e.targetId)||(n.D_.set(e.targetId,e),Xh(n)?ag(n):El(n).Ho()&&Il(n,e))}function xd(i,e){const n=dt(i),s=El(n);n.D_.delete(e),s.Ho()&&Jh(n,e),0===n.D_.size&&(s.Ho()?s.Zo():ja(n)&&n.M_.set("Unknown"))}function Il(i,e){if(i.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}El(i).u_(e)}function Jh(i,e){i.x_.Oe(e),El(i).c_(e)}function ag(i){i.x_=new jy({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>i.D_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),El(i).start(),i.M_.g_()}function Xh(i){return ja(i)&&!El(i).jo()&&i.D_.size>0}function ja(i){return 0===dt(i).C_.size}function Pd(i){i.x_=void 0}function fv(i){return ef.apply(this,arguments)}function ef(){return ef=(0,H.Z)(function*(i){i.D_.forEach((e,n)=>{Il(i,e)})}),ef.apply(this,arguments)}function pv(i,e){return tf.apply(this,arguments)}function tf(){return tf=(0,H.Z)(function*(i,e){Pd(i),Xh(i)?(i.M_.w_(e),ag(i)):i.M_.set("Unknown")}),tf.apply(this,arguments)}function jE(i,e,n){return cg.apply(this,arguments)}function cg(){return cg=(0,H.Z)(function*(i,e,n){if(i.M_.set("Online"),e instanceof ym&&2===e.state&&e.cause)try{yield(s=(0,H.Z)(function*(d,p){const A=p.cause;for(const R of p.targetIds)d.D_.has(R)&&(yield d.remoteSyncer.rejectListen(R,A),d.D_.delete(R),d.x_.removeTarget(R))}),function c(d,p){return s.apply(this,arguments)})(i,e)}catch(s){tt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield $c(i,s)}else if(e instanceof xh?i.x_.$e(e):e instanceof yp?i.x_.Je(e):i.x_.Ge(e),!n.isEqual(Bt.min()))try{const s=yield Id(i.localStore);n.compareTo(s)>=0&&(yield function(d,p){const A=d.x_.it(p);return A.targetChanges.forEach((R,L)=>{if(R.resumeToken.approximateByteSize()>0){const G=d.D_.get(L);G&&d.D_.set(L,G.withResumeToken(R.resumeToken,p))}}),A.targetMismatches.forEach((R,L)=>{const G=d.D_.get(R);if(!G)return;d.D_.set(R,G.withResumeToken(qr.EMPTY_BYTE_STRING,G.snapshotVersion)),Jh(d,R);const ae=new La(G.target,R,L,G.sequenceNumber);Il(d,ae)}),d.remoteSyncer.applyRemoteEvent(A)}(i,n))}catch(s){tt("RemoteStore","Failed to raise snapshot:",s),yield $c(i,s)}var s}),cg.apply(this,arguments)}function $c(i,e,n){return ug.apply(this,arguments)}function ug(){return ug=(0,H.Z)(function*(i,e,n){if(!ao(e))throw e;i.C_.add(1),yield vl(i),i.M_.set("Offline"),n||(n=()=>Id(i.localStore)),i.asyncQueue.enqueueRetryable((0,H.Z)(function*(){tt("RemoteStore","Retrying IndexedDB access"),yield n(),i.C_.delete(1),yield Tu(i)}))}),ug.apply(this,arguments)}function wu(i,e){return e().catch(n=>$c(i,n,e))}function $a(i){return lg.apply(this,arguments)}function lg(){return lg=(0,H.Z)(function*(i){const e=dt(i),n=bu(e);let s=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;Hm(e);)try{const c=yield Gh(e.localStore,s);if(null===c){0===e.b_.length&&n.Zo();break}s=c.batchId,gv(e,c)}catch(c){yield $c(e,c)}Gm(e)&&Wm(e)}),lg.apply(this,arguments)}function Hm(i){return ja(i)&&i.b_.length<10}function gv(i,e){i.b_.push(e);const n=bu(i);n.Ho()&&n.h_&&n.P_(e.mutations)}function Gm(i){return ja(i)&&!bu(i).jo()&&i.b_.length>0}function Wm(i){bu(i).start()}function Zm(i){return nf.apply(this,arguments)}function nf(){return nf=(0,H.Z)(function*(i){bu(i).E_()}),nf.apply(this,arguments)}function dg(i){return qm.apply(this,arguments)}function qm(){return qm=(0,H.Z)(function*(i){const e=bu(i);for(const n of i.b_)e.P_(n.mutations)}),qm.apply(this,arguments)}function hg(i,e,n){return rf.apply(this,arguments)}function rf(){return rf=(0,H.Z)(function*(i,e,n){const s=i.b_.shift(),c=fp.from(s,e,n);yield wu(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield $a(i)}),rf.apply(this,arguments)}function mv(i,e){return fg.apply(this,arguments)}function fg(){return fg=(0,H.Z)(function*(i,e){var n;e&&bu(i).h_&&(yield(n=(0,H.Z)(function*(c,d){if(function gp(i){switch(i){default:return Pt();case je.CANCELLED:case je.UNKNOWN:case je.DEADLINE_EXCEEDED:case je.RESOURCE_EXHAUSTED:case je.INTERNAL:case je.UNAVAILABLE:case je.UNAUTHENTICATED:return!1;case je.INVALID_ARGUMENT:case je.NOT_FOUND:case je.ALREADY_EXISTS:case je.PERMISSION_DENIED:case je.FAILED_PRECONDITION:case je.ABORTED:case je.OUT_OF_RANGE:case je.UNIMPLEMENTED:case je.DATA_LOSS:return!0}}(A=d.code)&&A!==je.ABORTED){const p=c.b_.shift();bu(c).Yo(),yield wu(c,()=>c.remoteSyncer.rejectFailedWrite(p.batchId,d)),yield $a(c)}var A}),function s(c,d){return n.apply(this,arguments)})(i,e)),Gm(i)&&Wm(i)}),fg.apply(this,arguments)}function pg(i,e){return gg.apply(this,arguments)}function gg(){return gg=(0,H.Z)(function*(i,e){const n=dt(i);n.asyncQueue.verifyOperationInProgress(),tt("RemoteStore","RemoteStore received new credentials");const s=ja(n);n.C_.add(3),yield vl(n),s&&n.M_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.C_.delete(3),yield Tu(n)}),gg.apply(this,arguments)}function mg(){return mg=(0,H.Z)(function*(i,e){const n=dt(i);e?(n.C_.delete(2),yield Tu(n)):e||(n.C_.add(2),yield vl(n),n.M_.set("Unknown"))}),mg.apply(this,arguments)}function El(i){return i.O_||(i.O_=function(n,s,c){const d=dt(n);return d.A_(),new UE(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(i.datastore,i.asyncQueue,{ho:fv.bind(null,i),Io:pv.bind(null,i),a_:jE.bind(null,i)}),i.v_.push(function(){var e=(0,H.Z)(function*(n){n?(i.O_.Yo(),Xh(i)?ag(i):i.M_.set("Unknown")):(yield i.O_.stop(),Pd(i))});return function(n){return e.apply(this,arguments)}}())),i.O_}function bu(i){return i.N_||(i.N_=function(n,s,c){const d=dt(n);return d.A_(),new ig(s,d.connection,d.authCredentials,d.appCheckCredentials,d.serializer,c)}(i.datastore,i.asyncQueue,{ho:Zm.bind(null,i),Io:mv.bind(null,i),T_:dg.bind(null,i),I_:hg.bind(null,i)}),i.v_.push(function(){var e=(0,H.Z)(function*(n){n?(i.N_.Yo(),yield $a(i)):(yield i.N_.stop(),i.b_.length>0&&(tt("RemoteStore",`Stopping write stream with ${i.b_.length} pending writes`),i.b_=[]))});return function(n){return e.apply(this,arguments)}}())),i.N_}class af{constructor(e,n,s,c,d){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=c,this.removalCallback=d,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,c,d){const p=Date.now()+s,A=new af(e,n,p,c,d);return A.start(s),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(je.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cu(i,e){if(oi("AsyncQueue",`${e}: ${i}`),ao(i))return new st(je.UNAVAILABLE,`${e}: ${i}`);throw i}class Yo{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Dt.comparator(n.key,s.key):(n,s)=>Dt.comparator(n.key,s.key),this.keyedMap=ct(),this.sortedSet=new Dr(this.comparator)}static emptySet(e){return new Yo(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const c=n.getNext().key,d=s.getNext().key;if(!c.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const s=new Yo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class _g{constructor(){this.B_=new Dr(Dt.comparator)}track(e){const n=e.doc.key,s=this.B_.get(n);s?0!==e.type&&3===s.type?this.B_=this.B_.insert(n,e):3===e.type&&1!==s.type?this.B_=this.B_.insert(n,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.B_=this.B_.remove(n):1===e.type&&2===s.type?this.B_=this.B_.insert(n,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):Pt():this.B_=this.B_.insert(n,e)}L_(){const e=[];return this.B_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Rd{constructor(e,n,s,c,d,p,A,R,L){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=c,this.mutatedKeys=d,this.fromCache=p,this.syncStateChanged=A,this.excludesMetadataChanges=R,this.hasCachedResults=L}static fromInitialDocuments(e,n,s,c,d){const p=[];return n.forEach(A=>{p.push({type:0,doc:A})}),new Rd(e,n,Yo.emptySet(n),p,s,c,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ka(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let c=0;c<n.length;c++)if(n[c].type!==s[c].type||!n[c].doc.isEqual(s[c].doc))return!1;return!0}}class yg{constructor(){this.k_=void 0,this.listeners=[]}}class Bc{constructor(){this.queries=new U(e=>au(e),ka),this.onlineState="Unknown",this.q_=new Set}}function Md(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,H.Z)(function*(i,e){const n=dt(i),s=e.query;let c=!1,d=n.queries.get(s);if(d||(c=!0,d=new yg),c)try{d.k_=yield n.onListen(s)}catch(p){const A=Cu(p,`Initialization of query '${Sc(e.query)}' failed`);return void e.onError(A)}n.queries.set(s,d),d.listeners.push(e),e.Q_(n.onlineState),d.k_&&e.K_(d.k_)&&cf(n)}),vg.apply(this,arguments)}function Km(i,e){return Ig.apply(this,arguments)}function Ig(){return Ig=(0,H.Z)(function*(i,e){const n=dt(i),s=e.query;let c=!1;const d=n.queries.get(s);if(d){const p=d.listeners.indexOf(e);p>=0&&(d.listeners.splice(p,1),c=0===d.listeners.length)}if(c)return n.queries.delete(s),n.onUnlisten(s)}),Ig.apply(this,arguments)}function Eg(i,e){const n=dt(i);let s=!1;for(const c of e){const p=n.queries.get(c.query);if(p){for(const A of p.listeners)A.K_(c)&&(s=!0);p.k_=c}}s&&cf(n)}function Ba(i,e,n){const s=dt(i),c=s.queries.get(e);if(c)for(const d of c.listeners)d.onError(n);s.queries.delete(e)}function cf(i){i.q_.forEach(e=>{e.next()})}class Tg{constructor(e,n,s){this.query=e,this.U_=n,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=s||{}}K_(e){if(!this.options.includeMetadataChanges){const s=[];for(const c of e.docChanges)3!==c.type&&s.push(c);e=new Rd(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.W_?this.z_(e)&&(this.U_.next(e),n=!0):this.j_(e,this.onlineState)&&(this.H_(e),n=!0),this.G_=e,n}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let n=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),n=!0),n}j_(e,n){return!e.fromCache||(!this.options.J_||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Rd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class Ym{constructor(e){this.key=e}}class Qm{constructor(e){this.key=e}}class lf{constructor(e,n){this.query=e,this.ia=n,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=xn(),this.mutatedKeys=xn(),this._a=m(e),this.aa=new Yo(this._a)}get ua(){return this.ia}ca(e,n){const s=n?n.la:new _g,c=n?n.aa:this.aa;let d=n?n.mutatedKeys:this.mutatedKeys,p=c,A=!1;const R="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,L="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((G,ae)=>{const Ee=c.get(G),Le=T(this.query,ae)?ae:null,It=!!Ee&&this.mutatedKeys.has(Ee.key),Ct=!!Le&&(Le.hasLocalMutations||this.mutatedKeys.has(Le.key)&&Le.hasCommittedMutations);let xt=!1;Ee&&Le?Ee.data.isEqual(Le.data)?It!==Ct&&(s.track({type:3,doc:Le}),xt=!0):this.ha(Ee,Le)||(s.track({type:2,doc:Le}),xt=!0,(R&&this._a(Le,R)>0||L&&this._a(Le,L)<0)&&(A=!0)):!Ee&&Le?(s.track({type:0,doc:Le}),xt=!0):Ee&&!Le&&(s.track({type:1,doc:Ee}),xt=!0,(R||L)&&(A=!0)),xt&&(Le?(p=p.add(Le),d=Ct?d.add(G):d.delete(G)):(p=p.delete(G),d=d.delete(G)))}),null!==this.query.limit)for(;p.size>this.query.limit;){const G="F"===this.query.limitType?p.last():p.first();p=p.delete(G.key),d=d.delete(G.key),s.track({type:1,doc:G})}return{aa:p,la:s,Zi:A,mutatedKeys:d}}ha(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const c=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const d=e.la.L_();d.sort((L,G)=>function(Ee,Le){const It=Ct=>{switch(Ct){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pt()}};return It(Ee)-It(Le)}(L.type,G.type)||this._a(L.doc,G.doc)),this.Pa(s);const p=n?this.Ia():[],A=0===this.oa.size&&this.current?1:0,R=A!==this.sa;return this.sa=A,0!==d.length||R?{snapshot:new Rd(this.query,e.aa,c,d,e.mutatedKeys,0===A,R,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ta:p}:{Ta:p}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new _g,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(n=>this.ia=this.ia.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ia=this.ia.delete(n)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=xn(),this.aa.forEach(s=>{this.Ea(s.key)&&(this.oa=this.oa.add(s.key))});const n=[];return e.forEach(s=>{this.oa.has(s)||n.push(new Qm(s))}),this.oa.forEach(s=>{e.has(s)||n.push(new Ym(s))}),n}da(e){this.ia=e.ls,this.oa=xn();const n=this.ca(e.documents);return this.applyChanges(n,!0)}Aa(){return Rd.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class Jm{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Xm{constructor(e){this.key=e,this.Ra=!1}}class yv{constructor(e,n,s,c,d,p){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=c,this.currentUser=d,this.maxConcurrentLimboResolutions=p,this.Va={},this.ma=new U(A=>au(A),ka),this.fa=new Map,this.ga=new Set,this.pa=new Dr(Dt.comparator),this.ya=new Map,this.wa=new Hp,this.Sa={},this.ba=new Map,this.Da=Vc.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function e_(i,e){return df.apply(this,arguments)}function df(){return df=(0,H.Z)(function*(i,e){const n=function kd(i){const e=dt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Au.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n_.bind(null,e),e.Va.a_=Eg.bind(null,e.eventManager),e.Va.Fa=Ba.bind(null,e.eventManager),e}(i);let s,c;const d=n.ma.get(e);if(d)s=d.targetId,n.sharedClientState.addLocalQueryTarget(s),c=d.view.Aa();else{const p=yield function fs(i,e){const n=dt(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let c;return n.qr.getTargetData(s,e).next(d=>d?(c=d,Re.resolve(c)):n.qr.allocateTargetId(s).next(p=>(c=new La(e,p,"TargetPurposeListen",s.currentSequenceNumber),n.qr.addTargetData(s,c).next(()=>c))))}).then(s=>{const c=n.ts.get(s.targetId);return(null===c||s.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(n.ts=n.ts.insert(s.targetId,s),n.ns.set(e,s.targetId)),s})}(n.localStore,Uo(e)),A=n.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,c=yield function wg(i,e,n,s,c){return hf.apply(this,arguments)}(n,e,s,"current"===A,p.resumeToken),n.isPrimaryClient&&sg(n.remoteStore,p)}return c}),df.apply(this,arguments)}function hf(){return hf=(0,H.Z)(function*(i,e,n,s,c){i.va=(ae,Ee,Le)=>{return(It=(0,H.Z)(function*(xt,an,_n,tn){let sr=an.view.ca(_n);sr.Zi&&(sr=yield Wh(xt.localStore,an.query,!1).then(({documents:Gi})=>an.view.ca(Gi,sr)));const Kr=tn&&tn.targetChanges.get(an.targetId),xr=an.view.applyChanges(sr,xt.isPrimaryClient,Kr);return i_(xt,an.targetId,xr.Ta),xr.snapshot}),function Ct(xt,an,_n,tn){return It.apply(this,arguments)})(i,ae,Ee,Le);var It};const d=yield Wh(i.localStore,e,!0),p=new lf(e,d.ls),A=p.ca(d.documents),R=cl.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==i.onlineState,c),L=p.applyChanges(A,i.isPrimaryClient,R);i_(i,n,L.Ta);const G=new Jm(e,n,p);return i.ma.set(e,G),i.fa.has(n)?i.fa.get(n).push(e):i.fa.set(n,[e]),L.snapshot}),hf.apply(this,arguments)}function vv(i,e){return ff.apply(this,arguments)}function ff(){return ff=(0,H.Z)(function*(i,e){const n=dt(i),s=n.ma.get(e),c=n.fa.get(s.targetId);if(c.length>1)return n.fa.set(s.targetId,c.filter(d=>!ka(d,e))),void n.ma.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield ha(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),xd(n.remoteStore,s.targetId),wl(n,s.targetId)}).catch(Ii))):(wl(n,s.targetId),yield ha(n.localStore,s.targetId,!0))}),ff.apply(this,arguments)}function fa(){return fa=(0,H.Z)(function*(i,e,n){const s=function Fd(i){const e=dt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cg.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gf.bind(null,e),e}(i);try{const c=yield function(p,A){const R=dt(p),L=Ot.now(),G=A.reduce((Le,It)=>Le.add(It.key),xn());let ae,Ee;return R.persistence.runTransaction("Locally write mutations","readwrite",Le=>{let It=ve(),Ct=xn();return R.ss.getEntries(Le,G).next(xt=>{It=xt,It.forEach((an,_n)=>{_n.isValidDocument()||(Ct=Ct.add(an))})}).next(()=>R.localDocuments.getOverlayedDocuments(Le,It)).next(xt=>{ae=xt;const an=[];for(const _n of A){const tn=mm(_n,ae.get(_n.key).overlayedDocument);null!=tn&&an.push(new Fa(_n.key,tn,lh(tn.value.mapValue),Ti.exists(!0)))}return R.mutationQueue.addMutationBatch(Le,L,an,A)}).next(xt=>{Ee=xt;const an=xt.applyToLocalDocumentSet(ae,Ct);return R.documentOverlayCache.saveOverlays(Le,xt.batchId,an)})}).then(()=>({batchId:Ee.batchId,changes:$t(ae)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(c.batchId),function(p,A,R){let L=p.Sa[p.currentUser.toKey()];L||(L=new Dr(pn)),L=L.insert(A,R),p.Sa[p.currentUser.toKey()]=L}(s,c.batchId,n),yield zc(s,c.changes),yield $a(s.remoteStore)}catch(c){const d=Cu(c,"Failed to persist write");n.reject(d)}}),fa.apply(this,arguments)}function Au(i,e){return bg.apply(this,arguments)}function bg(){return bg=(0,H.Z)(function*(i,e){const n=dt(i);try{const s=yield function sv(i,e){const n=dt(i),s=e.snapshotVersion;let c=n.ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const p=n.ss.newChangeBuffer({trackRemovals:!0});c=n.ts;const A=[];e.targetChanges.forEach((G,ae)=>{const Ee=c.get(ae);if(!Ee)return;A.push(n.qr.removeMatchingKeys(d,G.removedDocuments,ae).next(()=>n.qr.addMatchingKeys(d,G.addedDocuments,ae)));let Le=Ee.withSequenceNumber(d.currentSequenceNumber);var Ct,xt,an;null!==e.targetMismatches.get(ae)?Le=Le.withResumeToken(qr.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):G.resumeToken.approximateByteSize()>0&&(Le=Le.withResumeToken(G.resumeToken,s)),c=c.insert(ae,Le),xt=Le,an=G,(0===(Ct=Ee).resumeToken.approximateByteSize()||xt.snapshotVersion.toMicroseconds()-Ct.snapshotVersion.toMicroseconds()>=3e8||an.addedDocuments.size+an.modifiedDocuments.size+an.removedDocuments.size>0)&&A.push(n.qr.updateTargetData(d,Le))});let R=ve(),L=xn();if(e.documentUpdates.forEach(G=>{e.resolvedLimboDocuments.has(G)&&A.push(n.persistence.referenceDelegate.updateLimboDocument(d,G))}),A.push(function Hh(i,e,n){let s=xn(),c=xn();return n.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let p=ve();return n.forEach((A,R)=>{const L=d.get(A);R.isFoundDocument()!==L.isFoundDocument()&&(c=c.add(A)),R.isNoDocument()&&R.version.isEqual(Bt.min())?(e.removeEntry(A,R.readTime),p=p.insert(A,R)):!L.isValidDocument()||R.version.compareTo(L.version)>0||0===R.version.compareTo(L.version)&&L.hasPendingWrites?(e.addEntry(R),p=p.insert(A,R)):tt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",L.version," Watch version:",R.version)}),{us:p,cs:c}})}(d,p,e.documentUpdates).next(G=>{R=G.us,L=G.cs})),!s.isEqual(Bt.min())){const G=n.qr.getLastRemoteSnapshotVersion(d).next(ae=>n.qr.setTargetsMetadata(d,d.currentSequenceNumber,s));A.push(G)}return Re.waitFor(A).next(()=>p.apply(d)).next(()=>n.localDocuments.getLocalViewOfDocuments(d,R,L)).next(()=>R)}).then(d=>(n.ts=c,d))}(n.localStore,e);e.targetChanges.forEach((c,d)=>{const p=n.ya.get(d);p&&(Lt(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?p.Ra=!0:c.modifiedDocuments.size>0?Lt(p.Ra):c.removedDocuments.size>0&&(Lt(p.Ra),p.Ra=!1))}),yield zc(n,s,e)}catch(s){yield Ii(s)}}),bg.apply(this,arguments)}function t_(i,e,n){const s=dt(i);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const c=[];s.ma.forEach((d,p)=>{const A=p.view.Q_(e);A.snapshot&&c.push(A.snapshot)}),function(p,A){const R=dt(p);R.onlineState=A;let L=!1;R.queries.forEach((G,ae)=>{for(const Ee of ae.listeners)Ee.Q_(A)&&(L=!0)}),L&&cf(R)}(s.eventManager,e),c.length&&s.Va.a_(c),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function n_(i,e,n){return pf.apply(this,arguments)}function pf(){return pf=(0,H.Z)(function*(i,e,n){const s=dt(i);s.sharedClientState.updateQueryState(e,"rejected",n);const c=s.ya.get(e),d=c&&c.key;if(d){let p=new Dr(Dt.comparator);p=p.insert(d,Or.newNoDocument(d,Bt.min()));const A=xn().add(d),R=new al(Bt.min(),new Map,new Dr(pn),p,A);yield Au(s,R),s.pa=s.pa.remove(d),s.ya.delete(e),o_(s)}else yield ha(s.localStore,e,!1).then(()=>wl(s,e,n)).catch(Ii)}),pf.apply(this,arguments)}function Cg(i,e){return Du.apply(this,arguments)}function Du(){return Du=(0,H.Z)(function*(i,e){const n=dt(i),s=e.batch.batchId;try{const c=yield function Yp(i,e){const n=dt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const c=e.batch.keys(),d=n.ss.newChangeBuffer({trackRemovals:!0});return function(A,R,L,G){const ae=L.batch,Ee=ae.keys();let Le=Re.resolve();return Ee.forEach(It=>{Le=Le.next(()=>G.getEntry(R,It)).next(Ct=>{const xt=L.docVersions.get(It);Lt(null!==xt),Ct.version.compareTo(xt)<0&&(ae.applyToRemoteDocument(Ct,L),Ct.isValidDocument()&&(Ct.setReadTime(L.commitVersion),G.addEntry(Ct)))})}),Le.next(()=>A.mutationQueue.removeMutationBatch(R,ae))}(n,s,e,d).next(()=>d.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,c,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(A){let R=xn();for(let L=0;L<A.mutationResults.length;++L)A.mutationResults[L].transformResults.length>0&&(R=R.add(A.batch.mutations[L].key));return R}(e))).next(()=>n.localDocuments.getDocuments(s,c))})}(n.localStore,e);Sg(n,s,null),Dg(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield zc(n,c)}catch(c){yield Ii(c)}}),Du.apply(this,arguments)}function gf(i,e,n){return mf.apply(this,arguments)}function mf(){return mf=(0,H.Z)(function*(i,e,n){const s=dt(i);try{const c=yield function(p,A){const R=dt(p);return R.persistence.runTransaction("Reject batch","readwrite-primary",L=>{let G;return R.mutationQueue.lookupMutationBatch(L,A).next(ae=>(Lt(null!==ae),G=ae.keys(),R.mutationQueue.removeMutationBatch(L,ae))).next(()=>R.mutationQueue.performConsistencyCheck(L)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(L,G,A)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(L,G)).next(()=>R.localDocuments.getDocuments(L,G))})}(s.localStore,e);Sg(s,e,n),Dg(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),yield zc(s,c)}catch(c){yield Ii(c)}}),mf.apply(this,arguments)}function Dg(i,e){(i.ba.get(e)||[]).forEach(n=>{n.resolve()}),i.ba.delete(e)}function Sg(i,e,n){const s=dt(i);let c=s.Sa[s.currentUser.toKey()];if(c){const d=c.get(e);d&&(n?d.reject(n):d.resolve(),c=c.remove(e)),s.Sa[s.currentUser.toKey()]=c}}function wl(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.fa.get(e))i.ma.delete(s),n&&i.Va.Fa(s,n);i.fa.delete(e),i.isPrimaryClient&&i.wa.Rr(e).forEach(s=>{i.wa.containsKey(s)||xg(i,s)})}function xg(i,e){i.ga.delete(e.path.canonicalString());const n=i.pa.get(e);null!==n&&(xd(i.remoteStore,n),i.pa=i.pa.remove(e),i.ya.delete(n),o_(i))}function i_(i,e,n){for(const s of n)s instanceof Ym?(i.wa.addReference(s.key,e),Iv(i,s)):s instanceof Qm?(tt("SyncEngine","Document no longer in limbo: "+s.key),i.wa.removeReference(s.key,e),i.wa.containsKey(s.key)||xg(i,s.key)):Pt()}function Iv(i,e){const n=e.key,s=n.path.canonicalString();i.pa.get(n)||i.ga.has(s)||(tt("SyncEngine","New document in limbo: "+n),i.ga.add(s),o_(i))}function o_(i){for(;i.ga.size>0&&i.pa.size<i.maxConcurrentLimboResolutions;){const e=i.ga.values().next().value;i.ga.delete(e);const n=new Dt(Qn.fromString(e)),s=i.Da.next();i.ya.set(s,new Xm(n)),i.pa=i.pa.insert(n,s),sg(i.remoteStore,new La(Uo(Na(n.path)),s,"TargetPurposeLimboResolution",k._e))}}function zc(i,e,n){return _f.apply(this,arguments)}function _f(){return _f=(0,H.Z)(function*(i,e,n){const s=dt(i),c=[],d=[],p=[];var A;s.ma.isEmpty()||(s.ma.forEach((A,R)=>{p.push(s.va(R,e,n).then(L=>{if((L||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(R.targetId,L?.fromCache?"not-current":"current"),L){c.push(L);const G=vd.Qi(R.targetId,L);d.push(G)}}))}),yield Promise.all(p),s.Va.a_(c),yield(A=(0,H.Z)(function*(L,G){const ae=dt(L);try{yield ae.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>Re.forEach(G,Le=>Re.forEach(Le.ki,It=>ae.persistence.referenceDelegate.addReference(Ee,Le.targetId,It)).next(()=>Re.forEach(Le.qi,It=>ae.persistence.referenceDelegate.removeReference(Ee,Le.targetId,It)))))}catch(Ee){if(!ao(Ee))throw Ee;tt("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of G){const Le=Ee.targetId;if(!Ee.fromCache){const It=ae.ts.get(Le),xt=It.withLastLimboFreeSnapshotVersion(It.snapshotVersion);ae.ts=ae.ts.insert(Le,xt)}}}),function R(L,G){return A.apply(this,arguments)})(s.localStore,d))}),_f.apply(this,arguments)}function s_(i,e){return a_.apply(this,arguments)}function a_(){return a_=(0,H.Z)(function*(i,e){const n=dt(i);if(!n.currentUser.isEqual(e)){tt("SyncEngine","User change. New user:",e.toKey());const s=yield jc(n.localStore,e);n.currentUser=e,(d=n).ba.forEach(A=>{A.forEach(R=>{R.reject(new st(je.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),d.ba.clear(),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield zc(n,s._s)}var d}),a_.apply(this,arguments)}function yf(i,e){const n=dt(i),s=n.ya.get(e);if(s&&s.Ra)return xn().add(s.key);{let c=xn();const d=n.fa.get(e);if(!d)return c;for(const p of d){const A=n.ma.get(p);c=c.unionWith(A.view.ua)}return c}}class Ld{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,H.Z)(function*(){n.serializer=Eu(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function qp(i,e,n,s){return new Um(i,e,n,s)}(this.persistence,new zh,e.initialUser,this.serializer)}createPersistence(e){return new yu(_d.jr,this.serializer)}createSharedClientState(e){return new uv}terminate(){var e=this;return(0,H.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cl{initialize(e,n){var s=this;return(0,H.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=c=>t_(s.syncEngine,c,1),s.remoteStore.remoteSyncer.handleCredentialChange=s_.bind(null,s.syncEngine),yield function sf(i,e){return mg.apply(this,arguments)}(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Bc}createDatastore(e){const n=Eu(e.databaseInfo.databaseId),s=new bd(e.databaseInfo);return new Sd(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return s=this.localStore,c=this.datastore,d=e.asyncQueue,p=n=>t_(this.syncEngine,n,0),A=zm.D()?new zm:new Kh,new hv(s,c,d,p,A);var s,c,d,p,A}createSyncEngine(e,n){return function(c,d,p,A,R,L,G){const ae=new yv(c,d,p,A,R,L);return G&&(ae.Ca=!0),ae}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,H.Z)(function*(s){const c=dt(s);tt("RemoteStore","RemoteStore shutting down."),c.C_.add(5),yield vl(c),c.F_.shutdown(),c.M_.set("Unknown")}),function n(s){return e.apply(this,arguments)})(this.remoteStore);var e}}class Cf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class p_{constructor(e,n,s,c){var d=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=c,this.user=yr.UNAUTHENTICATED,this.clientId=zu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var p=(0,H.Z)(function*(A){tt("FirestoreClient","Received user=",A.uid),yield d.authCredentialListener(A),d.user=A});return function(A){return p.apply(this,arguments)}}()),this.appCheckCredentials.start(s,p=>(tt("FirestoreClient","Received new app check token=",p),this.appCheckCredentialListener(p,this.user)))}getConfiguration(){var e=this;return(0,H.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(je.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,H.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(s){const c=Cu(s,"Failed to shutdown persistence");n.reject(c)}})),n.promise}}function Vd(i,e){return Og.apply(this,arguments)}function Og(){return Og=(0,H.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),tt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(function(){var c=(0,H.Z)(function*(d){s.isEqual(d)||(yield jc(e.localStore,d),s=d)});return function(d){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}),Og.apply(this,arguments)}function Ng(i,e){return ps.apply(this,arguments)}function ps(){return ps=(0,H.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield function kg(i){return m_.apply(this,arguments)}(i);tt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(n,s),i.setCredentialChangeListener(c=>pg(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,d)=>pg(e.remoteStore,d)),i._onlineComponents=e}),ps.apply(this,arguments)}function m_(){return m_=(0,H.Z)(function*(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){tt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Vd(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function g_(i){return"FirebaseError"===i.name?i.code===je.FAILED_PRECONDITION||i.code===je.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),yield Vd(i,new Ld)}}else tt("FirestoreClient","Using default OfflineComponentProvider"),yield Vd(i,new Ld);return i._offlineComponents}),m_.apply(this,arguments)}function Al(i){return Af.apply(this,arguments)}function Af(){return Af=(0,H.Z)(function*(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(tt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Ng(i,i._uninitializedComponentsProvider._online)):(tt("FirestoreClient","Using default OnlineComponentProvider"),yield Ng(i,new Cl))),i._onlineComponents}),Af.apply(this,arguments)}function Sl(i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,H.Z)(function*(i){const e=yield Al(i),n=e.eventManager;return n.onListen=e_.bind(null,e.syncEngine),n.onUnlisten=vv.bind(null,e.syncEngine),n}),Ud.apply(this,arguments)}function jd(i){const e={};return void 0!==i.timeoutSeconds&&(e.timeoutSeconds=i.timeoutSeconds),e}const Sf=new Map;function b_(i,e,n){if(!n)throw new st(je.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Lg(i){if(!Dt.isDocumentKey(i))throw new st(je.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Vg(i){if(Dt.isDocumentKey(i))throw new st(je.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function $d(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(s=i).constructor?s.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var s;return"function"==typeof i?"a function":Pt()}function Jn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new st(je.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=$d(i);throw new st(je.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}class A_{constructor(e){var n,s;if(void 0===e.host){if(void 0!==e.ssl)throw new st(je.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(je.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function C_(i,e,n,s){if(!0===e&&!0===s)throw new st(je.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=jd(null!==(s=e.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(d){if(void 0!==d.timeoutSeconds){if(isNaN(d.timeoutSeconds))throw new st(je.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (must not be NaN)`);if(d.timeoutSeconds<5)throw new st(je.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (minimum allowed value is 5)`);if(d.timeoutSeconds>30)throw new st(je.INVALID_ARGUMENT,`invalid long polling timeout: ${d.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bd{constructor(e,n,s,c){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=c,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new A_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new st(je.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(je.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new A_(e),void 0!==e.credentials&&(this._authCredentials=function(s){if(!s)return new Yc;switch(s.type){case"firstParty":return new ba(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(je.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Sf.get(n);s&&(tt("ComponentProvider","Removing Datastore"),Sf.delete(n),s.terminate())}(this),Promise.resolve()}}class jo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jo(this.firestore,e,this._query)}}class Ri{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ri(this.firestore,e,this._key)}}class Ha extends jo{constructor(e,n,s){super(e,n,Na(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ri(this.firestore,null,new Dt(e))}withConverter(e){return new Ha(this.firestore,e,this._path)}}function xf(i,e,...n){if(i=(0,j.m9)(i),b_("collection","path",e),i instanceof Bd){const s=Qn.fromString(e,...n);return Vg(s),new Ha(i,null,s)}{if(!(i instanceof Ri||i instanceof Ha))throw new st(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qn.fromString(e,...n));return Vg(s),new Ha(i.firestore,null,s)}}function jg(i,e,...n){if(i=(0,j.m9)(i),1===arguments.length&&(e=zu.newId()),b_("doc","path",e),i instanceof Bd){const s=Qn.fromString(e,...n);return Lg(s),new Ri(i,null,new Dt(s))}{if(!(i instanceof Ri||i instanceof Ha))throw new st(je.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qn.fromString(e,...n));return Lg(s),new Ri(i.firestore,i instanceof Ha?i.converter:null,new Dt(s))}}class D_{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new Ad(this,"async_queue_retry"),this.iu=()=>{const n=fc();n&&tt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.zo.Qo()};const e=fc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const n=fc();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const n=new lr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,H.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(n){if(!ao(n))throw n;tt("AsyncQueue","Operation failed with retryable error: "+n)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const n=this.Ja.then(()=>(this.tu=!0,e().catch(s=>{throw this.eu=s,this.tu=!1,oi("INTERNAL UNHANDLED ERROR: ",function(p){let A=p.message||"";return p.stack&&(A=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),A}(s)),s}).then(s=>(this.tu=!1,s))));return this.Ja=n,n}enqueueAfterDelay(e,n,s){this.su(),this.ru.indexOf(e)>-1&&(n=0);const c=af.createAndSchedule(this,e,n,s,d=>this.au(d));return this.Xa.push(c),c}su(){this.eu&&Pt()}verifyOperationInProgress(){}uu(){var e=this;return(0,H.Z)(function*(){let n;do{n=e.Ja,yield n}while(n!==e.Ja)})()}cu(e){for(const n of this.Xa)if(n.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Xa)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const n=this.Xa.indexOf(e);this.Xa.splice(n,1)}}function Rf(i){return function(n,s){if("object"!=typeof n||null===n)return!1;const c=n;for(const d of["next","error","complete"])if(d in c&&"function"==typeof c[d])return!0;return!1}(i)}class Xr extends Bd{constructor(e,n,s,c){super(e,n,s,c),this.type="firestore",this._queue=new D_,this._persistenceKey=c?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||P_(this),this._firestoreClient.terminate()}}function x_(i,e){const n="object"==typeof i?i:(0,ne.Mq)(),s="string"==typeof i?i:e||"(default)",c=(0,ne.qX)(n,"firestore").getImmediate({identifier:s});if(!c._initialized){const d=(0,j.P0)("firestore");d&&function Ug(i,e,n,s={}){var c;const d=(i=Jn(i,Bd))._getSettings(),p=`${e}:${n}`;if("firestore.googleapis.com"!==d.host&&d.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},d),{host:p,ssl:!1})),s.mockUserToken){let A,R;if("string"==typeof s.mockUserToken)A=s.mockUserToken,R=yr.MOCK_USER;else{A=(0,j.Sg)(s.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const L=s.mockUserToken.sub||s.mockUserToken.user_id;if(!L)throw new st(je.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new yr(L)}i._authCredentials=new Xs(new $u(A,R))}}(c,...d)}return c}function si(i){return i._firestoreClient||P_(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function P_(i){var e,n,s;const c=i._freezeSettings(),d=(R=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Wl(i._databaseId,R,i._persistenceKey,(G=c).host,G.ssl,G.experimentalForceLongPolling,G.experimentalAutoDetectLongPolling,jd(G.experimentalLongPollingOptions),G.useFetchStreams));var R,G;i._firestoreClient=new p_(i._authCredentials,i._appCheckCredentials,i._queue,d),null!==(n=c.localCache)&&void 0!==n&&n._offlineComponentProvider&&null!==(s=c.localCache)&&void 0!==s&&s._onlineComponentProvider&&(i._firestoreClient._uninitializedComponentsProvider={_offlineKind:c.localCache.kind,_offline:c.localCache._offlineComponentProvider,_online:c.localCache._onlineComponentProvider})}class Hc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hc(qr.fromBase64String(e))}catch(n){throw new st(je.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hc(qr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new st(je.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pu{constructor(e){this._methodName=e}}class Bg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new st(je.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new st(je.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pn(this._lat,e._lat)||pn(this._long,e._long)}}const Fv=/^__.*__$/;class Lv{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return null!==this.fieldMask?new Fa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ca(e,this.data,n,this.fieldTransforms)}}class O_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Fa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function N_(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pt()}}class Of{constructor(e,n,s,c,d,p){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=c,void 0===d&&this.Pu(),this.fieldTransforms=d||[],this.fieldMask=p||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),c=this.Tu({path:s,du:!1});return c.Au(e),c}Ru(e){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(e),c=this.Tu({path:s,du:!1});return c.Pu(),c}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Pl(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(N_(this.Iu)&&Fv.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class Vv{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Eu(e)}pu(e,n,s,c=!1){return new Of({Iu:e,methodName:n,gu:s,path:Wr.emptyPath(),du:!1,fu:c},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ru(i){const e=i._freezeSettings(),n=Eu(i._databaseId);return new Vv(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Nf(i,e,n,s,c,d={}){const p=i.pu(d.merge||d.mergeFields?2:0,e,n,c);bo("Data must be an object, but it was:",p,s);const A=ga(s,p);let R,L;if(d.merge)R=new as(p.fieldMask),L=p.fieldTransforms;else if(d.mergeFields){const G=[];for(const ae of d.mergeFields){const Ee=ma(e,ae,n);if(!p.contains(Ee))throw new st(je.INVALID_ARGUMENT,`Field '${Ee}' is specified in your field mask but missing from your input data.`);Ou(G,Ee)||G.push(Ee)}R=new as(G),L=p.fieldTransforms.filter(ae=>R.covers(ae.field))}else R=null,L=p.fieldTransforms;return new Lv(new zi(A),R,L)}class Hd extends Pu{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hd}}class kf extends Pu{_toFieldTransform(e){return new wh(e.path,new aa)}isEqual(e){return e instanceof kf}}function Lf(i,e,n,s=!1){return Mu(n,i.pu(s?4:3,e))}function Mu(i,e){if(xl(i=(0,j.m9)(i)))return bo("Unsupported field value:",e,i),ga(i,e);if(i instanceof Pu)return function(s,c){if(!N_(c.Iu))throw c.mu(`${s._methodName}() can only be used with update() and set()`);if(!c.path)throw c.mu(`${s._methodName}() is not currently supported inside arrays`);const d=s._toFieldTransform(c);d&&c.fieldTransforms.push(d)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(s,c){const d=[];let p=0;for(const A of s){let R=Mu(A,c.Vu(p));null==R&&(R={nullValue:"NULL_VALUE"}),d.push(R),p++}return{arrayValue:{values:d}}}(i,e)}return function(s,c){if(null===(s=(0,j.m9)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return xc(c.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const d=Ot.fromDate(s);return{timestampValue:ul(c.serializer,d)}}if(s instanceof Ot){const d=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ul(c.serializer,d)}}if(s instanceof Bg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hc)return{bytesValue:Im(c.serializer,s._byteString)};if(s instanceof Ri){const d=c.databaseId,p=s.firestore._databaseId;if(!p.isEqual(d))throw c.mu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${d.projectId}/${d.database}`);return{referenceValue:Ph(s.firestore._databaseId||c.databaseId,s._key.path)}}throw c.mu(`Unsupported field value: ${$d(s)}`)}(i,e)}function ga(i,e){const n={};return tu(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fo(i,(s,c)=>{const d=Mu(c,e.Eu(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function xl(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof Bg||i instanceof Hc||i instanceof Ri||i instanceof Pu)}function bo(i,e,n){if(!xl(n)||"object"!=typeof(c=n)||null===c||Object.getPrototypeOf(c)!==Object.prototype&&null!==Object.getPrototypeOf(c)){const s=$d(n);throw e.mu("an object"===s?i+" a custom object":i+" "+s)}var c}function ma(i,e,n){if((e=(0,j.m9)(e))instanceof xu)return e._internalPath;if("string"==typeof e)return gs(i,e);throw Pl("Field path arguments must be of type string or ",i,!1,void 0,n)}const Vf=new RegExp("[~\\*/\\[\\]]");function gs(i,e,n){if(e.search(Vf)>=0)throw Pl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw Pl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Pl(i,e,n,s,c){const d=s&&!s.isEmpty(),p=void 0!==c;let A=`Function ${e}() called with invalid data`;n&&(A+=" (via `toFirestore()`)"),A+=". ";let R="";return(d||p)&&(R+=" (found",d&&(R+=` in field ${s}`),p&&(R+=` in document ${c}`),R+=")"),new st(je.INVALID_ARGUMENT,A+i+R)}function Ou(i,e){return i.some(n=>n.isEqual(e))}class Gc{constructor(e,n,s,c,d){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=c,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Ri(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Rl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Rl extends Gc{data(){return super.data()}}function pc(i,e){return"string"==typeof e?gs(i,e):e instanceof xu?e._internalPath:e._delegate._internalPath}function Nu(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new st(je.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Wc{}class gc extends Wc{}function Ml(i,e,...n){let s=[];e instanceof Wc&&s.push(e),s=s.concat(n),function(d){const p=d.filter(R=>R instanceof ku).length,A=d.filter(R=>R instanceof Ga).length;if(p>1||p>0&&A>0)throw new st(je.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const c of s)i=c._apply(i);return i}class Ga extends gc{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ga(e,n,s)}_apply(e){const n=this._parse(e);return B_(e._query,n),new jo(e.firestore,e.converter,Kl(e._query,n))}_parse(e){const n=Ru(e.firestore);return function(d,p,A,R,L,G,ae){let Ee;if(L.isKeyField()){if("array-contains"===G||"array-contains-any"===G)throw new st(je.INVALID_ARGUMENT,`Invalid Query. You can't perform '${G}' queries on documentId().`);if("in"===G||"not-in"===G){Hv(ae,G);const Le=[];for(const It of ae)Le.push($_(R,d,It));Ee={arrayValue:{values:Le}}}else Ee=$_(R,d,ae)}else"in"!==G&&"not-in"!==G&&"array-contains-any"!==G||Hv(ae,G),Ee=Lf(A,"where",ae,"in"===G||"not-in"===G);return On.create(L,G,Ee)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function V_(i,e,n){const s=e,c=pc("where",i);return Ga._create(c,s,n)}class ku extends Wc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ku(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return 1===n.length?n[0]:Sr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(c,d){let p=c;const A=d.getFlattenedFilters();for(const R of A)B_(p,R),p=Kl(p,R)}(e._query,n),new jo(e.firestore,e.converter,Kl(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Uf extends gc{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Uf(e,n)}_apply(e){const n=function(c,d,p){if(null!==c.startAt)throw new st(je.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==c.endAt)throw new st(je.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qs(d,p)}(e._query,this._field,this._direction);return new jo(e.firestore,e.converter,function(c,d){const p=c.explicitOrderBy.concat([d]);return new ds(c.path,c.collectionGroup,p,c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(e._query,n))}}function U_(i,e="asc"){const n=e,s=pc("orderBy",i);return Uf._create(s,n)}class Gd extends gc{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Gd(e,n,s)}_apply(e){return new jo(e.firestore,e.converter,rl(e._query,this._limit,this._limitType))}}function j_(i){return function za(i,e){if(e<=0)throw new st(je.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}("limit",i),Gd._create("limit",i,"F")}class Ol extends gc{constructor(e,n,s){super(),this.type=e,this._docOrFields=n,this._inclusive=s}static _create(e,n,s){return new Ol(e,n,s)}_apply(e){const n=function zv(i,e,n,s){if(n[0]=(0,j.m9)(n[0]),n[0]instanceof Gc)return function(d,p,A,R,L){if(!R)throw new st(je.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const G=[];for(const ae of Dc(d))if(ae.field.isKeyField())G.push(Gs(p,R.key));else{const Ee=R.data.field(ae.field);if(Yu(Ee))throw new st(je.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ae.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Le=ae.field.canonicalString();throw new st(je.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Le}' (used as the orderBy) does not exist.`)}G.push(Ee)}return new Ws(G,L)}(i._query,i.firestore._databaseId,e,n[0]._document,s);{const c=Ru(i.firestore);return function(p,A,R,L,G,ae){const Ee=p.explicitOrderBy;if(G.length>Ee.length)throw new st(je.INVALID_ARGUMENT,`Too many arguments provided to ${L}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Le=[];for(let It=0;It<G.length;It++){const Ct=G[It];if(Ee[It].field.isKeyField()){if("string"!=typeof Ct)throw new st(je.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${L}(), but got a ${typeof Ct}`);if(!nl(p)&&-1!==Ct.indexOf("/"))throw new st(je.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${L}() must be a plain document ID, but '${Ct}' contains a slash.`);const xt=p.path.child(Qn.fromString(Ct));if(!Dt.isDocumentKey(xt))throw new st(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${L}() must result in a valid document path, but '${xt}' is not because it contains an odd number of segments.`);const an=new Dt(xt);Le.push(Gs(A,an))}else{const xt=Lf(R,L,Ct);Le.push(xt)}}return new Ws(Le,ae)}(i._query,i.firestore._databaseId,c,e,n,s)}}(e,this.type,this._docOrFields,this._inclusive);return new jo(e.firestore,e.converter,(d=n,new ds((c=e._query).path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,d,c.endAt)));var c,d}}function JE(...i){return Ol._create("startAfter",i,!1)}function $_(i,e,n){if("string"==typeof(n=(0,j.m9)(n))){if(""===n)throw new st(je.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nl(e)&&-1!==n.indexOf("/"))throw new st(je.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Qn.fromString(n));if(!Dt.isDocumentKey(s))throw new st(je.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Gs(i,new Dt(s))}if(n instanceof Ri)return Gs(i,n._key);throw new st(je.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$d(n)}.`)}function Hv(i,e){if(!Array.isArray(i)||0===i.length)throw new st(je.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B_(i,e){const n=function(c,d){for(const p of c)for(const A of p.getFlattenedFilters())if(d.indexOf(A.op)>=0)return A.op;return null}(i.filters,function(c){switch(c){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new st(je.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Gv{convertValue(e,n="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Pt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Fo(e,(c,d)=>{s[c]=this.convertValue(d,n)}),s}convertGeoPoint(e){return new Bg(Jr(e.latitude),Jr(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Qu(e);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Os(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qn.fromString(e);Lt(Dp(s));const c=new Lo(s.get(1),s.get(3)),d=new Dt(s.popFirst(5));return c.isEqual(n)||oi(`Document ${d} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function Wd(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Fu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wa extends Gc{constructor(e,n,s,c,d,p){super(e,n,s,c,p),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pc("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bf extends Wa{data(e={}){return super.data(e)}}class Nl{constructor(e,n,s,c){this._firestore=e,this._userDataWriter=n,this._snapshot=c,this.metadata=new Fu(c.hasPendingWrites,c.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bf(this._firestore,this._userDataWriter,s.key,s,new Fu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new st(je.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(c,d){if(c._snapshot.oldDocs.isEmpty()){let p=0;return c._snapshot.docChanges.map(A=>({type:"added",doc:new Bf(c._firestore,c._userDataWriter,A.doc.key,A.doc,new Fu(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter),oldIndex:-1,newIndex:p++}))}{let p=c._snapshot.oldDocs;return c._snapshot.docChanges.filter(A=>d||3!==A.type).map(A=>{const R=new Bf(c._firestore,c._userDataWriter,A.doc.key,A.doc,new Fu(c._snapshot.mutatedKeys.has(A.doc.key),c._snapshot.fromCache),c.query.converter);let L=-1,G=-1;return 0!==A.type&&(L=p.indexOf(A.doc.key),p=p.delete(A.doc.key)),1!==A.type&&(p=p.add(A.doc),G=p.indexOf(A.doc.key)),{type:Zv(A.type),doc:R,oldIndex:L,newIndex:G}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zv(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pt()}}class _a extends Gv{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ri(this.firestore,null,n)}}function qv(i){i=Jn(i,jo);const e=Jn(i.firestore,Xr),n=si(e),s=new _a(e);return Nu(i._query),function pa(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function(d,p,A,R,L){const G=new Cf({next:Ee=>{p.enqueueAndForget(()=>Km(d,ae)),Ee.fromCache&&"server"===R.source?L.reject(new st(je.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):L.resolve(Ee)},error:Ee=>L.reject(Ee)}),ae=new Tg(A,G,{includeMetadataChanges:!0,J_:!0});return Md(d,ae)}(yield Sl(i),i.asyncQueue,e,n,s)})),s.promise}(n,i._query).then(c=>new Nl(e,s,i,c))}function Kv(i,e,n){i=Jn(i,Ri);const s=Jn(i.firestore,Xr),c=Wd(i.converter,e,n);return kl(s,[Nf(Ru(s),"setDoc",i._key,c,null!==i.converter,n).toMutation(i._key,Ti.none())])}function q_(i,e,n,...s){i=Jn(i,Ri);const c=Jn(i.firestore,Xr),d=Ru(c);let p;return p="string"==typeof(e=(0,j.m9)(e))||e instanceof xu?function L_(i,e,n,s,c,d){const p=i.pu(1,e,n),A=[ma(e,s,n)],R=[c];if(d.length%2!=0)throw new st(je.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ee=0;Ee<d.length;Ee+=2)A.push(ma(e,d[Ee])),R.push(d[Ee+1]);const L=[],G=zi.empty();for(let Ee=A.length-1;Ee>=0;--Ee)if(!Ou(L,A[Ee])){const Le=A[Ee];let It=R[Ee];It=(0,j.m9)(It);const Ct=p.Ru(Le);if(It instanceof Hd)L.push(Le);else{const xt=Mu(It,Ct);null!=xt&&(L.push(Le),G.set(Le,xt))}}const ae=new as(L);return new O_(G,ae,p.fieldTransforms)}(d,"updateDoc",i._key,e,n,s):function F_(i,e,n,s){const c=i.pu(1,e,n);bo("Data must be an object, but it was:",c,s);const d=[],p=zi.empty();Fo(s,(R,L)=>{const G=gs(e,R,n);L=(0,j.m9)(L);const ae=c.Ru(G);if(L instanceof Hd)d.push(G);else{const Ee=Mu(L,ae);null!=Ee&&(d.push(G),p.set(G,Ee))}});const A=new as(d);return new O_(p,A,c.fieldTransforms)}(d,"updateDoc",i._key,e),kl(c,[p.toMutation(i._key,Ti.exists(!0))])}function Yv(i){return kl(Jn(i.firestore,Xr),[new ac(i._key,Ti.none())])}function Qv(i,e){const n=Jn(i.firestore,Xr),s=jg(i),c=Wd(i.converter,e);return kl(n,[Nf(Ru(i.firestore),"addDoc",s._key,c,null!==i.converter,{}).toMutation(s._key,Ti.exists(!1))]).then(()=>s)}function kl(i,e){return function(s,c){const d=new lr;return s.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return function Tl(i,e,n){return fa.apply(this,arguments)}(yield function Df(i){return Al(i).then(e=>e.syncEngine)}(s),c,d)})),d.promise}(si(i),e)}function Jg(){return new kf("serverTimestamp")}!function(e,n=!0){Yi=ne.Jn,(0,ne.Xd)(new ce.wA("firestore",(s,{instanceIdentifier:c,options:d})=>{const p=s.getProvider("app").getImmediate(),A=new Xr(new vo(s.getProvider("auth-internal")),new ea(s.getProvider("app-check-internal")),function(L,G){if(!Object.prototype.hasOwnProperty.apply(L.options,["projectId"]))throw new st(je.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(L.options.projectId,G)}(p,c),p);return d=Object.assign({useFetchStreams:n},d),A._setSettings(d),A},"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(Ts,"4.3.2",e),(0,ne.KN)(Ts,"4.3.2","esm2017")}();var ty=O(2330),Gf=O(7422),Yd=function(){return Yd=Object.assign||function(e){for(var n,s=1,c=arguments.length;s<c;s++)for(var d in n=arguments[s])Object.prototype.hasOwnProperty.call(n,d)&&(e[d]=n[d]);return e},Yd.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var ny={includeMetadataChanges:!1};function Fl(i,e){return void 0===e&&(e=ny),new ty.y(function(n){var s=function K_(i,...e){var n,s,c;i=(0,j.m9)(i);let d={includeMetadataChanges:!1},p=0;"object"!=typeof e[p]||Rf(e[p])||(d=e[p],p++);const A={includeMetadataChanges:d.includeMetadataChanges};if(Rf(e[p])){const ae=e[p];e[p]=null===(n=ae.next)||void 0===n?void 0:n.bind(ae),e[p+1]=null===(s=ae.error)||void 0===s?void 0:s.bind(ae),e[p+2]=null===(c=ae.complete)||void 0===c?void 0:c.bind(ae)}let R,L,G;if(i instanceof Ri)L=Jn(i.firestore,Xr),G=Na(i._key.path),R={next:ae=>{e[p]&&e[p](function Wg(i,e,n){const s=n.docs.get(e._key),c=new _a(i);return new Wa(i,c,e._key,s,new Fu(n.hasPendingWrites,n.fromCache),e.converter)}(L,i,ae))},error:e[p+1],complete:e[p+2]};else{const ae=Jn(i,jo);L=Jn(ae.firestore,Xr),G=ae._query;const Ee=new _a(L);R={next:Le=>{e[p]&&e[p](new Nl(L,Ee,ae,Le))},error:e[p+1],complete:e[p+2]},Nu(i._query)}return function(Ee,Le,It,Ct){const xt=new Cf(Ct),an=new Tg(Le,xt,It);return Ee.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return Md(yield Sl(Ee),an)})),()=>{xt.Na(),Ee.asyncQueue.enqueueAndForget((0,H.Z)(function*(){return Km(yield Sl(Ee),an)}))}}(si(L),G,A,R)}(i,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:s}})}function pI(i,e){return void 0===e&&(e={}),function Zc(i){return Fl(i,{includeMetadataChanges:!0})}(i).pipe((0,Gf.U)(function(n){return ry(n,e)}))}function ry(i,e){var n;void 0===e&&(e={});var s=i.data(e);return i.exists()&&"object"==typeof s&&null!==s&&e.idField?Yd(Yd({},s),((n={})[e.idField]=i.id,n)):s}function ay(i,e){return void 0===e&&(e={}),function sy(i){return Fl(i,{includeMetadataChanges:!0}).pipe((0,Gf.U)(function(e){return e.docs}))}(i).pipe((0,Gf.U)(function(n){return n.map(function(s){return ry(s,e)})}))}class Jd{constructor(e){return e}}const cy="firestore",qc=new u.OlP("angularfire2.firestore-instances");function EI(i){return(e,n)=>{const s=e.runOutsideAngular(()=>i(n));return new Jd(s)}}const ly={provide:class uy{constructor(){return(0,v.vb)(cy)}},deps:[[new u.FiY,qc]]},TI={provide:Jd,useFactory:function II(i,e){const n=(0,v.JM)(cy,i,e);return n&&new Jd(n)},deps:[[new u.FiY,qc],he.Ot]};let dy=(()=>{class i{constructor(){(0,oe.KN)("angularfire",v.q4.full,"fst")}static \u0275fac=function(s){return new(s||i)};static \u0275mod=u.oAB({type:i});static \u0275inj=u.cJS({providers:[TI,ly]})}return i})();function l0(i,...e){return{ngModule:dy,providers:[{provide:qc,useFactory:EI(i),multi:!0,deps:[u.R0b,u.zs3,v.HU,he.z6,[new u.FiY,fe.dh],[new u.FiY,v.Rf],...e]}]}}const py=(0,v.u3)(ay,!0),gy=(0,v.u3)(pI,!0),bI=(0,v.u3)(Qv,!0),AI=(0,v.u3)(xf,!0),_y=(0,v.u3)(Yv,!0),RI=(0,v.u3)(jg,!0),jI=(0,v.u3)(qv,!0),$I=(0,v.u3)(x_,!0),BI=(0,v.u3)(j_,!0),Iy=(0,v.u3)(U_,!0),Ey=(0,v.u3)(Ml,!0),Ty=(0,v.u3)(Jg,!0),wy=(0,v.u3)(Kv,!0),Vl=(0,v.u3)(JE,!0),Cy=(0,v.u3)(q_,!0),k0=(0,v.u3)(V_,!0)},1136:(lt,be,O)=>{"use strict";O.d(be,{Ke:()=>di,oq:()=>ii,Jt:()=>Mo,cF:()=>Mn,Vq:()=>As,iH:()=>Go,B0:()=>$});var v=O(3816),u=O(4532),he=O(5032),fe=O(7197),oe=O(2101),H=O(1670),ne=O(9571),ce=O(6552),te=O(7995);const j="firebasestorage.googleapis.com",B="storageBucket";class Q extends ce.ZR{constructor(y,D,N=0){super(Ie(y),`Firebase Storage: ${D} (${Ie(y)})`),this.status_=N,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Q.prototype)}get status(){return this.status_}set status(y){this.status_=y}_codeEquals(y){return Ie(y)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(y){this.customData.serverResponse=y,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ge=function(g){return g.UNKNOWN="unknown",g.OBJECT_NOT_FOUND="object-not-found",g.BUCKET_NOT_FOUND="bucket-not-found",g.PROJECT_NOT_FOUND="project-not-found",g.QUOTA_EXCEEDED="quota-exceeded",g.UNAUTHENTICATED="unauthenticated",g.UNAUTHORIZED="unauthorized",g.UNAUTHORIZED_APP="unauthorized-app",g.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",g.INVALID_CHECKSUM="invalid-checksum",g.CANCELED="canceled",g.INVALID_EVENT_NAME="invalid-event-name",g.INVALID_URL="invalid-url",g.INVALID_DEFAULT_BUCKET="invalid-default-bucket",g.NO_DEFAULT_BUCKET="no-default-bucket",g.CANNOT_SLICE_BLOB="cannot-slice-blob",g.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",g.NO_DOWNLOAD_URL="no-download-url",g.INVALID_ARGUMENT="invalid-argument",g.INVALID_ARGUMENT_COUNT="invalid-argument-count",g.APP_DELETED="app-deleted",g.INVALID_ROOT_OPERATION="invalid-root-operation",g.INVALID_FORMAT="invalid-format",g.INTERNAL_ERROR="internal-error",g.UNSUPPORTED_ENVIRONMENT="unsupported-environment",g}(ge||{});function Ie(g){return"storage/"+g}function De(){return new Q(ge.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function nt(){return new Q(ge.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ft(){return new Q(ge.CANCELED,"User canceled the upload/download.")}function mt(){return new Q(ge.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Tn(g){return new Q(ge.INVALID_ARGUMENT,g)}function Wt(){return new Q(ge.APP_DELETED,"The Firebase app was deleted.")}function xe(g,y){return new Q(ge.INVALID_FORMAT,"String does not match format '"+g+"': "+y)}function Ne(g){throw new Q(ge.INTERNAL_ERROR,"Internal error: "+g)}class ke{constructor(y,D){this.bucket=y,this.path_=D}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const y=encodeURIComponent;return"/b/"+y(this.bucket)+"/o/"+y(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(y,D){let N;try{N=ke.makeFromUrl(y,D)}catch{return new ke(y,"")}if(""===N.path)return N;throw function rt(g){return new Q(ge.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+g+"'.")}(y)}static makeFromUrl(y,D){let N=null;const X="([A-Za-z0-9.\\-_]+)",qe=new RegExp("^gs://"+X+"(/(.*))?$","i");function St(Br){Br.path_=decodeURIComponent(Br.path)}const zn=D.replace(/[.]/g,"\\."),br=[{regex:qe,indices:{bucket:1,path:3},postModify:function _e(Br){"/"===Br.path.charAt(Br.path.length-1)&&(Br.path_=Br.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${zn}/v[A-Za-z0-9_]+/b/${X}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:St},{regex:new RegExp(`^https?://${D===j?"(?:storage.googleapis.com|storage.cloud.google.com)":D}/${X}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:St}];for(let Br=0;Br<br.length;Br++){const Wo=br[Br],zr=Wo.regex.exec(y);if(zr){let Is=zr[Wo.indices.path];Is||(Is=""),N=new ke(zr[Wo.indices.bucket],Is),Wo.postModify(N);break}}if(null==N)throw function ie(g){return new Q(ge.INVALID_URL,"Invalid URL '"+g+"'.")}(y);return N}}class Oe{constructor(y){this.promise_=Promise.reject(y)}getPromise(){return this.promise_}cancel(y=!1){}}function kt(g){return"string"==typeof g||g instanceof String}function gn(g){return Zt()&&g instanceof Blob}function Zt(){return typeof Blob<"u"&&!(0,ce.UG)()}function vt(g,y,D,N){if(N<y)throw Tn(`Invalid value for '${g}'. Expected ${y} or greater.`);if(N>D)throw Tn(`Invalid value for '${g}'. Expected ${D} or less.`)}function At(g,y,D){let N=y;return null==D&&(N=`https://${y}`),`${D}://${N}/v0${g}`}function ar(g){const y=encodeURIComponent;let D="?";for(const N in g)g.hasOwnProperty(N)&&(D=D+(y(N)+"=")+y(g[N])+"&");return D=D.slice(0,-1),D}var un=function(g){return g[g.NO_ERROR=0]="NO_ERROR",g[g.NETWORK_ERROR=1]="NETWORK_ERROR",g[g.ABORT=2]="ABORT",g}(un||{});function zt(g,y){const D=g>=500&&g<600,X=-1!==[408,429].indexOf(g),_e=-1!==y.indexOf(g);return D||X||_e}class er{constructor(y,D,N,X,_e,Fe,qe,Ke,St,qt,zn,ur=!0){this.url_=y,this.method_=D,this.headers_=N,this.body_=X,this.successCodes_=_e,this.additionalRetryCodes_=Fe,this.callback_=qe,this.errorCallback_=Ke,this.timeout_=St,this.progressCallback_=qt,this.connectionFactory_=zn,this.retry=ur,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((or,$r)=>{this.resolve_=or,this.reject_=$r,this.start_()})}start_(){const D=(N,X)=>{const _e=this.resolve_,Fe=this.reject_,qe=X.connection;if(X.wasSuccessCode)try{const Ke=this.callback_(qe,qe.getResponse());!function ot(g){return void 0!==g}(Ke)?_e():_e(Ke)}catch(Ke){Fe(Ke)}else if(null!==qe){const Ke=De();Ke.serverResponse=qe.getErrorText(),Fe(this.errorCallback_?this.errorCallback_(qe,Ke):Ke)}else Fe(X.canceled?this.appDelete_?Wt():ft():nt())};this.canceled_?D(0,new Ar(!1,null,!0)):this.backoffId_=function We(g,y,D){let N=1,X=null,_e=null,Fe=!1,qe=0;function Ke(){return 2===qe}let St=!1;function qt(..._r){St||(St=!0,y.apply(null,_r))}function zn(_r){X=setTimeout(()=>{X=null,g(or,Ke())},_r)}function ur(){_e&&clearTimeout(_e)}function or(_r,...Vi){if(St)return void ur();if(_r)return ur(),void qt.call(null,_r,...Vi);if(Ke()||Fe)return ur(),void qt.call(null,_r,...Vi);let br;N<64&&(N*=2),1===qe?(qe=2,br=0):br=1e3*(N+Math.random()),zn(br)}let $r=!1;function Un(_r){$r||($r=!0,ur(),!St&&(null!==X?(_r||(qe=2),clearTimeout(X),zn(0)):_r||(qe=1)))}return zn(0),_e=setTimeout(()=>{Fe=!0,Un(!0)},D),Un}((N,X)=>{if(X)return void N(!1,new Ar(!1,null,!0));const _e=this.connectionFactory_();this.pendingConnection_=_e;const Fe=qe=>{null!==this.progressCallback_&&this.progressCallback_(qe.loaded,qe.lengthComputable?qe.total:-1)};null!==this.progressCallback_&&_e.addUploadProgressListener(Fe),_e.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&_e.removeUploadProgressListener(Fe),this.pendingConnection_=null;const qe=_e.getErrorCode()===un.NO_ERROR,Ke=_e.getStatus();if(!qe||zt(Ke,this.additionalRetryCodes_)&&this.retry){const qt=_e.getErrorCode()===un.ABORT;return void N(!1,new Ar(!1,null,qt))}const St=-1!==this.successCodes_.indexOf(Ke);N(!0,new Ar(St,_e))})},D,this.timeout_)}getPromise(){return this.promise_}cancel(y){this.canceled_=!0,this.appDelete_=y||!1,null!==this.backoffId_&&function it(g){g(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Ar{constructor(y,D,N){this.wasSuccessCode=y,this.connection=D,this.canceled=!!N}}function Te(...g){const y=function Ye(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==y){const D=new y;for(let N=0;N<g.length;N++)D.append(g[N]);return D.getBlob()}if(Zt())return new Blob(g);throw new Q(ge.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const gt={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class nn{constructor(y,D){this.data=y,this.contentType=D||null}}function Ln(g){const y=[];for(let D=0;D<g.length;D++){let N=g.charCodeAt(D);N<=127?y.push(N):N<=2047?y.push(192|N>>6,128|63&N):55296==(64512&N)?D<g.length-1&&56320==(64512&g.charCodeAt(D+1))?(N=65536|(1023&N)<<10|1023&g.charCodeAt(++D),y.push(240|N>>18,128|N>>12&63,128|N>>6&63,128|63&N)):y.push(239,191,189):56320==(64512&N)?y.push(239,191,189):y.push(224|N>>12,128|N>>6&63,128|63&N)}return new Uint8Array(y)}function mn(g,y){switch(g){case gt.BASE64:{const X=-1!==y.indexOf("-"),_e=-1!==y.indexOf("_");if(X||_e)throw xe(g,"Invalid character '"+(X?"-":"_")+"' found: is it base64url encoded?");break}case gt.BASE64URL:{const X=-1!==y.indexOf("+"),_e=-1!==y.indexOf("/");if(X||_e)throw xe(g,"Invalid character '"+(X?"+":"/")+"' found: is it base64 encoded?");y=y.replace(/-/g,"+").replace(/_/g,"/");break}}let D;try{D=function et(g){if(typeof atob>"u")throw function Nn(g){return new Q(ge.UNSUPPORTED_ENVIRONMENT,`${g} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(g)}(y)}catch(X){throw X.message.includes("polyfill")?X:xe(g,"Invalid character found")}const N=new Uint8Array(D.length);for(let X=0;X<D.length;X++)N[X]=D.charCodeAt(X);return N}class Rt{constructor(y){this.base64=!1,this.contentType=null;const D=y.match(/^data:([^,]+)?,/);if(null===D)throw xe(gt.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const N=D[1]||null;null!=N&&(this.base64=function sn(g,y){return g.length>=y.length&&g.substring(g.length-y.length)===y}(N,";base64"),this.contentType=this.base64?N.substring(0,N.length-7):N),this.rest=y.substring(y.indexOf(",")+1)}}class rr{constructor(y,D){let N=0,X="";gn(y)?(this.data_=y,N=y.size,X=y.type):y instanceof ArrayBuffer?(D?this.data_=new Uint8Array(y):(this.data_=new Uint8Array(y.byteLength),this.data_.set(new Uint8Array(y))),N=this.data_.length):y instanceof Uint8Array&&(D?this.data_=y:(this.data_=new Uint8Array(y.length),this.data_.set(y)),N=y.length),this.size_=N,this.type_=X}size(){return this.size_}type(){return this.type_}slice(y,D){if(gn(this.data_)){const X=function ze(g,y,D){return g.webkitSlice?g.webkitSlice(y,D):g.mozSlice?g.mozSlice(y,D):g.slice?g.slice(y,D):null}(this.data_,y,D);return null===X?null:new rr(X)}{const N=new Uint8Array(this.data_.buffer,y,D-y);return new rr(N,!0)}}static getBlob(...y){if(Zt()){const D=y.map(N=>N instanceof rr?N.data_:N);return new rr(Te.apply(null,D))}{const D=y.map(Fe=>kt(Fe)?function yn(g,y){switch(g){case gt.RAW:return new nn(Ln(y));case gt.BASE64:case gt.BASE64URL:return new nn(mn(g,y));case gt.DATA_URL:return new nn(function lo(g){const y=new Rt(g);return y.base64?mn(gt.BASE64,y.rest):function vn(g){let y;try{y=decodeURIComponent(g)}catch{throw xe(gt.DATA_URL,"Malformed data URL.")}return Ln(y)}(y.rest)}(y),function ti(g){return new Rt(g).contentType}(y))}throw De()}(gt.RAW,Fe).data:Fe.data_);let N=0;D.forEach(Fe=>{N+=Fe.byteLength});const X=new Uint8Array(N);let _e=0;return D.forEach(Fe=>{for(let qe=0;qe<Fe.length;qe++)X[_e++]=Fe[qe]}),new rr(X,!0)}}uploadData(){return this.data_}}function Rr(g){let y;try{y=JSON.parse(g)}catch{return null}return function In(g){return"object"==typeof g&&!Array.isArray(g)}(y)?y:null}function Qt(g){const y=g.lastIndexOf("/",g.length-2);return-1===y?g:g.slice(y+1)}function bn(g,y){return y}class dn{constructor(y,D,N,X){this.server=y,this.local=D||y,this.writable=!!N,this.xform=X||bn}}let wi=null;function me(){if(wi)return wi;const g=[];g.push(new dn("bucket")),g.push(new dn("generation")),g.push(new dn("metageneration")),g.push(new dn("name","fullPath",!0));const D=new dn("name");D.xform=function y(_e,Fe){return function Mi(g){return!kt(g)||g.length<2?g:Qt(g)}(Fe)},g.push(D);const X=new dn("size");return X.xform=function N(_e,Fe){return void 0!==Fe?Number(Fe):Fe},g.push(X),g.push(new dn("timeCreated")),g.push(new dn("updated")),g.push(new dn("md5Hash",null,!0)),g.push(new dn("cacheControl",null,!0)),g.push(new dn("contentDisposition",null,!0)),g.push(new dn("contentEncoding",null,!0)),g.push(new dn("contentLanguage",null,!0)),g.push(new dn("contentType",null,!0)),g.push(new dn("metadata","customMetadata",!0)),wi=g,wi}function Y(g,y,D){const N=Rr(y);return null===N?null:function J(g,y,D){const N={type:"file"},X=D.length;for(let _e=0;_e<X;_e++){const Fe=D[_e];N[Fe.local]=Fe.xform(N,y[Fe.server])}return function Z(g,y){Object.defineProperty(g,"ref",{get:function D(){const _e=new ke(g.bucket,g.fullPath);return y._makeStorageReference(_e)}})}(N,g),N}(g,N,D)}function Ae(g,y){const D={},N=y.length;for(let X=0;X<N;X++){const _e=y[X];_e.writable&&(D[_e.server]=g[_e.local])}return JSON.stringify(D)}class hn{constructor(y,D,N,X){this.url=y,this.method=D,this.handler=N,this.timeout=X,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ut(g){if(!g)throw De()}function Zn(g,y){return function D(N,X){const _e=Y(g,X,y);return Ut(null!==_e),_e}}function En(g){return function y(D,N){let X;return X=401===D.getStatus()?D.getErrorText().includes("Firebase App Check token is invalid")?function wt(){return new Q(ge.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function we(){return new Q(ge.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===D.getStatus()?function yt(g){return new Q(ge.QUOTA_EXCEEDED,"Quota for bucket '"+g+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(g.bucket):403===D.getStatus()?function ht(g){return new Q(ge.UNAUTHORIZED,"User does not have permission to access '"+g+"'.")}(g.path):N,X.status=D.getStatus(),X.serverResponse=N.serverResponse,X}}function $e(g){const y=En(g);return function D(N,X){let _e=y(N,X);return 404===N.getStatus()&&(_e=function Ge(g){return new Q(ge.OBJECT_NOT_FOUND,"Object '"+g+"' does not exist.")}(g.path)),_e.serverResponse=X.serverResponse,_e}}function Rn(g,y,D){const N=Object.assign({},D);return N.fullPath=g.path,N.size=y.size(),N.contentType||(N.contentType=function gr(g,y){return g&&g.contentType||y&&y.type()||"application/octet-stream"}(null,y)),N}class ln{constructor(y,D,N,X){this.current=y,this.total=D,this.finalized=!!N,this.metadata=X||null}}function Ur(g,y){let D=null;try{D=g.getResponseHeader("X-Goog-Upload-Status")}catch{Ut(!1)}return Ut(!!D&&-1!==(y||["active"]).indexOf(D)),D}function eo(g){switch(g){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class $o{constructor(y,D,N){if(function en(g){return"function"==typeof g}(y)||null!=D||null!=N)this.next=y,this.error=D??void 0,this.complete=N??void 0;else{const _e=y;this.next=_e.next,this.error=_e.error,this.complete=_e.complete}}}function bi(g){return(...y)=>{Promise.resolve().then(()=>g(...y))}}let Jo=null;class gi{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=un.NO_ERROR,this.sendPromise_=new Promise(y=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=un.ABORT,y()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=un.NETWORK_ERROR,y()}),this.xhr_.addEventListener("load",()=>{y()})})}send(y,D,N,X){if(this.sent_)throw Ne("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(D,y,!0),void 0!==X)for(const _e in X)X.hasOwnProperty(_e)&&this.xhr_.setRequestHeader(_e,X[_e].toString());return void 0!==N?this.xhr_.send(N):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ne("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ne("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ne("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ne("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(y){return this.xhr_.getResponseHeader(y)}addUploadProgressListener(y){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",y)}removeUploadProgressListener(y){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",y)}}class ni extends gi{initXhr(){this.xhr_.responseType="text"}}function vr(){return Jo?Jo():new ni}class ci{constructor(y,D,N=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=y,this._blob=D,this._metadata=N,this._mappings=me(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=X=>{if(this._request=void 0,this._chunkMultiplier=1,X._codeEquals(ge.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const _e=this.isExponentialBackoffExpired();if(zt(X.status,[])){if(!_e)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();X=nt()}this._error=X,this._transition("error")}},this._metadataErrorHandler=X=>{this._request=void 0,X._codeEquals(ge.CANCELED)?this.completeTransitions_():(this._error=X,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((X,_e)=>{this._resolve=X,this._reject=_e,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const y=this._transferred;return D=>this._updateProgress(y+D)}_shouldDoResumable(y){return y.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(y){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([D,N])=>{switch(this._state){case"running":y(D,N);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((y,D)=>{const N=function Qo(g,y,D,N,X){const _e=y.bucketOnlyServerUrl(),Fe=Rn(y,N,X),qe={name:Fe.fullPath},Ke=At(_e,g.host,g._protocol),qt={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${N.size()}`,"X-Goog-Upload-Header-Content-Type":Fe.contentType,"Content-Type":"application/json; charset=utf-8"},zn=Ae(Fe,D),$r=new hn(Ke,"POST",function or(Un){let _r;Ur(Un);try{_r=Un.getResponseHeader("X-Goog-Upload-URL")}catch{Ut(!1)}return Ut(kt(_r)),_r},g.maxUploadRetryTime);return $r.urlParams=qe,$r.headers=qt,$r.body=zn,$r.errorHandler=En(y),$r}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),X=this._ref.storage._makeRequest(N,vr,y,D);this._request=X,X.getPromise().then(_e=>{this._request=void 0,this._uploadUrl=_e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const y=this._uploadUrl;this._resolveToken((D,N)=>{const X=function Ao(g,y,D,N){const Ke=new hn(D,"POST",function _e(St){const qt=Ur(St,["active","final"]);let zn=null;try{zn=St.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ut(!1)}zn||Ut(!1);const ur=Number(zn);return Ut(!isNaN(ur)),new ln(ur,N.size(),"final"===qt)},g.maxUploadRetryTime);return Ke.headers={"X-Goog-Upload-Command":"query"},Ke.errorHandler=En(y),Ke}(this._ref.storage,this._ref._location,y,this._blob),_e=this._ref.storage._makeRequest(X,vr,D,N);this._request=_e,_e.getPromise().then(Fe=>{this._request=void 0,this._updateProgress(Fe.current),this._needToFetchStatus=!1,Fe.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const y=262144*this._chunkMultiplier,D=new ln(this._transferred,this._blob.size()),N=this._uploadUrl;this._resolveToken((X,_e)=>{let Fe;try{Fe=function Qr(g,y,D,N,X,_e,Fe,qe){const Ke=new ln(0,0);if(Fe?(Ke.current=Fe.current,Ke.total=Fe.total):(Ke.current=0,Ke.total=N.size()),N.size()!==Ke.total)throw function Et(){return new Q(ge.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}();const St=Ke.total-Ke.current;let qt=St;X>0&&(qt=Math.min(qt,X));const zn=Ke.current;let or="";or=0===qt?"finalize":St===qt?"upload, finalize":"upload";const $r={"X-Goog-Upload-Command":or,"X-Goog-Upload-Offset":`${Ke.current}`},Un=N.slice(zn,zn+qt);if(null===Un)throw mt();const br=new hn(D,"POST",function _r(Br,Wo){const zr=Ur(Br,["active","final"]),xi=Ke.current+qt,Is=N.size();let go;return go="final"===zr?Zn(y,_e)(Br,Wo):null,new ln(xi,Is,"final"===zr,go)},y.maxUploadRetryTime);return br.headers=$r,br.body=Un.uploadData(),br.progressCallback=qe||null,br.errorHandler=En(g),br}(this._ref._location,this._ref.storage,N,this._blob,y,this._mappings,D,this._makeProgressCallback())}catch(Ke){return this._error=Ke,void this._transition("error")}const qe=this._ref.storage._makeRequest(Fe,vr,X,_e,!1);this._request=qe,qe.getPromise().then(Ke=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ke.current),Ke.finalized?(this._metadata=Ke.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((y,D)=>{const N=function Se(g,y,D){const X=At(y.fullServerUrl(),g.host,g._protocol),Fe=g.maxOperationRetryTime,qe=new hn(X,"GET",Zn(g,D),Fe);return qe.errorHandler=$e(y),qe}(this._ref.storage,this._ref._location,this._mappings),X=this._ref.storage._makeRequest(N,vr,y,D);this._request=X,X.getPromise().then(_e=>{this._request=void 0,this._metadata=_e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((y,D)=>{const N=function Nr(g,y,D,N,X){const _e=y.bucketOnlyServerUrl(),Fe={"X-Goog-Upload-Protocol":"multipart"},Ke=function qe(){let br="";for(let Br=0;Br<2;Br++)br+=Math.random().toString().slice(2);return br}();Fe["Content-Type"]="multipart/related; boundary="+Ke;const St=Rn(y,N,X),qt=Ae(St,D),or=rr.getBlob("--"+Ke+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+qt+"\r\n--"+Ke+"\r\nContent-Type: "+St.contentType+"\r\n\r\n",N,"\r\n--"+Ke+"--");if(null===or)throw mt();const $r={name:St.fullPath},Un=At(_e,g.host,g._protocol),Vi=g.maxUploadRetryTime,_i=new hn(Un,"POST",Zn(g,D),Vi);return _i.urlParams=$r,_i.headers=Fe,_i.body=or.uploadData(),_i.errorHandler=En(y),_i}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),X=this._ref.storage._makeRequest(N,vr,y,D);this._request=X,X.getPromise().then(_e=>{this._request=void 0,this._metadata=_e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(y){const D=this._transferred;this._transferred=y,this._transferred!==D&&this._notifyObservers()}_transition(y){if(this._state!==y)switch(y){case"canceling":case"pausing":this._state=y,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const D="paused"===this._state;this._state=y,D&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=y,this._notifyObservers();break;case"canceled":this._error=ft(),this._state=y,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const y=eo(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:y,metadata:this._metadata,task:this,ref:this._ref}}on(y,D,N,X){const _e=new $o(D||void 0,N||void 0,X||void 0);return this._addObserver(_e),()=>{this._removeObserver(_e)}}then(y,D){return this._promise.then(y,D)}catch(y){return this.then(null,y)}_addObserver(y){this._observers.push(y),this._notifyObserver(y)}_removeObserver(y){const D=this._observers.indexOf(y);-1!==D&&this._observers.splice(D,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(D=>{this._notifyObserver(D)})}_finishPromise(){if(void 0!==this._resolve){let y=!0;switch(eo(this._state)){case"success":bi(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":bi(this._reject.bind(null,this._error))();break;default:y=!1}y&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(y){switch(eo(this._state)){case"running":case"paused":y.next&&bi(y.next.bind(y,this.snapshot))();break;case"success":y.complete&&bi(y.complete.bind(y))();break;default:y.error&&bi(y.error.bind(y,this._error))()}}resume(){const y="paused"===this._state||"pausing"===this._state;return y&&this._transition("running"),y}pause(){const y="running"===this._state;return y&&this._transition("pausing"),y}cancel(){const y="running"===this._state||"pausing"===this._state;return y&&this._transition("canceling"),y}}class Wi{constructor(y,D){this._service=y,this._location=D instanceof ke?D:ke.makeFromUrl(D,y.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(y,D){return new Wi(y,D)}get root(){const y=new ke(this._location.bucket,"");return this._newRef(this._service,y)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Qt(this._location.path)}get storage(){return this._service}get parent(){const y=function ai(g){if(0===g.length)return null;const y=g.lastIndexOf("/");return-1===y?"":g.slice(0,y)}(this._location.path);if(null===y)return null;const D=new ke(this._location.bucket,y);return new Wi(this._service,D)}_throwIfRoot(y){if(""===this._location.path)throw function $n(g){return new Q(ge.INVALID_ROOT_OPERATION,"The operation '"+g+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(y)}}function ho(g){g._throwIfRoot("getDownloadURL");const y=function Jt(g,y,D){const X=At(y.fullServerUrl(),g.host,g._protocol),Fe=g.maxOperationRetryTime,qe=new hn(X,"GET",function Oi(g,y){return function D(N,X){const _e=Y(g,X,y);return Ut(null!==_e),function K(g,y,D,N){const X=Rr(y);if(null===X||!kt(X.downloadTokens))return null;const _e=X.downloadTokens;if(0===_e.length)return null;const Fe=encodeURIComponent;return _e.split(",").map(St=>{const zn=g.fullPath;return At("/b/"+Fe(g.bucket)+"/o/"+Fe(zn),D,N)+ar({alt:"media",token:St})})[0]}(_e,X,g.host,g._protocol)}}(g,D),Fe);return qe.errorHandler=$e(y),qe}(g.storage,g._location,me());return g.storage.makeRequestWithTokens(y,vr).then(D=>{if(null===D)throw function pt(){return new Q(ge.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return D})}function es(g,y){if(g instanceof dr){const D=g;if(null==D._bucket)throw function He(){return new Q(ge.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+B+"' property when initializing the app?")}();const N=new Wi(D,D._bucket);return null!=y?es(N,y):N}return void 0!==y?function Ci(g,y){const D=function wn(g,y){const D=y.split("/").filter(N=>N.length>0).join("/");return 0===g.length?D:g+"/"+D}(g._location.path,y),N=new ke(g._location.bucket,D);return new Wi(g.storage,N)}(g,y):g}function rn(g,y){const D=y?.[B];return null==D?null:ke.makeFromBucketSpec(D,g)}class dr{constructor(y,D,N,X,_e){this.app=y,this._authProvider=D,this._appCheckProvider=N,this._url=X,this._firebaseVersion=_e,this._bucket=null,this._host=j,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=X?ke.makeFromBucketSpec(X,this._host):rn(this._host,this.app.options)}get host(){return this._host}set host(y){this._host=y,this._bucket=null!=this._url?ke.makeFromBucketSpec(this._url,y):rn(y,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(y){vt("time",0,Number.POSITIVE_INFINITY,y),this._maxUploadRetryTime=y}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(y){vt("time",0,Number.POSITIVE_INFINITY,y),this._maxOperationRetryTime=y}_getAuthToken(){var y=this;return(0,H.Z)(function*(){if(y._overrideAuthToken)return y._overrideAuthToken;const D=y._authProvider.getImmediate({optional:!0});if(D){const N=yield D.getToken();if(null!==N)return N.accessToken}return null})()}_getAppCheckToken(){var y=this;return(0,H.Z)(function*(){const D=y._appCheckProvider.getImmediate({optional:!0});return D?(yield D.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(y=>y.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(y){return new Wi(this,y)}_makeRequest(y,D,N,X,_e=!0){if(this._deleted)return new Oe(Wt());{const Fe=function pr(g,y,D,N,X,_e,Fe=!0){const qe=ar(g.urlParams),Ke=g.url+qe,St=Object.assign({},g.headers);return function Pr(g,y){y&&(g["X-Firebase-GMPID"]=y)}(St,y),function tr(g,y){null!==y&&y.length>0&&(g.Authorization="Firebase "+y)}(St,D),function ei(g,y){g["X-Firebase-Storage-Version"]="webjs/"+(y??"AppManager")}(St,_e),function Wn(g,y){null!==y&&(g["X-Firebase-AppCheck"]=y)}(St,N),new er(Ke,g.method,St,g.body,g.successCodes,g.additionalRetryCodes,g.handler,g.errorHandler,g.timeout,g.progressCallback,X,Fe)}(y,this._appId,N,X,D,this._firebaseVersion,_e);return this._requests.add(Fe),Fe.getPromise().then(()=>this._requests.delete(Fe),()=>this._requests.delete(Fe)),Fe}}makeRequestWithTokens(y,D){var N=this;return(0,H.Z)(function*(){const[X,_e]=yield Promise.all([N._getAuthToken(),N._getAppCheckToken()]);return N._makeRequest(y,D,X,_e).getPromise()})()}}const kr="@firebase/storage",li="storage";function qi(g,y,D){return function Xo(g,y,D){return g._throwIfRoot("uploadBytesResumable"),new ci(g,new rr(y),D)}(g=(0,ce.m9)(g),y,D)}function Lr(g){return ho(g=(0,ce.m9)(g))}function ts(g){return function vs(g){g._throwIfRoot("deleteObject");const y=function cn(g,y){const N=At(y.fullServerUrl(),g.host,g._protocol),qe=new hn(N,"DELETE",function Fe(Ke,St){},g.maxOperationRetryTime);return qe.successCodes=[200,204],qe.errorHandler=$e(y),qe}(g.storage,g._location);return g.storage.makeRequestWithTokens(y,vr)}(g=(0,ce.m9)(g))}function wr(g,y){return function xo(g,y){if(y&&function Zi(g){return/^[A-Za-z]+:\/\//.test(g)}(y)){if(g instanceof dr)return function Bo(g,y){return new Wi(g,y)}(g,y);throw Tn("To use ref(service, url), the first argument must be a Storage instance.")}return es(g,y)}(g=(0,ce.m9)(g),y)}function Vn(g=(0,ne.Mq)(),y){g=(0,ce.m9)(g);const N=(0,ne.qX)(g,li).getImmediate({identifier:y}),X=(0,ce.P0)("storage");return X&&function Ai(g,y,D,N={}){!function cr(g,y,D,N={}){g.host=`${y}:${D}`,g._protocol="http";const{mockUserToken:X}=N;X&&(g._overrideAuthToken="string"==typeof X?X:(0,ce.Sg)(X,g.app.options.projectId))}(g,y,D,N)}(N,...X),N}function Di(g,{instanceIdentifier:y}){const D=g.getProvider("app").getImmediate(),N=g.getProvider("auth-internal"),X=g.getProvider("app-check-internal");return new dr(D,N,X,y,ne.Jn)}!function ns(){(0,ne.Xd)(new te.wA(li,Di,"PUBLIC").setMultipleInstances(!0)),(0,ne.KN)(kr,"0.11.2",""),(0,ne.KN)(kr,"0.11.2","esm2017")}();class di{constructor(y){return y}}const Ir="storage",hi=new u.OlP("angularfire2.storage-instances");function Ki(g){return(y,D)=>{const N=y.runOutsideAngular(()=>g(D));return new di(N)}}const oo={provide:class zo{constructor(){return(0,v.vb)(Ir)}},deps:[[new u.FiY,hi]]},Si={provide:di,useFactory:function Ho(g,y){const D=(0,v.JM)(Ir,g,y);return D&&new di(D)},deps:[[new u.FiY,hi],he.Ot]};let Ro=(()=>{class g{constructor(){(0,oe.KN)("angularfire",v.q4.full,"gcs")}static \u0275fac=function(N){return new(N||g)};static \u0275mod=u.oAB({type:g});static \u0275inj=u.cJS({providers:[Si,oo]})}return g})();function As(g,...y){return{ngModule:Ro,providers:[{provide:hi,useFactory:Ki(g),multi:!0,deps:[u.R0b,u.zs3,v.HU,he.z6,[new u.FiY,fe.dh],[new u.FiY,v.Rf],...y]}]}}const ii=(0,v.u3)(ts,!0),Mo=(0,v.u3)(Lr,!0),Mn=(0,v.u3)(Vn,!0),Go=(0,v.u3)(wr,!0),$=(0,v.u3)(qi,!0)},3816:(lt,be,O)=>{"use strict";O.d(be,{q4:()=>it,HU:()=>ar,Rf:()=>kt,vb:()=>In,JM:()=>en,u3:()=>pr});var v=O(4532),u=O(2101),he=O(4646);class fe extends he.w{constructor(Te,ze){super()}schedule(Te,ze=0){return this}}class oe extends fe{constructor(Te,ze){super(Te,ze),this.scheduler=Te,this.work=ze,this.pending=!1}schedule(Te,ze=0){if(this.closed)return this;this.state=Te;const et=this.id,gt=this.scheduler;return null!=et&&(this.id=this.recycleAsyncId(gt,et,ze)),this.pending=!0,this.delay=ze,this.id=this.id||this.requestAsyncId(gt,this.id,ze),this}requestAsyncId(Te,ze,et=0){return setInterval(Te.flush.bind(Te,this),et)}recycleAsyncId(Te,ze,et=0){if(null!==et&&this.delay===et&&!1===this.pending)return ze;clearInterval(ze)}execute(Te,ze){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const et=this._execute(Te,ze);if(et)return et;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,ze){let gt,et=!1;try{this.work(Te)}catch(nn){et=!0,gt=!!nn&&nn||new Error(nn)}if(et)return this.unsubscribe(),gt}_unsubscribe(){const Te=this.id,ze=this.scheduler,et=ze.actions,gt=et.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==gt&&et.splice(gt,1),null!=Te&&(this.id=this.recycleAsyncId(ze,Te,null)),this.delay=null}}let ne=(()=>{class Ye{constructor(ze,et=Ye.now){this.SchedulerAction=ze,this.now=et}schedule(ze,et=0,gt){return new this.SchedulerAction(this,ze).schedule(gt,et)}}return Ye.now=()=>Date.now(),Ye})();class ce extends ne{constructor(Te,ze=ne.now){super(Te,()=>ce.delegate&&ce.delegate!==this?ce.delegate.now():ze()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Te,ze=0,et){return ce.delegate&&ce.delegate!==this?ce.delegate.schedule(Te,ze,et):super.schedule(Te,ze,et)}flush(Te){const{actions:ze}=this;if(this.active)return void ze.push(Te);let et;this.active=!0;do{if(et=Te.execute(Te.state,Te.delay))break}while(Te=ze.shift());if(this.active=!1,et){for(;Te=ze.shift();)Te.unsubscribe();throw et}}}const j=new class te extends ce{}(class H extends oe{constructor(Te,ze){super(Te,ze),this.scheduler=Te,this.work=ze}schedule(Te,ze=0){return ze>0?super.schedule(Te,ze):(this.delay=ze,this.state=Te,this.scheduler.flush(this),this)}execute(Te,ze){return ze>0||this.closed?super.execute(Te,ze):this._execute(Te,ze)}requestAsyncId(Te,ze,et=0){return null!==et&&et>0||null===et&&this.delay>0?super.requestAsyncId(Te,ze,et):Te.flush(this)}}),re=new ce(oe);var ue=O(2330),Q=O(106);let ge=1;const Ie=Promise.resolve(),De={};function Ge(Ye){return Ye in De&&(delete De[Ye],!0)}const yt={setImmediate(Ye){const Te=ge++;return De[Te]=!0,Ie.then(()=>Ge(Te)&&Ye()),Te},clearImmediate(Ye){Ge(Ye)}},ft=new class ht extends ce{flush(Te){this.active=!0,this.scheduled=void 0;const{actions:ze}=this;let et,gt=-1,nn=ze.length;Te=Te||ze.shift();do{if(et=Te.execute(Te.state,Te.delay))break}while(++gt<nn&&(Te=ze.shift()));if(this.active=!1,et){for(;++gt<nn&&(Te=ze.shift());)Te.unsubscribe();throw et}}}(class wt extends oe{constructor(Te,ze){super(Te,ze),this.scheduler=Te,this.work=ze}requestAsyncId(Te,ze,et=0){return null!==et&&et>0?super.requestAsyncId(Te,ze,et):(Te.actions.push(this),Te.scheduled||(Te.scheduled=yt.setImmediate(Te.flush.bind(Te,null))))}recycleAsyncId(Te,ze,et=0){if(null!==et&&et>0||null===et&&this.delay>0)return super.recycleAsyncId(Te,ze,et);0===Te.actions.length&&(yt.clearImmediate(ze),Te.scheduled=void 0)}});var ie=O(7264);class He extends ue.y{constructor(Te,ze=0,et=ft){super(),this.source=Te,this.delayTime=ze,this.scheduler=et,(!function rt(Ye){return!(0,ie.k)(Ye)&&Ye-parseFloat(Ye)+1>=0}(ze)||ze<0)&&(this.delayTime=0),(!et||"function"!=typeof et.schedule)&&(this.scheduler=ft)}static create(Te,ze=0,et=ft){return new He(Te,ze,et)}static dispatch(Te){const{source:ze,subscriber:et}=Te;return this.add(ze.subscribe(et))}_subscribe(Te){return this.scheduler.schedule(He.dispatch,this.delayTime,{source:this.source,subscriber:Te})}}function mt(Ye,Te=0){return function(et){return et.lift(new Et(Ye,Te))}}class Et{constructor(Te,ze){this.scheduler=Te,this.delay=ze}call(Te,ze){return new He(ze,this.delay,this.scheduler).subscribe(Te)}}var pt=O(5142),Nn=O(506),Tn=O(9681),Wt=O(3994);class xe{constructor(Te,ze,et){this.kind=Te,this.value=ze,this.error=et,this.hasValue="N"===Te}observe(Te){switch(this.kind){case"N":return Te.next&&Te.next(this.value);case"E":return Te.error&&Te.error(this.error);case"C":return Te.complete&&Te.complete()}}do(Te,ze,et){switch(this.kind){case"N":return Te&&Te(this.value);case"E":return ze&&ze(this.error);case"C":return et&&et()}}accept(Te,ze,et){return Te&&"function"==typeof Te.next?this.observe(Te):this.do(Te,ze,et)}toObservable(){switch(this.kind){case"N":return(0,Tn.of)(this.value);case"E":return(0,Wt._)(this.error);case"C":return(0,Nn.c)()}throw new Error("unexpected notification kind value")}static createNext(Te){return typeof Te<"u"?new xe("N",Te):xe.undefinedValueNotification}static createError(Te){return new xe("E",void 0,Te)}static createComplete(){return xe.completeNotification}}function Ne(Ye,Te=0){return function(et){return et.lift(new ke(Ye,Te))}}xe.completeNotification=new xe("C"),xe.undefinedValueNotification=new xe("N",void 0);class ke{constructor(Te,ze=0){this.scheduler=Te,this.delay=ze}call(Te,ze){return ze.subscribe(new Oe(Te,this.scheduler,this.delay))}}class Oe extends pt.L{constructor(Te,ze,et=0){super(Te),this.scheduler=ze,this.delay=et}static dispatch(Te){const{notification:ze,destination:et}=Te;ze.observe(et),this.unsubscribe()}scheduleMessage(Te){this.destination.add(this.scheduler.schedule(Oe.dispatch,this.delay,new We(Te,this.destination)))}_next(Te){this.scheduleMessage(xe.createNext(Te))}_error(Te){this.scheduleMessage(xe.createError(Te)),this.unsubscribe()}_complete(){this.scheduleMessage(xe.createComplete()),this.unsubscribe()}}class We{constructor(Te,ze){this.notification=Te,this.destination=ze}}const it=new v.GfV("ANGULARFIRE2_VERSION");function en(Ye,Te,ze){if(Te){if(1===Te.length)return Te[0];const nn=Te.filter(yn=>yn.app===ze);if(1===nn.length)return nn[0]}return ze.container.getProvider(Ye).getImmediate({optional:!0})}const In=(Ye,Te)=>{const ze=Te?[Te]:(0,u.C6)(),et=[];return ze.forEach(gt=>{gt.container.getProvider(Ye).instances.forEach(yn=>{et.includes(yn)||et.push(yn)})}),et};class kt{constructor(){return In(gn)}}const gn="app-check";function Zt(){}class vt{zone;delegate;constructor(Te,ze=j){this.zone=Te,this.delegate=ze}now(){return this.delegate.now()}schedule(Te,ze,et){const gt=this.zone;return this.delegate.schedule(function(yn){gt.runGuarded(()=>{Te.apply(this,[yn])})},ze,et)}}class At{zone;task=null;constructor(Te){this.zone=Te}call(Te,ze){const et=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zt,{},Zt,Zt)),ze.pipe((0,Q.b)({next:et,complete:et,error:et})).subscribe(Te).add(et)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ar=(()=>{class Ye{ngZone;outsideAngular;insideAngular;constructor(ze){this.ngZone=ze,this.outsideAngular=ze.runOutsideAngular(()=>new vt(Zone.current)),this.insideAngular=ze.run(()=>new vt(Zone.current,re)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(et){return new(et||Ye)(v.LFG(v.R0b))};static \u0275prov=v.Yz7({token:Ye,factory:Ye.\u0275fac,providedIn:"root"})}return Ye})();function un(){const Ye=globalThis.\u0275AngularFireScheduler;if(!Ye)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return Ye}function er(Ye){return un().ngZone.run(()=>Ye())}function ei(Ye){return function Pr(Ye){return function(ze){return(ze=ze.lift(new At(Ye.ngZone))).pipe(mt(Ye.outsideAngular),Ne(Ye.insideAngular))}}(un())(Ye)}const Wn=(Ye,Te)=>function(){const et=arguments;return Te&&setTimeout(()=>{"scheduled"===Te.state&&Te.invoke()},10),er(()=>Ye.apply(void 0,et))},pr=(Ye,Te)=>function(){let ze;const et=arguments;for(let nn=0;nn<arguments.length;nn++)"function"==typeof et[nn]&&(Te&&(ze||=er(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zt,{},Zt,Zt))),et[nn]=Wn(et[nn],ze));const gt=function zt(Ye){return un().ngZone.runOutsideAngular(()=>Ye())}(()=>Ye.apply(this,et));if(!Te){if(gt instanceof ue.y){const nn=un();return gt.pipe(mt(nn.outsideAngular),Ne(nn.insideAngular))}return er(()=>gt)}return gt instanceof ue.y?gt.pipe(ei):gt instanceof Promise?er(()=>new Promise((nn,yn)=>gt.then(Ln=>er(()=>nn(Ln)),Ln=>er(()=>yn(Ln))))):"function"==typeof gt&&ze?function(){return setTimeout(()=>{ze&&"scheduled"===ze.state&&ze.invoke()},10),gt.apply(this,arguments)}:er(()=>gt)}},9571:(lt,be,O)=>{"use strict";O.d(be,{Jn:()=>ti,qX:()=>yn,Xd:()=>nn,Mq:()=>rr,C6:()=>Rr,ZF:()=>sn,KN:()=>Qt});var v=O(1670),u=O(7995),he=O(809),fe=O(6552);const oe=($e,Se)=>Se.some(at=>$e instanceof at);let H,ne;const j=new WeakMap,B=new WeakMap,re=new WeakMap,se=new WeakMap,ue=new WeakMap;let Ie={get($e,Se,at){if($e instanceof IDBTransaction){if("done"===Se)return B.get($e);if("objectStoreNames"===Se)return $e.objectStoreNames||re.get($e);if("store"===Se)return at.objectStoreNames[1]?void 0:at.objectStore(at.objectStoreNames[0])}return we($e[Se])},set:($e,Se,at)=>($e[Se]=at,!0),has:($e,Se)=>$e instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in $e};function yt($e){return"function"==typeof $e?function Ge($e){return $e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes($e)?function(...Se){return $e.apply(wt(this),Se),we(j.get(this))}:function(...Se){return we($e.apply(wt(this),Se))}:function(Se,...at){const jt=$e.call(wt(this),Se,...at);return re.set(jt,Se.sort?Se.sort():[Se]),we(jt)}}($e):($e instanceof IDBTransaction&&function ge($e){if(B.has($e))return;const Se=new Promise((at,jt)=>{const Jt=()=>{$e.removeEventListener("complete",Xt),$e.removeEventListener("error",cn),$e.removeEventListener("abort",cn)},Xt=()=>{at(),Jt()},cn=()=>{jt($e.error||new DOMException("AbortError","AbortError")),Jt()};$e.addEventListener("complete",Xt),$e.addEventListener("error",cn),$e.addEventListener("abort",cn)});B.set($e,Se)}($e),oe($e,function ce(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy($e,Ie):$e)}function we($e){if($e instanceof IDBRequest)return function Q($e){const Se=new Promise((at,jt)=>{const Jt=()=>{$e.removeEventListener("success",Xt),$e.removeEventListener("error",cn)},Xt=()=>{at(we($e.result)),Jt()},cn=()=>{jt($e.error),Jt()};$e.addEventListener("success",Xt),$e.addEventListener("error",cn)});return Se.then(at=>{at instanceof IDBCursor&&j.set(at,$e)}).catch(()=>{}),ue.set(Se,$e),Se}($e);if(se.has($e))return se.get($e);const Se=yt($e);return Se!==$e&&(se.set($e,Se),ue.set(Se,$e)),Se}const wt=$e=>ue.get($e),ft=["get","getKey","getAll","getAllKeys","count"],ie=["put","add","delete","clear"],rt=new Map;function He($e,Se){if(!($e instanceof IDBDatabase)||Se in $e||"string"!=typeof Se)return;if(rt.get(Se))return rt.get(Se);const at=Se.replace(/FromIndex$/,""),jt=Se!==at,Jt=ie.includes(at);if(!(at in(jt?IDBIndex:IDBObjectStore).prototype)||!Jt&&!ft.includes(at))return;const Xt=function(){var cn=(0,v.Z)(function*(gr,...Rn){const Nr=this.transaction(gr,Jt?"readwrite":"readonly");let ln=Nr.store;return jt&&(ln=ln.index(Rn.shift())),(yield Promise.all([ln[at](...Rn),Jt&&Nr.done]))[0]});return function(Rn){return cn.apply(this,arguments)}}();return rt.set(Se,Xt),Xt}!function De($e){Ie=$e(Ie)}($e=>({...$e,get:(Se,at,jt)=>He(Se,at)||$e.get(Se,at,jt),has:(Se,at)=>!!He(Se,at)||$e.has(Se,at)}));class mt{constructor(Se){this.container=Se}getPlatformInfoString(){return this.container.getProviders().map(at=>{if(function Et($e){const Se=$e.getComponent();return"VERSION"===Se?.type}(at)){const jt=at.getImmediate();return`${jt.library}/${jt.version}`}return null}).filter(at=>at).join(" ")}}const pt="@firebase/app",Tn=new he.Yd("@firebase/app"),pr="[DEFAULT]",Ye={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Te=new Map,ze=new Map;function et($e,Se){try{$e.container.addComponent(Se)}catch(at){Tn.debug(`Component ${Se.name} failed to register with FirebaseApp ${$e.name}`,at)}}function nn($e){const Se=$e.name;if(ze.has(Se))return Tn.debug(`There were multiple attempts to register component ${Se}.`),!1;ze.set(Se,$e);for(const at of Te.values())et(at,$e);return!0}function yn($e,Se){const at=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return at&&at.triggerHeartbeat(),$e.container.getProvider(Se)}const Rt=new fe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lo{constructor(Se,at,jt){this._isDeleted=!1,this._options=Object.assign({},Se),this._config=Object.assign({},at),this._name=at.name,this._automaticDataCollectionEnabled=at.automaticDataCollectionEnabled,this._container=jt,this.container.addComponent(new u.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Se){this.checkDestroyed(),this._automaticDataCollectionEnabled=Se}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Se){this._isDeleted=Se}checkDestroyed(){if(this.isDeleted)throw Rt.create("app-deleted",{appName:this._name})}}const ti="10.5.2";function sn($e,Se={}){let at=$e;"object"!=typeof Se&&(Se={name:Se});const jt=Object.assign({name:pr,automaticDataCollectionEnabled:!1},Se),Jt=jt.name;if("string"!=typeof Jt||!Jt)throw Rt.create("bad-app-name",{appName:String(Jt)});if(at||(at=(0,fe.aH)()),!at)throw Rt.create("no-options");const Xt=Te.get(Jt);if(Xt){if((0,fe.vZ)(at,Xt.options)&&(0,fe.vZ)(jt,Xt.config))return Xt;throw Rt.create("duplicate-app",{appName:Jt})}const cn=new u.H0(Jt);for(const Rn of ze.values())cn.addComponent(Rn);const gr=new lo(at,jt,cn);return Te.set(Jt,gr),gr}function rr($e=pr){const Se=Te.get($e);if(!Se&&$e===pr&&(0,fe.aH)())return sn();if(!Se)throw Rt.create("no-app",{appName:$e});return Se}function Rr(){return Array.from(Te.values())}function Qt($e,Se,at){var jt;let Jt=null!==(jt=Ye[$e])&&void 0!==jt?jt:$e;at&&(Jt+=`-${at}`);const Xt=Jt.match(/\s|\//),cn=Se.match(/\s|\//);if(Xt||cn){const gr=[`Unable to register library "${Jt}" with version "${Se}":`];return Xt&&gr.push(`library name "${Jt}" contains illegal characters (whitespace or "/")`),Xt&&cn&&gr.push("and"),cn&&gr.push(`version name "${Se}" contains illegal characters (whitespace or "/")`),void Tn.warn(gr.join(" "))}nn(new u.wA(`${Jt}-version`,()=>({library:Jt,version:Se}),"VERSION"))}const wi="firebase-heartbeat-database",Mi=1,me="firebase-heartbeat-store";let Z=null;function J(){return Z||(Z=function ht($e,Se,{blocked:at,upgrade:jt,blocking:Jt,terminated:Xt}={}){const cn=indexedDB.open($e,Se),gr=we(cn);return jt&&cn.addEventListener("upgradeneeded",Rn=>{jt(we(cn.result),Rn.oldVersion,Rn.newVersion,we(cn.transaction),Rn)}),at&&cn.addEventListener("blocked",Rn=>at(Rn.oldVersion,Rn.newVersion,Rn)),gr.then(Rn=>{Xt&&Rn.addEventListener("close",()=>Xt()),Jt&&Rn.addEventListener("versionchange",Nr=>Jt(Nr.oldVersion,Nr.newVersion,Nr))}).catch(()=>{}),gr}(wi,Mi,{upgrade:($e,Se)=>{0===Se&&$e.createObjectStore(me)}}).catch($e=>{throw Rt.create("idb-open",{originalErrorMessage:$e.message})})),Z}function K(){return(K=(0,v.Z)(function*($e){try{return yield(yield J()).transaction(me).objectStore(me).get(Tt($e))}catch(Se){if(Se instanceof fe.ZR)Tn.warn(Se.message);else{const at=Rt.create("idb-get",{originalErrorMessage:Se?.message});Tn.warn(at.message)}}})).apply(this,arguments)}function Ae($e,Se){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,v.Z)(function*($e,Se){try{const jt=(yield J()).transaction(me,"readwrite");yield jt.objectStore(me).put(Se,Tt($e)),yield jt.done}catch(at){if(at instanceof fe.ZR)Tn.warn(at.message);else{const jt=Rt.create("idb-set",{originalErrorMessage:at?.message});Tn.warn(jt.message)}}})).apply(this,arguments)}function Tt($e){return`${$e.name}!${$e.options.appId}`}class hn{constructor(Se){this.container=Se,this._heartbeatsCache=null;const at=this.container.getProvider("app").getImmediate();this._storage=new qn(at),this._heartbeatsCachePromise=this._storage.read().then(jt=>(this._heartbeatsCache=jt,jt))}triggerHeartbeat(){var Se=this;return(0,v.Z)(function*(){const jt=Se.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Jt=Ut();if(null===Se._heartbeatsCache&&(Se._heartbeatsCache=yield Se._heartbeatsCachePromise),Se._heartbeatsCache.lastSentHeartbeatDate!==Jt&&!Se._heartbeatsCache.heartbeats.some(Xt=>Xt.date===Jt))return Se._heartbeatsCache.heartbeats.push({date:Jt,agent:jt}),Se._heartbeatsCache.heartbeats=Se._heartbeatsCache.heartbeats.filter(Xt=>{const cn=new Date(Xt.date).valueOf();return Date.now()-cn<=2592e6}),Se._storage.overwrite(Se._heartbeatsCache)})()}getHeartbeatsHeader(){var Se=this;return(0,v.Z)(function*(){if(null===Se._heartbeatsCache&&(yield Se._heartbeatsCachePromise),null===Se._heartbeatsCache||0===Se._heartbeatsCache.heartbeats.length)return"";const at=Ut(),{heartbeatsToSend:jt,unsentEntries:Jt}=function Zn($e,Se=1024){const at=[];let jt=$e.slice();for(const Jt of $e){const Xt=at.find(cn=>cn.agent===Jt.agent);if(Xt){if(Xt.dates.push(Jt.date),Oi(at)>Se){Xt.dates.pop();break}}else if(at.push({agent:Jt.agent,dates:[Jt.date]}),Oi(at)>Se){at.pop();break}jt=jt.slice(1)}return{heartbeatsToSend:at,unsentEntries:jt}}(Se._heartbeatsCache.heartbeats),Xt=(0,fe.L)(JSON.stringify({version:2,heartbeats:jt}));return Se._heartbeatsCache.lastSentHeartbeatDate=at,Jt.length>0?(Se._heartbeatsCache.heartbeats=Jt,yield Se._storage.overwrite(Se._heartbeatsCache)):(Se._heartbeatsCache.heartbeats=[],Se._storage.overwrite(Se._heartbeatsCache)),Xt})()}}function Ut(){return(new Date).toISOString().substring(0,10)}class qn{constructor(Se){this.app=Se,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,v.Z)(function*(){return!!(0,fe.hl)()&&(0,fe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Se=this;return(0,v.Z)(function*(){return(yield Se._canUseIndexedDBPromise)&&(yield function Y($e){return K.apply(this,arguments)}(Se.app))||{heartbeats:[]}})()}overwrite(Se){var at=this;return(0,v.Z)(function*(){var jt;if(yield at._canUseIndexedDBPromise){const Xt=yield at.read();return Ae(at.app,{lastSentHeartbeatDate:null!==(jt=Se.lastSentHeartbeatDate)&&void 0!==jt?jt:Xt.lastSentHeartbeatDate,heartbeats:Se.heartbeats})}})()}add(Se){var at=this;return(0,v.Z)(function*(){var jt;if(yield at._canUseIndexedDBPromise){const Xt=yield at.read();return Ae(at.app,{lastSentHeartbeatDate:null!==(jt=Se.lastSentHeartbeatDate)&&void 0!==jt?jt:Xt.lastSentHeartbeatDate,heartbeats:[...Xt.heartbeats,...Se.heartbeats]})}})()}}function Oi($e){return(0,fe.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function En($e){nn(new u.wA("platform-logger",Se=>new mt(Se),"PRIVATE")),nn(new u.wA("heartbeat",Se=>new hn(Se),"PRIVATE")),Qt(pt,"0.9.22",$e),Qt(pt,"0.9.22","esm2017"),Qt("fire-js","")}("")},7995:(lt,be,O)=>{"use strict";O.d(be,{H0:()=>ce,wA:()=>he});var v=O(1670),u=O(6552);class he{constructor(j,B,re){this.name=j,this.instanceFactory=B,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const fe="[DEFAULT]";class oe{constructor(j,B){this.name=j,this.container=B,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const B=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(B)){const re=new u.BH;if(this.instancesDeferred.set(B,re),this.isInitialized(B)||this.shouldAutoInitialize())try{const se=this.getOrInitializeService({instanceIdentifier:B});se&&re.resolve(se)}catch{}}return this.instancesDeferred.get(B).promise}getImmediate(j){var B;const re=this.normalizeInstanceIdentifier(j?.identifier),se=null!==(B=j?.optional)&&void 0!==B&&B;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(se)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(ue){if(se)return null;throw ue}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function ne(te){return"EAGER"===te.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:fe})}catch{}for(const[B,re]of this.instancesDeferred.entries()){const se=this.normalizeInstanceIdentifier(B);try{const ue=this.getOrInitializeService({instanceIdentifier:se});re.resolve(ue)}catch{}}}}clearInstance(j=fe){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,v.Z)(function*(){const B=Array.from(j.instances.values());yield Promise.all([...B.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...B.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=fe){return this.instances.has(j)}getOptions(j=fe){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:B={}}=j,re=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const se=this.getOrInitializeService({instanceIdentifier:re,options:B});for(const[ue,Q]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(ue)&&Q.resolve(se);return se}onInit(j,B){var re;const se=this.normalizeInstanceIdentifier(B),ue=null!==(re=this.onInitCallbacks.get(se))&&void 0!==re?re:new Set;ue.add(j),this.onInitCallbacks.set(se,ue);const Q=this.instances.get(se);return Q&&j(Q,se),()=>{ue.delete(j)}}invokeOnInitCallbacks(j,B){const re=this.onInitCallbacks.get(B);if(re)for(const se of re)try{se(j,B)}catch{}}getOrInitializeService({instanceIdentifier:j,options:B={}}){let re=this.instances.get(j);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(te=j,te===fe?void 0:te),options:B}),this.instances.set(j,re),this.instancesOptions.set(j,B),this.invokeOnInitCallbacks(re,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,re)}catch{}var te;return re||null}normalizeInstanceIdentifier(j=fe){return this.component?this.component.multipleInstances?j:fe:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const B=this.getProvider(j.name);if(B.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);B.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const B=new oe(j,this);return this.providers.set(j,B),B}getProviders(){return Array.from(this.providers.values())}}},809:(lt,be,O)=>{"use strict";O.d(be,{Yd:()=>ne,in:()=>u});const v=[];var u=function(j){return j[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j}(u||{});const he={debug:u.DEBUG,verbose:u.VERBOSE,info:u.INFO,warn:u.WARN,error:u.ERROR,silent:u.SILENT},fe=u.INFO,oe={[u.DEBUG]:"log",[u.VERBOSE]:"log",[u.INFO]:"info",[u.WARN]:"warn",[u.ERROR]:"error"},H=(j,B,...re)=>{if(B<j.logLevel)return;const se=(new Date).toISOString(),ue=oe[B];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${B})`);console[ue](`[${se}]  ${j.name}:`,...re)};class ne{constructor(B){this.name=B,this._logLevel=fe,this._logHandler=H,this._userLogHandler=null,v.push(this)}get logLevel(){return this._logLevel}set logLevel(B){if(!(B in u))throw new TypeError(`Invalid value "${B}" assigned to \`logLevel\``);this._logLevel=B}setLogLevel(B){this._logLevel="string"==typeof B?he[B]:B}get logHandler(){return this._logHandler}set logHandler(B){if("function"!=typeof B)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=B}get userLogHandler(){return this._userLogHandler}set userLogHandler(B){this._userLogHandler=B}debug(...B){this._userLogHandler&&this._userLogHandler(this,u.DEBUG,...B),this._logHandler(this,u.DEBUG,...B)}log(...B){this._userLogHandler&&this._userLogHandler(this,u.VERBOSE,...B),this._logHandler(this,u.VERBOSE,...B)}info(...B){this._userLogHandler&&this._userLogHandler(this,u.INFO,...B),this._logHandler(this,u.INFO,...B)}warn(...B){this._userLogHandler&&this._userLogHandler(this,u.WARN,...B),this._logHandler(this,u.WARN,...B)}error(...B){this._userLogHandler&&this._userLogHandler(this,u.ERROR,...B),this._logHandler(this,u.ERROR,...B)}}},2101:(lt,be,O)=>{"use strict";O.d(be,{C6:()=>v.C6,KN:()=>v.KN,Mq:()=>v.Mq,ZF:()=>v.ZF});var v=O(9571);(0,v.KN)("firebase","10.5.2","app")},2258:(lt,be,O)=>{"use strict";O.d(be,{GH:()=>Sn,v0:()=>Sc,Aj:()=>xs,rh:()=>sh,w7:()=>so});var v=O(1670),u=O(6552),he=O(9571),fe=O(809),oe=O(2321),H=O(7995);const Q=function se(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new u.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),De=new fe.Yd("@firebase/auth");function yt(T,...f){De.logLevel<=fe.in.ERROR&&De.error(`Auth (${he.Jn}): ${T}`,...f)}function we(T,...f){throw ft(T,...f)}function wt(T,...f){return ft(T,...f)}function ht(T,f,m){const b=Object.assign(Object.assign({},Q()),{[f]:m});return new u.LL("auth","Firebase",b).create(f,{appName:T.name})}function ft(T,...f){if("string"!=typeof T){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=T.name),T._errorFactory.create(m,...b)}return ge.create(T,...f)}function ie(T,f,...m){if(!T)throw ft(f,...m)}function rt(T){const f="INTERNAL ASSERTION FAILED: "+T;throw yt(f),new Error(f)}function He(T,f){T||rt(f)}function mt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function pt(){var T;return typeof self<"u"&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Wt{constructor(f,m){this.shortDelay=f,this.longDelay=m,He(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,u.uI)()||(0,u.b$)()}get(){return function Nn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Et(){return"http:"===pt()||"https:"===pt()}()||(0,u.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function $n(T,f){He(T.emulator,"Emulator should always be set here");const{url:m}=T.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class xe{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ke=new Wt(3e4,6e4);function Oe(T,f){return T.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:T.tenantId}):f}function We(T,f,m,b){return it.apply(this,arguments)}function it(){return(it=(0,v.Z)(function*(T,f,m,b,U={}){return ot(T,U,(0,v.Z)(function*(){let ee={},ve={};b&&("GET"===f?ve=b:ee={body:JSON.stringify(b)});const Be=(0,u.xO)(Object.assign({key:T.config.apiKey},ve)).slice(1),ct=yield T._getAdditionalHeaders();return ct["Content-Type"]="application/json",T.languageCode&&(ct["X-Firebase-Locale"]=T.languageCode),xe.fetch()(gn(T,T.config.apiHost,m,Be),Object.assign({method:f,headers:ct,referrerPolicy:"no-referrer"},ee))}))})).apply(this,arguments)}function ot(T,f,m){return en.apply(this,arguments)}function en(){return(en=(0,v.Z)(function*(T,f,m){T._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ne),f);try{const U=new vt(T),ee=yield Promise.race([m(),U.promise]);U.clearNetworkTimeout();const ve=yield ee.json();if("needConfirmation"in ve)throw At(T,"account-exists-with-different-credential",ve);if(ee.ok&&!("errorMessage"in ve))return ve;{const Be=ee.ok?ve.errorMessage:ve.error.message,[ct,$t]=Be.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw At(T,"credential-already-in-use",ve);if("EMAIL_EXISTS"===ct)throw At(T,"email-already-in-use",ve);if("USER_DISABLED"===ct)throw At(T,"user-disabled",ve);const Vt=b[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if($t)throw ht(T,Vt,$t);we(T,Vt)}}catch(U){if(U instanceof u.ZR)throw U;we(T,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function kt(){return(kt=(0,v.Z)(function*(T,f,m,b,U={}){const ee=yield We(T,f,m,b,U);return"mfaPendingCredential"in ee&&we(T,"multi-factor-auth-required",{_serverResponse:ee}),ee})).apply(this,arguments)}function gn(T,f,m,b){const U=`${f}${m}?${b}`;return T.config.emulator?$n(T.config,U):`${T.config.apiScheme}://${U}`}class vt{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(wt(this.auth,"network-request-failed")),ke.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function At(T,f,m){const b={appName:T.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const U=wt(T,f,b);return U.customData._tokenResponse=m,U}function Wn(){return(Wn=(0,v.Z)(function*(T,f){return We(T,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function ze(){return(ze=(0,v.Z)(function*(T,f){return We(T,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function et(T){if(T)try{const f=new Date(Number(T));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function yn(){return(yn=(0,v.Z)(function*(T,f=!1){const m=(0,u.m9)(T),b=yield m.getIdToken(f),U=vn(b);ie(U&&U.exp&&U.auth_time&&U.iat,m.auth,"internal-error");const ee="object"==typeof U.firebase?U.firebase:void 0,ve=ee?.sign_in_provider;return{claims:U,token:b,authTime:et(Ln(U.auth_time)),issuedAtTime:et(Ln(U.iat)),expirationTime:et(Ln(U.exp)),signInProvider:ve||null,signInSecondFactor:ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Ln(T){return 1e3*Number(T)}function vn(T){const[f,m,b]=T.split(".");if(void 0===f||void 0===m||void 0===b)return yt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,u.tV)(m);return U?JSON.parse(U):(yt("Failed to decode base64 JWT payload"),null)}catch(U){return yt("Caught error parsing JWT payload as JSON",U?.toString()),null}}function Rt(T,f){return lo.apply(this,arguments)}function lo(){return(lo=(0,v.Z)(function*(T,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof u.ZR&&function ti({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}(b)&&T.auth.currentUser===T&&(yield T.auth.signOut()),b}})).apply(this,arguments)}class sn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const U=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,v.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,v.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class rr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=et(this.lastLoginAt),this.creationTime=et(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Rr(T){return ai.apply(this,arguments)}function ai(){return ai=(0,v.Z)(function*(T){var f;const m=T.auth,b=yield T.getIdToken(),U=yield Rt(T,function Te(T,f){return ze.apply(this,arguments)}(m,{idToken:b}));ie(U?.users.length,m,"internal-error");const ee=U.users[0];T._notifyReloadListener(ee);const ve=null!==(f=ee.providerUserInfo)&&void 0!==f&&f.length?function dn(T){return T.map(f=>{var{providerId:m}=f,b=(0,oe._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(ee.providerUserInfo):[],Be=function bn(T,f){return[...T.filter(b=>!f.some(U=>U.providerId===b.providerId)),...f]}(T.providerData,ve),Vt=!!T.isAnonymous&&!(T.email&&ee.passwordHash||Be?.length),Fn={uid:ee.localId,displayName:ee.displayName||null,photoURL:ee.photoUrl||null,email:ee.email||null,emailVerified:ee.emailVerified||!1,phoneNumber:ee.phoneNumber||null,tenantId:ee.tenantId||null,providerData:Be,metadata:new rr(ee.createdAt,ee.lastLoginAt),isAnonymous:Vt};Object.assign(T,Fn)}),ai.apply(this,arguments)}function Qt(){return(Qt=(0,v.Z)(function*(T){const f=(0,u.m9)(T);yield Rr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Mi(){return(Mi=(0,v.Z)(function*(T,f){const m=yield ot(T,{},(0,v.Z)(function*(){const b=(0,u.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:U,apiKey:ee}=T.config,ve=gn(T,U,"/v1/token",`key=${ee}`),Be=yield T._getAdditionalHeaders();return Be["Content-Type"]="application/x-www-form-urlencoded",xe.fetch()(ve,{method:"POST",headers:Be,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class me{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){ie(f.idToken,"internal-error"),ie(typeof f.idToken<"u","internal-error"),ie(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function mn(T){const f=vn(T);return ie(f,"internal-error"),ie(typeof f.exp<"u","internal-error"),ie(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,v.Z)(function*(){return ie(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,v.Z)(function*(){const{accessToken:U,refreshToken:ee,expiresIn:ve}=yield function wi(T,f){return Mi.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(U,ee,Number(ve))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:U,expirationTime:ee}=m,ve=new me;return b&&(ie("string"==typeof b,"internal-error",{appName:f}),ve.refreshToken=b),U&&(ie("string"==typeof U,"internal-error",{appName:f}),ve.accessToken=U),ee&&(ie("number"==typeof ee,"internal-error",{appName:f}),ve.expirationTime=ee),ve}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new me,this.toJSON())}_performRefresh(){return rt("not implemented")}}function Z(T,f){ie("string"==typeof T||typeof T>"u","internal-error",{appName:f})}class J{constructor(f){var{uid:m,auth:b,stsTokenManager:U}=f,ee=(0,oe._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=ee.displayName||null,this.email=ee.email||null,this.emailVerified=ee.emailVerified||!1,this.phoneNumber=ee.phoneNumber||null,this.photoURL=ee.photoURL||null,this.isAnonymous=ee.isAnonymous||!1,this.tenantId=ee.tenantId||null,this.providerData=ee.providerData?[...ee.providerData]:[],this.metadata=new rr(ee.createdAt||void 0,ee.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,v.Z)(function*(){const b=yield Rt(m,m.stsTokenManager.getToken(m.auth,f));return ie(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function nn(T){return yn.apply(this,arguments)}(this,f)}reload(){return function wn(T){return Qt.apply(this,arguments)}(this)}_assign(f){this!==f&&(ie(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new J(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,v.Z)(function*(){let U=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),U=!0),m&&(yield Rr(b)),yield b.auth._persistUserIfCurrent(b),U&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,v.Z)(function*(){const m=yield f.getIdToken();return yield Rt(f,function Pr(T,f){return Wn.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,U,ee,ve,Be,ct,$t,Vt;const Fn=null!==(b=m.displayName)&&void 0!==b?b:void 0,Qi=null!==(U=m.email)&&void 0!==U?U:void 0,sc=null!==(ee=m.phoneNumber)&&void 0!==ee?ee:void 0,cu=null!==(ve=m.photoURL)&&void 0!==ve?ve:void 0,xn=null!==(Be=m.tenantId)&&void 0!==Be?Be:void 0,Ih=null!==(ct=m._redirectEventId)&&void 0!==ct?ct:void 0,il=null!==($t=m.createdAt)&&void 0!==$t?$t:void 0,Yl=null!==(Vt=m.lastLoginAt)&&void 0!==Vt?Vt:void 0,{uid:ol,emailVerified:xc,isAnonymous:Pc,providerData:Ql,stsTokenManager:Jl}=m;ie(ol&&Jl,f,"internal-error");const ap=me.fromJSON(this.name,Jl);ie("string"==typeof ol,f,"internal-error"),Z(Fn,f.name),Z(Qi,f.name),ie("boolean"==typeof xc,f,"internal-error"),ie("boolean"==typeof Pc,f,"internal-error"),Z(sc,f.name),Z(cu,f.name),Z(xn,f.name),Z(Ih,f.name),Z(il,f.name),Z(Yl,f.name);const aa=new J({uid:ol,auth:f,email:Qi,emailVerified:xc,displayName:Fn,isAnonymous:Pc,photoURL:cu,phoneNumber:sc,tenantId:xn,stsTokenManager:ap,createdAt:il,lastLoginAt:Yl});return Ql&&Array.isArray(Ql)&&(aa.providerData=Ql.map(Rc=>Object.assign({},Rc))),Ih&&(aa._redirectEventId=Ih),aa}static _fromIdTokenResponse(f,m,b=!1){return(0,v.Z)(function*(){const U=new me;U.updateFromServerResponse(m);const ee=new J({uid:m.localId,auth:f,stsTokenManager:U,isAnonymous:b});return yield Rr(ee),ee})()}}const Y=new Map;function K(T){He(T instanceof Function,"Expected a class definition");let f=Y.get(T);return f?(He(f instanceof T,"Instance stored in cache mismatched with class"),f):(f=new T,Y.set(T,f),f)}const Xe=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,v.Z)(function*(){return!0})()}_set(m,b){var U=this;return(0,v.Z)(function*(){U.storage[m]=b})()}_get(m){var b=this;return(0,v.Z)(function*(){const U=b.storage[m];return void 0===U?null:U})()}_remove(m){var b=this;return(0,v.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return T.type="NONE",T})();function Tt(T,f,m){return`firebase:${T}:${f}:${m}`}class Gt{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:U,name:ee}=this.auth;this.fullUserKey=Tt(this.userKey,U.apiKey,ee),this.fullPersistenceKey=Tt("persistence",U.apiKey,ee),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,v.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?J._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,v.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,v.Z)(function*(){if(!m.length)return new Gt(K(Xe),f,b);const U=(yield Promise.all(m.map(function(){var $t=(0,v.Z)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return $t.apply(this,arguments)}}()))).filter($t=>$t);let ee=U[0]||K(Xe);const ve=Tt(b,f.config.apiKey,f.name);let Be=null;for(const $t of m)try{const Vt=yield $t._get(ve);if(Vt){const Fn=J._fromJSON(f,Vt);$t!==ee&&(Be=Fn),ee=$t;break}}catch{}const ct=U.filter($t=>$t._shouldAllowMigration);return ee._shouldAllowMigration&&ct.length?(ee=ct[0],Be&&(yield ee._set(ve,Be.toJSON())),yield Promise.all(m.map(function(){var $t=(0,v.Z)(function*(Vt){if(Vt!==ee)try{yield Vt._remove(ve)}catch{}});return function(Vt){return $t.apply(this,arguments)}}())),new Gt(ee,f,b)):new Gt(ee,f,b)})()}}function Ht(T){const f=T.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(qn(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(hn(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(En(f))return"Blackberry";if($e(f))return"Webos";if(Ut(f))return"Safari";if((f.includes("chrome/")||Zn(f))&&!f.includes("edge/"))return"Chrome";if(Oi(f))return"Android";{const b=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function hn(T=(0,u.z$)()){return/firefox\//i.test(T)}function Ut(T=(0,u.z$)()){const f=T.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Zn(T=(0,u.z$)()){return/crios\//i.test(T)}function qn(T=(0,u.z$)()){return/iemobile/i.test(T)}function Oi(T=(0,u.z$)()){return/android/i.test(T)}function En(T=(0,u.z$)()){return/blackberry/i.test(T)}function $e(T=(0,u.z$)()){return/webos/i.test(T)}function Se(T=(0,u.z$)()){return/iphone|ipad|ipod/i.test(T)||/macintosh/i.test(T)&&/mobile/i.test(T)}function Xt(T=(0,u.z$)()){return Se(T)||Oi(T)||$e(T)||En(T)||/windows phone/i.test(T)||qn(T)}function gr(T,f=[]){let m;switch(T){case"Browser":m=Ht((0,u.z$)());break;case"Worker":m=`${Ht((0,u.z$)())}-${T}`;break;default:m=T}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${he.Jn}/${b}`}class Rn{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=ee=>new Promise((ve,Be)=>{try{ve(f(ee))}catch(ct){Be(ct)}});b.onAbort=m,this.queue.push(b);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,v.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const U of m.queue)yield U(f),U.onAbort&&b.push(U.onAbort)}catch(U){b.reverse();for(const ee of b)try{ee()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function ln(){return(ln=(0,v.Z)(function*(T,f={}){return We(T,"GET","/v2/passwordPolicy",Oe(T,f))})).apply(this,arguments)}class Qo{constructor(f){var m,b,U,ee;const ve=f.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(m=ve.minPasswordLength)&&void 0!==m?m:6,ve.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ve.maxPasswordLength),void 0!==ve.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ve.containsLowercaseCharacter),void 0!==ve.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ve.containsUppercaseCharacter),void 0!==ve.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ve.containsNumericCharacter),void 0!==ve.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ve.containsNonAlphanumericCharacter),this.enforcementState=f.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(b=f.allowedNonAlphanumericCharacters)||void 0===b?void 0:b.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(ee=f.forceUpgradeOnSignin)&&void 0!==ee&&ee,this.schemaVersion=f.schemaVersion}validatePassword(f){var m,b,U,ee,ve,Be;const ct={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(f,ct),this.validatePasswordCharacterOptions(f,ct),ct.isValid&&(ct.isValid=null===(m=ct.meetsMinPasswordLength)||void 0===m||m),ct.isValid&&(ct.isValid=null===(b=ct.meetsMaxPasswordLength)||void 0===b||b),ct.isValid&&(ct.isValid=null===(U=ct.containsLowercaseLetter)||void 0===U||U),ct.isValid&&(ct.isValid=null===(ee=ct.containsUppercaseLetter)||void 0===ee||ee),ct.isValid&&(ct.isValid=null===(ve=ct.containsNumericCharacter)||void 0===ve||ve),ct.isValid&&(ct.isValid=null===(Be=ct.containsNonAlphanumericCharacter)||void 0===Be||Be),ct}validatePasswordLengthOptions(f,m){const b=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;b&&(m.meetsMinPasswordLength=f.length>=b),U&&(m.meetsMaxPasswordLength=f.length<=U)}validatePasswordCharacterOptions(f,m){let b;this.updatePasswordCharacterOptionsStatuses(m,!1,!1,!1,!1);for(let U=0;U<f.length;U++)b=f.charAt(U),this.updatePasswordCharacterOptionsStatuses(m,b>="a"&&b<="z",b>="A"&&b<="Z",b>="0"&&b<="9",this.allowedNonAlphanumericCharacters.includes(b))}updatePasswordCharacterOptionsStatuses(f,m,b,U,ee){this.customStrengthOptions.containsLowercaseLetter&&(f.containsLowercaseLetter||(f.containsLowercaseLetter=m)),this.customStrengthOptions.containsUppercaseLetter&&(f.containsUppercaseLetter||(f.containsUppercaseLetter=b)),this.customStrengthOptions.containsNumericCharacter&&(f.containsNumericCharacter||(f.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(f.containsNonAlphanumericCharacter||(f.containsNonAlphanumericCharacter=ee))}}class Ao{constructor(f,m,b,U){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Qr(this),this.idTokenSubscription=new Qr(this),this.beforeStateQueue=new Rn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=K(m)),this._initializationPromise=this.queue((0,v.Z)(function*(){var U,ee;if(!b._deleted&&(b.persistenceManager=yield Gt.create(b,f),!b._deleted)){if(null!==(U=b._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(ee=b.currentUser)||void 0===ee?void 0:ee.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,v.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,v.Z)(function*(){var b;const U=yield m.assertedPersistence.getCurrentUser();let ee=U,ve=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Be=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,ct=ee?._redirectEventId,$t=yield m.tryRedirectSignIn(f);(!Be||Be===ct)&&$t?.user&&(ee=$t.user,ve=!0)}if(!ee)return m.directlySetCurrentUser(null);if(!ee._redirectEventId){if(ve)try{yield m.beforeStateQueue.runMiddleware(ee)}catch(Be){ee=U,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Be))}return ee?m.reloadAndSetCurrentUserOrClear(ee):m.directlySetCurrentUser(null)}return ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===ee._redirectEventId?m.directlySetCurrentUser(ee):m.reloadAndSetCurrentUserOrClear(ee)})()}tryRedirectSignIn(f){var m=this;return(0,v.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,v.Z)(function*(){try{yield Rr(f)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function Tn(){if(typeof navigator>"u")return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var f=this;return(0,v.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,v.Z)(function*(){const b=f?(0,u.m9)(f):null;return b&&ie(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,v.Z)(function*(){if(!b._deleted)return f&&ie(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,v.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,v.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,v.Z)(function*(){yield m.assertedPersistence.setPersistence(K(f))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(f){var m=this;return(0,v.Z)(function*(){m._getPasswordPolicyInternal()||(yield m._updatePasswordPolicy());const b=m._getPasswordPolicyInternal();return b.schemaVersion!==m.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(m._errorFactory.create("unsupported-password-policy-schema-version",{})):b.validatePassword(f)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var f=this;return(0,v.Z)(function*(){const m=yield function Nr(T){return ln.apply(this,arguments)}(f),b=new Qo(m);null===f.tenantId?f._projectPasswordPolicy=b:f._tenantPasswordPolicies[f.tenantId]=b})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new u.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}authStateReady(){return new Promise((f,m)=>{if(this.currentUser)f();else{const b=this.onAuthStateChanged(()=>{b(),f()},m)}})}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,v.Z)(function*(){const U=yield b.getOrInitRedirectPersistenceManager(m);return null===f?U.removeCurrentUser():U.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,v.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&K(f)||m._popupRedirectResolver;ie(b,m,"argument-error"),m.redirectPersistenceManager=yield Gt.create(m,[K(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,v.Z)(function*(){var b,U;return m._isInitialized&&(yield m.queue((0,v.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(U=m.redirectUser)||void 0===U?void 0:U._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,v.Z)(function*(){if(f===m.currentUser)return m.queue((0,v.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,U){if(this._deleted)return()=>{};const ee="function"==typeof m?m:m.next.bind(m);let ve=!1;const Be=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(Be,this,"internal-error"),Be.then(()=>{ve||ee(this.currentUser)}),"function"==typeof m){const ct=f.addObserver(m,b,U);return()=>{ve=!0,ct()}}{const ct=f.addObserver(m);return()=>{ve=!0,ct()}}}directlySetCurrentUser(f){var m=this;return(0,v.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=gr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,v.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const U=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();U&&(b["X-Firebase-Client"]=U);const ee=yield f._getAppCheckToken();return ee&&(b["X-Firebase-AppCheck"]=ee),b})()}_getAppCheckToken(){var f=this;return(0,v.Z)(function*(){var m;const b=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function Ge(T,...f){De.logLevel<=fe.in.WARN&&De.warn(`Auth (${he.Jn}): ${T}`,...f)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function mr(T){return(0,u.m9)(T)}class Qr{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,u.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function eo(T){return`__${T}${Math.floor(1e6*Math.random())}`}function Qs(T){const f=T.indexOf(":");return f<0?"":T.substr(0,f+1)}function Xo(T){if(!T)return null;const f=Number(T);return isNaN(f)?null:f}class ms{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return rt("not implemented")}_getIdTokenResponse(f){return rt("not implemented")}_linkToIdToken(f,m){return rt("not implemented")}_getReauthenticationResolver(f){return rt("not implemented")}}function bt(T,f){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,v.Z)(function*(T,f){return function In(T,f,m,b){return kt.apply(this,arguments)}(T,"POST","/v1/accounts:signInWithIdp",Oe(T,f))})).apply(this,arguments)}class Lr extends ms{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new Lr(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):we("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:U}=m,ee=(0,oe._T)(m,["providerId","signInMethod"]);if(!b||!U)return null;const ve=new Lr(b,U);return ve.idToken=ee.idToken||void 0,ve.accessToken=ee.accessToken||void 0,ve.secret=ee.secret,ve.nonce=ee.nonce,ve.pendingToken=ee.pendingToken||null,ve}_getIdTokenResponse(f){return bt(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,bt(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,bt(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,u.xO)(m)}return f}}class Ki{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class oo extends Ki{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}let Sn=(()=>{class T extends oo{constructor(){super("github.com")}static credential(m){return Lr._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return T.credentialFromTaggedObject(m)}static credentialFromError(m){return T.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return T.credential(m.oauthAccessToken)}catch{return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Mn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,U=!1){return(0,v.Z)(function*(){const ee=yield J._fromIdTokenResponse(f,b,U),ve=Vs(b);return new Mn({user:ee,providerId:ve,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,v.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const U=Vs(b);return new Mn({user:f,providerId:U,_tokenResponse:b,operationType:m})})()}}function Vs(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}class Go extends u.ZR{constructor(f,m,b,U){var ee;super(m.code,m.message),this.operationType=b,this.user=U,Object.setPrototypeOf(this,Go.prototype),this.customData={appName:f.name,tenantId:null!==(ee=f.tenantId)&&void 0!==ee?ee:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,U){return new Go(f,m,b,U)}}function Li(T,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(T):m._getIdTokenResponse(T)).catch(ee=>{throw"auth/multi-factor-auth-required"===ee.code?Go._fromErrorAndOperation(T,ee,f,b):ee})}function y(){return(y=(0,v.Z)(function*(T,f,m=!1){const b=yield Rt(T,f._linkToIdToken(T.auth,yield T.getIdToken()),m);return Mn._forOperation(T,"link",b)})).apply(this,arguments)}function _e(){return(_e=(0,v.Z)(function*(T,f,m=!1){const{auth:b}=T,U="reauthenticate";try{const ee=yield Rt(T,Li(b,U,f,T),m);ie(ee.idToken,b,"internal-error");const ve=vn(ee.idToken);ie(ve,b,"internal-error");const{sub:Be}=ve;return ie(T.uid===Be,b,"user-mismatch"),Mn._forOperation(T,U,ee)}catch(ee){throw"auth/user-not-found"===ee?.code&&we(b,"user-mismatch"),ee}})).apply(this,arguments)}function qe(){return(qe=(0,v.Z)(function*(T,f,m=!1){const b="signIn",U=yield Li(T,b,f),ee=yield Mn._fromIdTokenResponse(T,b,U);return m||(yield T._updateCurrentUser(ee.user)),ee})).apply(this,arguments)}function xs(T,f,m,b){return(0,u.m9)(T).onAuthStateChanged(f,m,b)}function so(T){return(0,u.m9)(T).signOut()}const ba="__sak";class vc{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const pn=(()=>{class T extends vc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ea(){const T=(0,u.z$)();return Ut(T)||Se(T)}()&&function cn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Xt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const U=this.storage.getItem(b),ee=this.localCache[b];U!==ee&&m(b,ee,U)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((Be,ct,$t)=>{this.notifyListeners(Be,$t)});const U=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Be=this.storage.getItem(U);if(m.newValue!==Be)null!==m.newValue?this.storage.setItem(U,m.newValue):this.storage.removeItem(U);else if(this.localCache[U]===m.newValue&&!b)return}const ee=()=>{const Be=this.storage.getItem(U);!b&&this.localCache[U]===Be||this.notifyListeners(U,Be)},ve=this.storage.getItem(U);!function Jt(){return(0,u.w1)()&&10===document.documentMode}()||ve===m.newValue||m.newValue===m.oldValue?ee():setTimeout(ee,10)}notifyListeners(m,b){this.localCache[m]=b;const U=this.listeners[m];if(U)for(const ee of Array.from(U))ee(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var U=()=>super._set,ee=this;return(0,v.Z)(function*(){yield U().call(ee,m,b),ee.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,U=this;return(0,v.Z)(function*(){const ee=yield b().call(U,m);return U.localCache[m]=JSON.stringify(ee),ee})()}_remove(m){var b=()=>super._remove,U=this;return(0,v.Z)(function*(){yield b().call(U,m),delete U.localCache[m]})()}}return T.type="LOCAL",T})(),Hu=(()=>{class T extends vc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return T.type="SESSION",T})();let Bt=(()=>{class T{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(ee=>ee.isListeningto(m));if(b)return b;const U=new T(m);return this.receivers.push(U),U}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,v.Z)(function*(){const U=m,{eventId:ee,eventType:ve,data:Be}=U.data,ct=b.handlersMap[ve];if(!ct?.size)return;U.ports[0].postMessage({status:"ack",eventId:ee,eventType:ve});const $t=Array.from(ct).map(function(){var Fn=(0,v.Z)(function*(Qi){return Qi(U.origin,Be)});return function(Qi){return Fn.apply(this,arguments)}}()),Vt=yield function Ot(T){return Promise.all(T.map(function(){var f=(0,v.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}($t);U.ports[0].postMessage({status:"done",eventId:ee,eventType:ve,response:Vt})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function Rs(T="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return T+m}class Qn{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var U=this;return(0,v.Z)(function*(){const ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!ee)throw new Error("connection_unavailable");let ve,Be;return new Promise((ct,$t)=>{const Vt=Rs("",20);ee.port1.start();const Fn=setTimeout(()=>{$t(new Error("unsupported_event"))},b);Be={messageChannel:ee,onMessage(Qi){const sc=Qi;if(sc.data.eventId===Vt)switch(sc.data.status){case"ack":clearTimeout(Fn),ve=setTimeout(()=>{$t(new Error("timeout"))},3e3);break;case"done":clearTimeout(ve),ct(sc.data.response);break;default:clearTimeout(Fn),clearTimeout(ve),$t(new Error("invalid_response"))}}},U.handlers.add(Be),ee.port1.addEventListener("message",Be.onMessage),U.target.postMessage({eventType:f,eventId:Vt,data:m},[ee.port2])}).finally(()=>{Be&&U.removeMessageHandler(Be)})})()}}function pi(){return window}function Dt(){return typeof pi().WorkerGlobalScope<"u"&&"function"==typeof pi().importScripts}function Ic(){return(Ic=(0,v.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $s="firebaseLocalStorageDb",Je="firebaseLocalStorage",jn="fbase_key";class ta{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ji(T,f){return T.transaction([Je],f?"readwrite":"readonly").objectStore(Je)}function Xa(){const T=indexedDB.open($s,1);return new Promise((f,m)=>{T.addEventListener("error",()=>{m(T.error)}),T.addEventListener("upgradeneeded",()=>{const b=T.result;try{b.createObjectStore(Je,{keyPath:jn})}catch(U){m(U)}}),T.addEventListener("success",(0,v.Z)(function*(){const b=T.result;b.objectStoreNames.contains(Je)?f(b):(b.close(),yield function vi(){const T=indexedDB.deleteDatabase($s);return new ta(T).toPromise()}(),f(yield Xa()))}))})}function Aa(T,f,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,v.Z)(function*(T,f,m){const b=ji(T,!0).put({[jn]:f,value:m});return new ta(b).toPromise()})).apply(this,arguments)}function Re(){return(Re=(0,v.Z)(function*(T,f){const m=ji(T,!1).get(f),b=yield new ta(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function tc(T,f){const m=ji(T,!0).delete(f);return new ta(m).toPromise()}const ao=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,v.Z)(function*(){return m.db||(m.db=yield Xa()),m.db})()}_withRetries(m){var b=this;return(0,v.Z)(function*(){let U=0;for(;;)try{const ee=yield b._openDb();return yield m(ee)}catch(ee){if(U++>3)throw ee;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,v.Z)(function*(){return Dt()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,v.Z)(function*(){m.receiver=Bt._getInstance(function rh(){return Dt()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,v.Z)(function*(U,ee){return{keyProcessed:(yield m._poll()).includes(ee.key)}});return function(U,ee){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,v.Z)(function*(U,ee){return["keyChanged"]});return function(U,ee){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,v.Z)(function*(){var b,U;if(m.activeServiceWorker=yield function os(){return Ic.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Qn(m.activeServiceWorker);const ee=yield m.sender._send("ping",{},800);ee&&null!==(b=ee[0])&&void 0!==b&&b.fulfilled&&null!==(U=ee[0])&&void 0!==U&&U.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,v.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function Ca(){var T;return(null===(T=navigator?.serviceWorker)||void 0===T?void 0:T.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,v.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Xa();return yield Aa(m,ba,"1"),yield tc(m,ba),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,v.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var U=this;return(0,v.Z)(function*(){return U._withPendingWrite((0,v.Z)(function*(){return yield U._withRetries(ee=>Aa(ee,m,b)),U.localCache[m]=b,U.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,v.Z)(function*(){const U=yield b._withRetries(ee=>function ec(T,f){return Re.apply(this,arguments)}(ee,m));return b.localCache[m]=U,U})()}_remove(m){var b=this;return(0,v.Z)(function*(){return b._withPendingWrite((0,v.Z)(function*(){return yield b._withRetries(U=>tc(U,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,v.Z)(function*(){const b=yield m._withRetries(ve=>{const Be=ji(ve,!1).getAll();return new ta(Be).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const U=[],ee=new Set;for(const{fbase_key:ve,value:Be}of b)ee.add(ve),JSON.stringify(m.localCache[ve])!==JSON.stringify(Be)&&(m.notifyListeners(ve,Be),U.push(ve));for(const ve of Object.keys(m.localCache))m.localCache[ve]&&!ee.has(ve)&&(m.notifyListeners(ve,null),U.push(ve));return U})()}notifyListeners(m,b){this.localCache[m]=b;const U=this.listeners[m];if(U)for(const ee of Array.from(U))ee(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,v.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function Zo(T,f){return f?K(f):(ie(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}eo("rcb"),new Wt(3e4,6e4);class Zu extends ms{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return bt(f,this._buildIdpRequest())}_linkToIdToken(f,m){return bt(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return bt(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function qu(T){return function Fe(T,f){return qe.apply(this,arguments)}(T.auth,new Zu(T),T.bypassAuthState)}function Qc(T){const{auth:f,user:m}=T;return ie(m,f,"internal-error"),function X(T,f){return _e.apply(this,arguments)}(m,new Zu(T),T.bypassAuthState)}function Jc(T){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,v.Z)(function*(T){const{auth:f,user:m}=T;return ie(m,f,"internal-error"),function g(T,f){return y.apply(this,arguments)}(m,new Zu(T),T.bypassAuthState)})).apply(this,arguments)}class eu{constructor(f,m,b,U,ee=!1){this.auth=f,this.resolver=b,this.user=U,this.bypassAuthState=ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,v.Z)(function*(b,U){f.pendingPromise={resolve:b,reject:U};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(ee){f.reject(ee)}});return function(b,U){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,v.Z)(function*(){const{urlResponse:b,sessionId:U,postBody:ee,tenantId:ve,error:Be,type:ct}=f;if(Be)return void m.reject(Be);const $t={auth:m.auth,requestUri:b,sessionId:U,tenantId:ve||void 0,postBody:ee||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ct)($t))}catch(Vt){m.reject(Vt)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return qu;case"linkViaPopup":case"linkViaRedirect":return Jc;case"reauthViaPopup":case"reauthViaRedirect":return Qc;default:we(this.auth,"internal-error")}}resolve(f){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Bi=new Wt(2e3,1e4);function sh(T,f,m){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,v.Z)(function*(T,f,m){const b=mr(T);!function nt(T,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&we(T,"argument-error"),ht(T,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(T,f,Ki);const U=Zo(b,m);return new Cr(b,"signInViaPopup",f,U).executeNotNull()})).apply(this,arguments)}let Cr=(()=>{class T extends eu{constructor(m,b,U,ee,ve){super(m,b,ee,ve),this.provider=U,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var m=this;return(0,v.Z)(function*(){const b=yield m.execute();return ie(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,v.Z)(function*(){He(1===m.filter.length,"Popup operations only handle one event");const b=Rs();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(U=>{m.reject(U)}),m.resolver._isIframeWebStorageSupported(m.auth,U=>{U||m.reject(wt(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(wt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,U;this.pollId=null!==(U=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(wt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Bi.get())};m()}}return T.currentPopupAction=null,T})();const ch="pendingRedirect",zs=new Map;class as extends eu{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,v.Z)(function*(){let b=zs.get(m.auth._key());if(!b){try{const ee=(yield function tp(T,f){return Ku.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(ee)}catch(U){b=()=>Promise.reject(U)}zs.set(m.auth._key(),b)}return m.bypassAuthState||zs.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,v.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const U=yield b.auth._redirectUserForId(f.eventId);if(U)return b.user=U,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,v.Z)(function*(){})()}cleanUp(){}}function Ku(){return(Ku=(0,v.Z)(function*(T,f){const m=function Yu(T){return Tt(ch,T.config.apiKey,T.name)}(f),b=function cs(T){return K(T._redirectPersistence)}(T);if(!(yield b._isAvailable()))return!1;const U="true"===(yield b._get(m));return yield b._remove(m),U})).apply(this,arguments)}function Jr(T,f){zs.set(T._key(),f)}function Sa(T,f){return wc.apply(this,arguments)}function wc(){return(wc=(0,v.Z)(function*(T,f,m=!1){const b=mr(T),U=Zo(b,f),ve=yield new as(b,U,m).execute();return ve&&!m&&(delete ve.user._redirectEventId,yield b._persistUserIfCurrent(ve.user),yield b._setRedirectUser(null,f)),ve})).apply(this,arguments)}class xa{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function nu(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ql(T);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!ql(f)){const U=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(wt(this.auth,U))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(sa(f))}saveEventToCache(f){this.cachedEventUids.add(sa(f)),this.lastProcessedEventTime=Date.now()}}function sa(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(f=>f).join("-")}function ql({type:T,error:f}){return"unknown"===T&&"auth/no-auth-event"===f?.code}function Pa(){return(Pa=(0,v.Z)(function*(T,f={}){return We(T,"GET","/v1/projects",f)})).apply(this,arguments)}const np=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vo=/^https?/;function ru(){return ru=(0,v.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:f}=yield function Cc(T){return Pa.apply(this,arguments)}(T);for(const m of f)try{if(zi(m))return}catch{}we(T,"unauthorized-domain")}),ru.apply(this,arguments)}function zi(T){const f=mt(),{protocol:m,hostname:b}=new URL(f);if(T.startsWith("chrome-extension://")){const ve=new URL(T);return""===ve.hostname&&""===b?"chrome-extension:"===m&&T.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ve.hostname===b}if(!Vo.test(m))return!1;if(np.test(T))return b===T;const U=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(b)}const lh=new Wt(3e4,6e4);function Or(){const T=pi().___jsl;if(T?.H)for(const f of Object.keys(T.H))if(T.H[f].r=T.H[f].r||[],T.H[f].L=T.H[f].L||[],T.H[f].r=[...T.H[f].L],T.CP)for(let m=0;m<T.CP.length;m++)T.CP[m]=null}let Zs=null;function ic(T){return Zs=Zs||function Ws(T){return new Promise((f,m)=>{var b,U,ee;function ve(){Or(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Or(),m(wt(T,"network-request-failed"))},timeout:lh.get()})}if(null!==(U=null===(b=pi().gapi)||void 0===b?void 0:b.iframes)&&void 0!==U&&U.Iframe)f(gapi.iframes.getContext());else{if(null===(ee=pi().gapi)||void 0===ee||!ee.load){const Be=eo("iframefcb");return pi()[Be]=()=>{gapi.load?ve():m(wt(T,"network-request-failed"))},function kn(T){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",T),b.onload=f,b.onerror=U=>{const ee=wt("internal-error");ee.customData=U,m(ee)},b.type="text/javascript",b.charset="UTF-8",function Xi(){var T,f;return null!==(f=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==f?f:document}().appendChild(b)})}(`https://apis.google.com/js/api.js?onload=${Be}`).catch(ct=>m(ct))}ve()}}).catch(f=>{throw Zs=null,f})}(T),Zs}const qs=new Wt(5e3,15e3),dh="__/auth/iframe",Xu="emulator/auth/iframe",On={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ac(T){const f=T.config;ie(f.authDomain,T,"auth-domain-config-required");const m=f.emulator?$n(f,Xu):`https://${T.config.authDomain}/${dh}`,b={apiKey:f.apiKey,appName:T.name,v:he.Jn},U=Sr.get(T.config.apiHost);U&&(b.eid=U);const ee=T._getFrameworks();return ee.length&&(b.fw=ee.join(",")),`${m}?${(0,u.xO)(b).slice(1)}`}function el(){return el=(0,v.Z)(function*(T){const f=yield ic(T),m=pi().gapi;return ie(m,T,"internal-error"),f.open({where:document.body,url:Ac(T),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:On,dontclear:!0},b=>new Promise(function(){var U=(0,v.Z)(function*(ee,ve){yield b.restyle({setHideOnLeave:!1});const Be=wt(T,"network-request-failed"),ct=pi().setTimeout(()=>{ve(Be)},qs.get());function $t(){pi().clearTimeout(ct),ee(b)}b.ping($t).then($t,()=>{ve(Be)})});return function(ee,ve){return U.apply(this,arguments)}}()))}),el.apply(this,arguments)}const rp={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ph{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const gh="__/auth/handler",iu="emulator/auth/handler",mh=encodeURIComponent("fac");function us(T,f,m,b,U,ee){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,v.Z)(function*(T,f,m,b,U,ee){ie(T.config.authDomain,T,"auth-domain-config-required"),ie(T.config.apiKey,T,"invalid-api-key");const ve={apiKey:T.config.apiKey,appName:T.name,authType:m,redirectUrl:b,v:he.Jn,eventId:U};if(f instanceof Ki){f.setDefaultLanguage(T.languageCode),ve.providerId=f.providerId||"",(0,u.xb)(f.getCustomParameters())||(ve.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Vt,Fn]of Object.entries(ee||{}))ve[Vt]=Fn}if(f instanceof oo){const Vt=f.getScopes().filter(Fn=>""!==Fn);Vt.length>0&&(ve.scopes=Vt.join(","))}T.tenantId&&(ve.tid=T.tenantId);const Be=ve;for(const Vt of Object.keys(Be))void 0===Be[Vt]&&delete Be[Vt];const ct=yield T._getAppCheckToken(),$t=ct?`#${mh}=${encodeURIComponent(ct)}`:"";return`${function _h({config:T}){return T.emulator?$n(T,iu):`https://${T.authDomain}/${gh}`}(T)}?${(0,u.xO)(Be).slice(1)}${$t}`})).apply(this,arguments)}const Ma="webStorageSupport",ou=class ks{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hu,this._completeRedirectFn=Sa,this._overrideRedirectResult=Jr}_openPopup(f,m,b,U){var ee=this;return(0,v.Z)(function*(){var ve;He(null===(ve=ee.eventManagers[f._key()])||void 0===ve?void 0:ve.manager,"_initialize() not called before _openPopup()");const Be=yield us(f,m,b,mt(),U);return function sp(T,f,m,b=500,U=600){const ee=Math.max((window.screen.availHeight-U)/2,0).toString(),ve=Math.max((window.screen.availWidth-b)/2,0).toString();let Be="";const ct=Object.assign(Object.assign({},rp),{width:b.toString(),height:U.toString(),top:ee,left:ve}),$t=(0,u.z$)().toLowerCase();m&&(Be=Zn($t)?"_blank":m),hn($t)&&(f=f||"http://localhost",ct.scrollbars="yes");const Vt=Object.entries(ct).reduce((Qi,[sc,cu])=>`${Qi}${sc}=${cu},`,"");if(function jt(T=(0,u.z$)()){var f;return Se(T)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}($t)&&"_self"!==Be)return function Hi(T,f){const m=document.createElement("a");m.href=T,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",Be),new ph(null);const Fn=window.open(f||"",Be,Vt);ie(Fn,T,"popup-blocked");try{Fn.focus()}catch{}return new ph(Fn)}(f,Be,Rs())})()}_openRedirect(f,m,b,U){var ee=this;return(0,v.Z)(function*(){return yield ee._originValidation(f),function Wr(T){pi().location.href=T}(yield us(f,m,b,mt(),U)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:U,promise:ee}=this.eventManagers[m];return U?Promise.resolve(U):(He(ee,"If manager is not set, promise should be"),ee)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,v.Z)(function*(){const b=yield function hh(T){return el.apply(this,arguments)}(f),U=new xa(f);return b.register("authEvent",ee=>(ie(ee?.authEvent,f,"invalid-auth-event"),{status:U.onEvent(ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:U},m.iframes[f._key()]=b,U})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(Ma,{type:Ma},U=>{var ee;const ve=null===(ee=U?.[0])||void 0===ee?void 0:ee[Ma];void 0!==ve&&m(!!ve),we(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function uh(T){return ru.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Xt()||Ut()||Se()}};var tl="@firebase/auth";class Dc{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,v.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rl=(0,u.Pz)("authIdTokenMaxAge")||300;let ka=null;const au=T=>function(){var f=(0,v.Z)(function*(m){const b=m&&(yield m.getIdTokenResult()),U=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(U&&U>rl)return;const ee=b?.token;ka!==ee&&(ka=ee,yield fetch(T,{method:ee?"POST":"DELETE",headers:ee?{Authorization:`Bearer ${ee}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Sc(T=(0,he.Mq)()){const f=(0,he.qX)(T,"auth");if(f.isInitialized())return f.getImmediate();const m=function ci(T,f){const m=(0,he.qX)(T,"auth");if(m.isInitialized()){const U=m.getImmediate(),ee=m.getOptions();if((0,u.vZ)(ee,f??{}))return U;we(U,"already-initialized")}return m.initialize({options:f})}(T,{popupRedirectResolver:ou,persistence:[ao,pn,Hu]}),b=(0,u.Pz)("authTokenSyncURL");if(b){const ee=au(b);(function _o(T,f,m){(0,u.m9)(T).beforeAuthStateChanged(f,m)})(m,ee,()=>ee(m.currentUser)),function Gr(T,f,m,b){(0,u.m9)(T).onIdTokenChanged(f,m,b)}(m,ve=>ee(ve))}const U=(0,u.q4)("auth");return U&&function Ls(T,f,m){const b=mr(T);ie(b._canInitEmulator,b,"emulator-config-failed"),ie(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const U=!!m?.disableWarnings,ee=Qs(f),{host:ve,port:Be}=function ui(T){const f=Qs(T),m=/(\/\/)?([^?#/]+)/.exec(T.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(b);if(U){const ee=U[1];return{host:ee,port:Xo(b.substr(ee.length+1))}}{const[ee,ve]=b.split(":");return{host:ee,port:Xo(ve)}}}(f);b.config.emulator={url:`${ee}//${ve}${null===Be?"":`:${Be}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ve,port:Be,protocol:ee.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function ws(){function T(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",T):T())}()}(m,`http://${U}`),m}!function vh(T){(0,he.Xd)(new H.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),U=f.getProvider("heartbeat"),ee=f.getProvider("app-check-internal"),{apiKey:ve,authDomain:Be}=b.options;ie(ve&&!ve.includes(":"),"invalid-api-key",{appName:b.name});const ct={apiKey:ve,authDomain:Be,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gr(T)},$t=new Ao(b,U,ee,ct);return function Wi(T,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(K);f?.errorMap&&T._updateErrorMap(f.errorMap),T._initializeWithPersistence(b,f?.popupRedirectResolver)}($t,m),$t},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,he.Xd)(new H.wA("auth-internal",f=>{const m=mr(f.getProvider("auth").getImmediate());return new Dc(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,he.KN)(tl,"1.3.2",function Uo(T){switch(T){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(T)),(0,he.KN)(tl,"1.3.2","esm2017")}("Browser")},6480:(lt,be,O)=>{"use strict";O.d(be,{Dx:()=>ei,H7:()=>sn,b2:()=>un,q6:()=>Zt});var v=O(4532),u=O(6575);class he extends u.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fe extends he{static makeCurrent(){(0,u.HT)(new fe)}onAndCancel(J,Y,K){return J.addEventListener(Y,K),()=>{J.removeEventListener(Y,K)}}dispatchEvent(J,Y){J.dispatchEvent(Y)}remove(J){J.parentNode&&J.parentNode.removeChild(J)}createElement(J,Y){return(Y=Y||this.getDefaultDocument()).createElement(J)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(J){return J.nodeType===Node.ELEMENT_NODE}isShadowRoot(J){return J instanceof DocumentFragment}getGlobalEventTarget(J,Y){return"window"===Y?window:"document"===Y?J:"body"===Y?J.body:null}getBaseHref(J){const Y=function H(){return oe=oe||document.querySelector("base"),oe?oe.getAttribute("href"):null}();return null==Y?null:function ce(Z){ne=ne||document.createElement("a"),ne.setAttribute("href",Z);const J=ne.pathname;return"/"===J.charAt(0)?J:`/${J}`}(Y)}resetBaseElement(){oe=null}getUserAgent(){return window.navigator.userAgent}getCookie(J){return(0,u.Mx)(document.cookie,J)}}let ne,oe=null,j=(()=>{class Z{build(){return new XMLHttpRequest}static{this.\u0275fac=function(K){return new(K||Z)}}static{this.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();const B=new v.OlP("EventManagerPlugins");let re=(()=>{class Z{constructor(Y,K){this._zone=K,this._eventNameToPlugin=new Map,Y.forEach(Ae=>{Ae.manager=this}),this._plugins=Y.slice().reverse()}addEventListener(Y,K,Ae){return this._findPluginFor(K).addEventListener(Y,K,Ae)}getZone(){return this._zone}_findPluginFor(Y){let K=this._eventNameToPlugin.get(Y);if(K)return K;if(K=this._plugins.find(Xe=>Xe.supports(Y)),!K)throw new v.vHH(5101,!1);return this._eventNameToPlugin.set(Y,K),K}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(B),v.LFG(v.R0b))}}static{this.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();class se{constructor(J){this._doc=J}}const ue="ng-app-id";let Q=(()=>{class Z{constructor(Y,K,Ae,Xe={}){this.doc=Y,this.appId=K,this.nonce=Ae,this.platformId=Xe,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,u.PM)(Xe),this.resetHostNodes()}addStyles(Y){for(const K of Y)1===this.changeUsageCount(K,1)&&this.onStyleAdded(K)}removeStyles(Y){for(const K of Y)this.changeUsageCount(K,-1)<=0&&this.onStyleRemoved(K)}ngOnDestroy(){const Y=this.styleNodesInDOM;Y&&(Y.forEach(K=>K.remove()),Y.clear());for(const K of this.getAllStyles())this.onStyleRemoved(K);this.resetHostNodes()}addHost(Y){this.hostNodes.add(Y);for(const K of this.getAllStyles())this.addStyleToHost(Y,K)}removeHost(Y){this.hostNodes.delete(Y)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Y){for(const K of this.hostNodes)this.addStyleToHost(K,Y)}onStyleRemoved(Y){const K=this.styleRef;K.get(Y)?.elements?.forEach(Ae=>Ae.remove()),K.delete(Y)}collectServerRenderedStyles(){const Y=this.doc.head?.querySelectorAll(`style[${ue}="${this.appId}"]`);if(Y?.length){const K=new Map;return Y.forEach(Ae=>{null!=Ae.textContent&&K.set(Ae.textContent,Ae)}),K}return null}changeUsageCount(Y,K){const Ae=this.styleRef;if(Ae.has(Y)){const Xe=Ae.get(Y);return Xe.usage+=K,Xe.usage}return Ae.set(Y,{usage:K,elements:[]}),K}getStyleElement(Y,K){const Ae=this.styleNodesInDOM,Xe=Ae?.get(K);if(Xe?.parentNode===Y)return Ae.delete(K),Xe.removeAttribute(ue),Xe;{const Tt=this.doc.createElement("style");return this.nonce&&Tt.setAttribute("nonce",this.nonce),Tt.textContent=K,this.platformIsServer&&Tt.setAttribute(ue,this.appId),Tt}}addStyleToHost(Y,K){const Ae=this.getStyleElement(Y,K);Y.appendChild(Ae);const Xe=this.styleRef,Tt=Xe.get(K)?.elements;Tt?Tt.push(Ae):Xe.set(K,{elements:[Ae],usage:1})}resetHostNodes(){const Y=this.hostNodes;Y.clear(),Y.add(this.doc.head)}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(u.K0),v.LFG(v.AFp),v.LFG(v.Ojb,8),v.LFG(v.Lbi))}}static{this.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();const ge={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ie=/%COMP%/g,wt=new v.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ft(Z,J){return J.map(Y=>Y.replace(Ie,Z))}let ie=(()=>{class Z{constructor(Y,K,Ae,Xe,Tt,Gt,Ht,hn=null){this.eventManager=Y,this.sharedStylesHost=K,this.appId=Ae,this.removeStylesOnCompDestroy=Xe,this.doc=Tt,this.platformId=Gt,this.ngZone=Ht,this.nonce=hn,this.rendererByCompId=new Map,this.platformIsServer=(0,u.PM)(Gt),this.defaultRenderer=new rt(Y,Tt,Ht,this.platformIsServer)}createRenderer(Y,K){if(!Y||!K)return this.defaultRenderer;this.platformIsServer&&K.encapsulation===v.ifc.ShadowDom&&(K={...K,encapsulation:v.ifc.Emulated});const Ae=this.getOrCreateRenderer(Y,K);return Ae instanceof Tn?Ae.applyToHost(Y):Ae instanceof Nn&&Ae.applyStyles(),Ae}getOrCreateRenderer(Y,K){const Ae=this.rendererByCompId;let Xe=Ae.get(K.id);if(!Xe){const Tt=this.doc,Gt=this.ngZone,Ht=this.eventManager,hn=this.sharedStylesHost,Ut=this.removeStylesOnCompDestroy,Zn=this.platformIsServer;switch(K.encapsulation){case v.ifc.Emulated:Xe=new Tn(Ht,hn,K,this.appId,Ut,Tt,Gt,Zn);break;case v.ifc.ShadowDom:return new pt(Ht,hn,Y,K,Tt,Gt,this.nonce,Zn);default:Xe=new Nn(Ht,hn,K,Ut,Tt,Gt,Zn)}Ae.set(K.id,Xe)}return Xe}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(re),v.LFG(Q),v.LFG(v.AFp),v.LFG(wt),v.LFG(u.K0),v.LFG(v.Lbi),v.LFG(v.R0b),v.LFG(v.Ojb))}}static{this.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();class rt{constructor(J,Y,K,Ae){this.eventManager=J,this.doc=Y,this.ngZone=K,this.platformIsServer=Ae,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(J,Y){return Y?this.doc.createElementNS(ge[Y]||Y,J):this.doc.createElement(J)}createComment(J){return this.doc.createComment(J)}createText(J){return this.doc.createTextNode(J)}appendChild(J,Y){(Et(J)?J.content:J).appendChild(Y)}insertBefore(J,Y,K){J&&(Et(J)?J.content:J).insertBefore(Y,K)}removeChild(J,Y){J&&J.removeChild(Y)}selectRootElement(J,Y){let K="string"==typeof J?this.doc.querySelector(J):J;if(!K)throw new v.vHH(-5104,!1);return Y||(K.textContent=""),K}parentNode(J){return J.parentNode}nextSibling(J){return J.nextSibling}setAttribute(J,Y,K,Ae){if(Ae){Y=Ae+":"+Y;const Xe=ge[Ae];Xe?J.setAttributeNS(Xe,Y,K):J.setAttribute(Y,K)}else J.setAttribute(Y,K)}removeAttribute(J,Y,K){if(K){const Ae=ge[K];Ae?J.removeAttributeNS(Ae,Y):J.removeAttribute(`${K}:${Y}`)}else J.removeAttribute(Y)}addClass(J,Y){J.classList.add(Y)}removeClass(J,Y){J.classList.remove(Y)}setStyle(J,Y,K,Ae){Ae&(v.JOm.DashCase|v.JOm.Important)?J.style.setProperty(Y,K,Ae&v.JOm.Important?"important":""):J.style[Y]=K}removeStyle(J,Y,K){K&v.JOm.DashCase?J.style.removeProperty(Y):J.style[Y]=""}setProperty(J,Y,K){J[Y]=K}setValue(J,Y){J.nodeValue=Y}listen(J,Y,K){if("string"==typeof J&&!(J=(0,u.q)().getGlobalEventTarget(this.doc,J)))throw new Error(`Unsupported event target ${J} for event ${Y}`);return this.eventManager.addEventListener(J,Y,this.decoratePreventDefault(K))}decoratePreventDefault(J){return Y=>{if("__ngUnwrap__"===Y)return J;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>J(Y)):J(Y))&&Y.preventDefault()}}}function Et(Z){return"TEMPLATE"===Z.tagName&&void 0!==Z.content}class pt extends rt{constructor(J,Y,K,Ae,Xe,Tt,Gt,Ht){super(J,Xe,Tt,Ht),this.sharedStylesHost=Y,this.hostEl=K,this.shadowRoot=K.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const hn=ft(Ae.id,Ae.styles);for(const Ut of hn){const Zn=document.createElement("style");Gt&&Zn.setAttribute("nonce",Gt),Zn.textContent=Ut,this.shadowRoot.appendChild(Zn)}}nodeOrShadowRoot(J){return J===this.hostEl?this.shadowRoot:J}appendChild(J,Y){return super.appendChild(this.nodeOrShadowRoot(J),Y)}insertBefore(J,Y,K){return super.insertBefore(this.nodeOrShadowRoot(J),Y,K)}removeChild(J,Y){return super.removeChild(this.nodeOrShadowRoot(J),Y)}parentNode(J){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(J)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Nn extends rt{constructor(J,Y,K,Ae,Xe,Tt,Gt,Ht){super(J,Xe,Tt,Gt),this.sharedStylesHost=Y,this.removeStylesOnCompDestroy=Ae,this.styles=Ht?ft(Ht,K.styles):K.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Tn extends Nn{constructor(J,Y,K,Ae,Xe,Tt,Gt,Ht){const hn=Ae+"-"+K.id;super(J,Y,K,Xe,Tt,Gt,Ht,hn),this.contentAttr=function ht(Z){return"_ngcontent-%COMP%".replace(Ie,Z)}(hn),this.hostAttr=function nt(Z){return"_nghost-%COMP%".replace(Ie,Z)}(hn)}applyToHost(J){this.applyStyles(),this.setAttribute(J,this.hostAttr,"")}createElement(J,Y){const K=super.createElement(J,Y);return super.setAttribute(K,this.contentAttr,""),K}}let Wt=(()=>{class Z extends se{constructor(Y){super(Y)}supports(Y){return!0}addEventListener(Y,K,Ae){return Y.addEventListener(K,Ae,!1),()=>this.removeEventListener(Y,K,Ae)}removeEventListener(Y,K,Ae){return Y.removeEventListener(K,Ae)}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(u.K0))}}static{this.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();const $n=["alt","control","meta","shift"],xe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ne={alt:Z=>Z.altKey,control:Z=>Z.ctrlKey,meta:Z=>Z.metaKey,shift:Z=>Z.shiftKey};let ke=(()=>{class Z extends se{constructor(Y){super(Y)}supports(Y){return null!=Z.parseEventName(Y)}addEventListener(Y,K,Ae){const Xe=Z.parseEventName(K),Tt=Z.eventCallback(Xe.fullKey,Ae,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,u.q)().onAndCancel(Y,Xe.domEventName,Tt))}static parseEventName(Y){const K=Y.toLowerCase().split("."),Ae=K.shift();if(0===K.length||"keydown"!==Ae&&"keyup"!==Ae)return null;const Xe=Z._normalizeKey(K.pop());let Tt="",Gt=K.indexOf("code");if(Gt>-1&&(K.splice(Gt,1),Tt="code."),$n.forEach(hn=>{const Ut=K.indexOf(hn);Ut>-1&&(K.splice(Ut,1),Tt+=hn+".")}),Tt+=Xe,0!=K.length||0===Xe.length)return null;const Ht={};return Ht.domEventName=Ae,Ht.fullKey=Tt,Ht}static matchEventFullKeyCode(Y,K){let Ae=xe[Y.key]||Y.key,Xe="";return K.indexOf("code.")>-1&&(Ae=Y.code,Xe="code."),!(null==Ae||!Ae)&&(Ae=Ae.toLowerCase()," "===Ae?Ae="space":"."===Ae&&(Ae="dot"),$n.forEach(Tt=>{Tt!==Ae&&(0,Ne[Tt])(Y)&&(Xe+=Tt+".")}),Xe+=Ae,Xe===K)}static eventCallback(Y,K,Ae){return Xe=>{Z.matchEventFullKeyCode(Xe,Y)&&Ae.runGuarded(()=>K(Xe))}}static _normalizeKey(Y){return"esc"===Y?"escape":Y}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(u.K0))}}static{this.\u0275prov=v.Yz7({token:Z,factory:Z.\u0275fac})}}return Z})();const Zt=(0,v.eFA)(v._c5,"browser",[{provide:v.Lbi,useValue:u.bD},{provide:v.g9A,useValue:function en(){fe.makeCurrent()},multi:!0},{provide:u.K0,useFactory:function kt(){return(0,v.RDi)(document),document},deps:[]}]),vt=new v.OlP(""),At=[{provide:v.rWj,useClass:class te{addToWindow(J){v.dqk.getAngularTestability=(K,Ae=!0)=>{const Xe=J.findTestabilityInTree(K,Ae);if(null==Xe)throw new v.vHH(5103,!1);return Xe},v.dqk.getAllAngularTestabilities=()=>J.getAllTestabilities(),v.dqk.getAllAngularRootElements=()=>J.getAllRootElements(),v.dqk.frameworkStabilizers||(v.dqk.frameworkStabilizers=[]),v.dqk.frameworkStabilizers.push(K=>{const Ae=v.dqk.getAllAngularTestabilities();let Xe=Ae.length,Tt=!1;const Gt=function(Ht){Tt=Tt||Ht,Xe--,0==Xe&&K(Tt)};Ae.forEach(Ht=>{Ht.whenStable(Gt)})})}findTestabilityInTree(J,Y,K){return null==Y?null:J.getTestability(Y)??(K?(0,u.q)().isShadowRoot(Y)?this.findTestabilityInTree(J,Y.host,!0):this.findTestabilityInTree(J,Y.parentElement,!0):null)}},deps:[]},{provide:v.lri,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]},{provide:v.dDg,useClass:v.dDg,deps:[v.R0b,v.eoX,v.rWj]}],ar=[{provide:v.zSh,useValue:"root"},{provide:v.qLn,useFactory:function In(){return new v.qLn},deps:[]},{provide:B,useClass:Wt,multi:!0,deps:[u.K0,v.R0b,v.Lbi]},{provide:B,useClass:ke,multi:!0,deps:[u.K0]},ie,Q,re,{provide:v.FYo,useExisting:ie},{provide:u.JF,useClass:j,deps:[]},[]];let un=(()=>{class Z{constructor(Y){}static withServerTransition(Y){return{ngModule:Z,providers:[{provide:v.AFp,useValue:Y.appId}]}}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(vt,12))}}static{this.\u0275mod=v.oAB({type:Z})}static{this.\u0275inj=v.cJS({providers:[...ar,...At],imports:[u.ez,v.hGG]})}}return Z})(),ei=(()=>{class Z{constructor(Y){this._doc=Y}getTitle(){return this._doc.title}setTitle(Y){this._doc.title=Y||""}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(u.K0))}}static{this.\u0275prov=v.Yz7({token:Z,factory:function(K){let Ae=null;return Ae=K?new K:function tr(){return new ei((0,v.LFG)(u.K0))}(),Ae},providedIn:"root"})}}return Z})();typeof window<"u"&&window;let sn=(()=>{class Z{static{this.\u0275fac=function(K){return new(K||Z)}}static{this.\u0275prov=v.Yz7({token:Z,factory:function(K){let Ae=null;return Ae=K?new(K||Z):v.LFG(Rr),Ae},providedIn:"root"})}}return Z})(),Rr=(()=>{class Z extends sn{constructor(Y){super(),this._doc=Y}sanitize(Y,K){if(null==K)return null;switch(Y){case v.q3G.NONE:return K;case v.q3G.HTML:return(0,v.qzn)(K,"HTML")?(0,v.z3N)(K):(0,v.EiD)(this._doc,String(K)).toString();case v.q3G.STYLE:return(0,v.qzn)(K,"Style")?(0,v.z3N)(K):K;case v.q3G.SCRIPT:if((0,v.qzn)(K,"Script"))return(0,v.z3N)(K);throw new v.vHH(5200,!1);case v.q3G.URL:return(0,v.qzn)(K,"URL")?(0,v.z3N)(K):(0,v.mCW)(String(K));case v.q3G.RESOURCE_URL:if((0,v.qzn)(K,"ResourceURL"))return(0,v.z3N)(K);throw new v.vHH(5201,!1);default:throw new v.vHH(5202,!1)}}bypassSecurityTrustHtml(Y){return(0,v.JVY)(Y)}bypassSecurityTrustStyle(Y){return(0,v.L6k)(Y)}bypassSecurityTrustScript(Y){return(0,v.eBb)(Y)}bypassSecurityTrustUrl(Y){return(0,v.LAX)(Y)}bypassSecurityTrustResourceUrl(Y){return(0,v.pB0)(Y)}static{this.\u0275fac=function(K){return new(K||Z)(v.LFG(u.K0))}}static{this.\u0275prov=v.Yz7({token:Z,factory:function(K){let Ae=null;return Ae=K?new K:function rr(Z){return new Rr(Z.get(u.K0))}(v.LFG(v.zs3)),Ae},providedIn:"root"})}}return Z})()},6828:(lt,be,O)=>{"use strict";O.d(be,{gz:()=>li,Bz:()=>ji,lC:()=>Lr});var v=O(4532),u=O(2330),fe=O(4603),oe=O(9681),H=O(462),ne=O(8159),ce=O(1742),te=O(2413),j=O(506);function B(w){return new u.y(x=>{let I;try{I=w()}catch(k){return void x.error(k)}return(I?(0,fe.D)(I):(0,j.c)()).subscribe(x)})}var re=O(7734),se=O(3994),ue=O(9148),Q=O(3117),ge=O(4646),Ie=O(6575),De=O(7422),Ge=O(6520),yt=O(6939),we=O(1062),wt=O(5046),ht=O(7965),nt=O(7627),ft=O(7293),ie=O(106),rt=O(6241);function He(w){return function(I){const P=new mt(w),k=I.lift(P);return P.caught=k}}class mt{constructor(x){this.selector=x}call(x,I){return I.subscribe(new Et(x,this.selector,this.caught))}}class Et extends rt.Ds{constructor(x,I,P){super(x),this.selector=I,this.caught=P}error(x){if(!this.isStopped){let I;try{I=this.selector(x,this.caught)}catch(q){return void super.error(q)}this._unsubscribeAndRecycle();const P=new rt.IY(this);this.add(P);const k=(0,rt.ft)(I,P);k!==P&&this.add(k)}}}var pt=O(6932),Nn=O(2345),Tn=O(5142),Wt=O(2081);function $n(w){return function(I){return 0===w?(0,j.c)():I.lift(new xe(w))}}class xe{constructor(x){if(this.total=x,this.total<0)throw new Wt.W}call(x,I){return I.subscribe(new Ne(x,this.total))}}class Ne extends Tn.L{constructor(x,I){super(x),this.total=I,this.ring=new Array,this.count=0}_next(x){const I=this.ring,P=this.total,k=this.count++;I.length<P?I.push(x):I[k%P]=x}_complete(){const x=this.destination;let I=this.count;if(I>0){const P=this.count>=this.total?this.total:this.count,k=this.ring;for(let q=0;q<P;q++){const de=I++%P;x.next(k[de])}}x.complete()}}var ke=O(1620),Oe=O(6361);class ot{constructor(x){this.value=x}call(x,I){return I.subscribe(new en(x,this.value))}}class en extends Tn.L{constructor(x,I){super(x),this.value=I}_next(x){this.destination.next(this.value)}}var In=O(786),kt=O(6159),gn=O(3303),Zt=O(2600),vt=O(6480);const At="primary",ar=Symbol("RouteTitle");class un{constructor(x){this.params=x||{}}has(x){return Object.prototype.hasOwnProperty.call(this.params,x)}get(x){if(this.has(x)){const I=this.params[x];return Array.isArray(I)?I[0]:I}return null}getAll(x){if(this.has(x)){const I=this.params[x];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function zt(w){return new un(w)}function er(w,x,I){const P=I.path.split("/");if(P.length>w.length||"full"===I.pathMatch&&(x.hasChildren()||P.length<w.length))return null;const k={};for(let q=0;q<P.length;q++){const de=P[q],Ue=w[q];if(de.startsWith(":"))k[de.substring(1)]=Ue;else if(de!==Ue.path)return null}return{consumed:w.slice(0,P.length),posParams:k}}function tr(w,x){const I=w?Object.keys(w):void 0,P=x?Object.keys(x):void 0;if(!I||!P||I.length!=P.length)return!1;let k;for(let q=0;q<I.length;q++)if(k=I[q],!ei(w[k],x[k]))return!1;return!0}function ei(w,x){if(Array.isArray(w)&&Array.isArray(x)){if(w.length!==x.length)return!1;const I=[...w].sort(),P=[...x].sort();return I.every((k,q)=>P[q]===k)}return w===x}function Pr(w){return w.length>0?w[w.length-1]:null}function Wn(w){return function he(w){return!!w&&(w instanceof u.y||"function"==typeof w.lift&&"function"==typeof w.subscribe)}(w)?w:(0,v.QGY)(w)?(0,fe.D)(Promise.resolve(w)):(0,oe.of)(w)}const pr={exact:function et(w,x,I){if(!ti(w.segments,x.segments)||!Ln(w.segments,x.segments,I)||w.numberOfChildren!==x.numberOfChildren)return!1;for(const P in x.children)if(!w.children[P]||!et(w.children[P],x.children[P],I))return!1;return!0},subset:nn},Ye={exact:function ze(w,x){return tr(w,x)},subset:function gt(w,x){return Object.keys(x).length<=Object.keys(w).length&&Object.keys(x).every(I=>ei(w[I],x[I]))},ignored:()=>!0};function Te(w,x,I){return pr[I.paths](w.root,x.root,I.matrixParams)&&Ye[I.queryParams](w.queryParams,x.queryParams)&&!("exact"===I.fragment&&w.fragment!==x.fragment)}function nn(w,x,I){return yn(w,x,x.segments,I)}function yn(w,x,I,P){if(w.segments.length>I.length){const k=w.segments.slice(0,I.length);return!(!ti(k,I)||x.hasChildren()||!Ln(k,I,P))}if(w.segments.length===I.length){if(!ti(w.segments,I)||!Ln(w.segments,I,P))return!1;for(const k in x.children)if(!w.children[k]||!nn(w.children[k],x.children[k],P))return!1;return!0}{const k=I.slice(0,w.segments.length),q=I.slice(w.segments.length);return!!(ti(w.segments,k)&&Ln(w.segments,k,P)&&w.children[At])&&yn(w.children[At],x,q,P)}}function Ln(w,x,I){return x.every((P,k)=>Ye[I](w[k].parameters,P.parameters))}class vn{constructor(x=new mn([],{}),I={},P=null){this.root=x,this.queryParams=I,this.fragment=P}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zt(this.queryParams)),this._queryParamMap}toString(){return ai.serialize(this)}}class mn{constructor(x,I){this.segments=x,this.children=I,this.parent=null,Object.values(I).forEach(P=>P.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wn(this)}}class Rt{constructor(x,I){this.path=x,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=zt(this.parameters)),this._parameterMap}toString(){return J(this)}}function ti(w,x){return w.length===x.length&&w.every((I,P)=>I.path===x[P].path)}let rr=(()=>{class w{static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:function(){return new Rr},providedIn:"root"})}}return w})();class Rr{parse(x){const I=new qn(x);return new vn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(x){const I=`/${Qt(x.root,!0)}`,P=function K(w){const x=Object.keys(w).map(I=>{const P=w[I];return Array.isArray(P)?P.map(k=>`${dn(I)}=${dn(k)}`).join("&"):`${dn(I)}=${dn(P)}`}).filter(I=>!!I);return x.length?`?${x.join("&")}`:""}(x.queryParams);return`${I}${P}${"string"==typeof x.fragment?`#${function wi(w){return encodeURI(w)}(x.fragment)}`:""}`}}const ai=new Rr;function wn(w){return w.segments.map(x=>J(x)).join("/")}function Qt(w,x){if(!w.hasChildren())return wn(w);if(x){const I=w.children[At]?Qt(w.children[At],!1):"",P=[];return Object.entries(w.children).forEach(([k,q])=>{k!==At&&P.push(`${k}:${Qt(q,!1)}`)}),P.length>0?`${I}(${P.join("//")})`:I}{const I=function sn(w,x){let I=[];return Object.entries(w.children).forEach(([P,k])=>{P===At&&(I=I.concat(x(k,P)))}),Object.entries(w.children).forEach(([P,k])=>{P!==At&&(I=I.concat(x(k,P)))}),I}(w,(P,k)=>k===At?[Qt(w.children[At],!1)]:[`${k}:${Qt(P,!1)}`]);return 1===Object.keys(w.children).length&&null!=w.children[At]?`${wn(w)}/${I[0]}`:`${wn(w)}/(${I.join("//")})`}}function bn(w){return encodeURIComponent(w).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dn(w){return bn(w).replace(/%3B/gi,";")}function Mi(w){return bn(w).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function me(w){return decodeURIComponent(w)}function Z(w){return me(w.replace(/\+/g,"%20"))}function J(w){return`${Mi(w.path)}${function Y(w){return Object.keys(w).map(x=>`;${Mi(x)}=${Mi(w[x])}`).join("")}(w.parameters)}`}const Ae=/^[^\/()?;#]+/;function Xe(w){const x=w.match(Ae);return x?x[0]:""}const Tt=/^[^\/()?;=#]+/,Ht=/^[^=?&#]+/,Ut=/^[^&#]+/;class qn{constructor(x){this.url=x,this.remaining=x}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new mn([],{}):new mn([],this.parseChildren())}parseQueryParams(){const x={};if(this.consumeOptional("?"))do{this.parseQueryParam(x)}while(this.consumeOptional("&"));return x}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const x=[];for(this.peekStartsWith("(")||x.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),x.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let P={};return this.peekStartsWith("(")&&(P=this.parseParens(!1)),(x.length>0||Object.keys(I).length>0)&&(P[At]=new mn(x,I)),P}parseSegment(){const x=Xe(this.remaining);if(""===x&&this.peekStartsWith(";"))throw new v.vHH(4009,!1);return this.capture(x),new Rt(me(x),this.parseMatrixParams())}parseMatrixParams(){const x={};for(;this.consumeOptional(";");)this.parseParam(x);return x}parseParam(x){const I=function Gt(w){const x=w.match(Tt);return x?x[0]:""}(this.remaining);if(!I)return;this.capture(I);let P="";if(this.consumeOptional("=")){const k=Xe(this.remaining);k&&(P=k,this.capture(P))}x[me(I)]=me(P)}parseQueryParam(x){const I=function hn(w){const x=w.match(Ht);return x?x[0]:""}(this.remaining);if(!I)return;this.capture(I);let P="";if(this.consumeOptional("=")){const de=function Zn(w){const x=w.match(Ut);return x?x[0]:""}(this.remaining);de&&(P=de,this.capture(P))}const k=Z(I),q=Z(P);if(x.hasOwnProperty(k)){let de=x[k];Array.isArray(de)||(de=[de],x[k]=de),de.push(q)}else x[k]=q}parseParens(x){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const P=Xe(this.remaining),k=this.remaining[P.length];if("/"!==k&&")"!==k&&";"!==k)throw new v.vHH(4010,!1);let q;P.indexOf(":")>-1?(q=P.slice(0,P.indexOf(":")),this.capture(q),this.capture(":")):x&&(q=At);const de=this.parseChildren();I[q]=1===Object.keys(de).length?de[At]:new mn([],de),this.consumeOptional("//")}return I}peekStartsWith(x){return this.remaining.startsWith(x)}consumeOptional(x){return!!this.peekStartsWith(x)&&(this.remaining=this.remaining.substring(x.length),!0)}capture(x){if(!this.consumeOptional(x))throw new v.vHH(4011,!1)}}function Oi(w){return w.segments.length>0?new mn([],{[At]:w}):w}function En(w){const x={};for(const P of Object.keys(w.children)){const q=En(w.children[P]);if(P===At&&0===q.segments.length&&q.hasChildren())for(const[de,Ue]of Object.entries(q.children))x[de]=Ue;else(q.segments.length>0||q.hasChildren())&&(x[P]=q)}return function $e(w){if(1===w.numberOfChildren&&w.children[At]){const x=w.children[At];return new mn(w.segments.concat(x.segments),x.children)}return w}(new mn(w.segments,x))}function Se(w){return w instanceof vn}function jt(w){let x;const k=Oi(function I(q){const de={};for(const Me of q.children){const Mt=I(Me);de[Me.outlet]=Mt}const Ue=new mn(q.url,de);return q===w&&(x=Ue),Ue}(w.root));return x??k}function Jt(w,x,I,P){let k=w;for(;k.parent;)k=k.parent;if(0===x.length)return gr(k,k,k,I,P);const q=function ln(w){if("string"==typeof w[0]&&1===w.length&&"/"===w[0])return new Nr(!0,0,w);let x=0,I=!1;const P=w.reduce((k,q,de)=>{if("object"==typeof q&&null!=q){if(q.outlets){const Ue={};return Object.entries(q.outlets).forEach(([Me,Mt])=>{Ue[Me]="string"==typeof Mt?Mt.split("/"):Mt}),[...k,{outlets:Ue}]}if(q.segmentPath)return[...k,q.segmentPath]}return"string"!=typeof q?[...k,q]:0===de?(q.split("/").forEach((Ue,Me)=>{0==Me&&"."===Ue||(0==Me&&""===Ue?I=!0:".."===Ue?x++:""!=Ue&&k.push(Ue))}),k):[...k,q]},[]);return new Nr(I,x,P)}(x);if(q.toRoot())return gr(k,k,new mn([],{}),I,P);const de=function Qo(w,x,I){if(w.isAbsolute)return new Ur(x,!0,0);if(!I)return new Ur(x,!1,NaN);if(null===I.parent)return new Ur(I,!0,0);const P=Xt(w.commands[0])?0:1;return function Ao(w,x,I){let P=w,k=x,q=I;for(;q>k;){if(q-=k,P=P.parent,!P)throw new v.vHH(4005,!1);k=P.segments.length}return new Ur(P,!1,k-q)}(I,I.segments.length-1+P,w.numberOfDoubleDots)}(q,k,w),Ue=de.processChildren?Xi(de.segmentGroup,de.index,q.commands):Qr(de.segmentGroup,de.index,q.commands);return gr(k,de.segmentGroup,Ue,I,P)}function Xt(w){return"object"==typeof w&&null!=w&&!w.outlets&&!w.segmentPath}function cn(w){return"object"==typeof w&&null!=w&&w.outlets}function gr(w,x,I,P,k){let de,q={};P&&Object.entries(P).forEach(([Me,Mt])=>{q[Me]=Array.isArray(Mt)?Mt.map(An=>`${An}`):`${Mt}`}),de=w===x?I:Rn(w,x,I);const Ue=Oi(En(de));return new vn(Ue,q,k)}function Rn(w,x,I){const P={};return Object.entries(w.children).forEach(([k,q])=>{P[k]=q===x?I:Rn(q,x,I)}),new mn(w.segments,P)}class Nr{constructor(x,I,P){if(this.isAbsolute=x,this.numberOfDoubleDots=I,this.commands=P,x&&P.length>0&&Xt(P[0]))throw new v.vHH(4003,!1);const k=P.find(cn);if(k&&k!==Pr(P))throw new v.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(x,I,P){this.segmentGroup=x,this.processChildren=I,this.index=P}}function Qr(w,x,I){if(w||(w=new mn([],{})),0===w.segments.length&&w.hasChildren())return Xi(w,x,I);const P=function kn(w,x,I){let P=0,k=x;const q={match:!1,pathIndex:0,commandIndex:0};for(;k<w.segments.length;){if(P>=I.length)return q;const de=w.segments[k],Ue=I[P];if(cn(Ue))break;const Me=`${Ue}`,Mt=P<I.length-1?I[P+1]:null;if(k>0&&void 0===Me)break;if(Me&&Mt&&"object"==typeof Mt&&void 0===Mt.outlets){if(!Jo(Me,Mt,de))return q;P+=2}else{if(!Jo(Me,{},de))return q;P++}k++}return{match:!0,pathIndex:k,commandIndex:P}}(w,x,I),k=I.slice(P.commandIndex);if(P.match&&P.pathIndex<w.segments.length){const q=new mn(w.segments.slice(0,P.pathIndex),{});return q.children[At]=new mn(w.segments.slice(P.pathIndex),w.children),Xi(q,0,k)}return P.match&&0===k.length?new mn(w.segments,{}):P.match&&!w.hasChildren()?eo(w,x,I):P.match?Xi(w,0,k):eo(w,x,I)}function Xi(w,x,I){if(0===I.length)return new mn(w.segments,{});{const P=function mr(w){return cn(w[0])?w[0].outlets:{[At]:w}}(I),k={};if(Object.keys(P).some(q=>q!==At)&&w.children[At]&&1===w.numberOfChildren&&0===w.children[At].segments.length){const q=Xi(w.children[At],x,I);return new mn(w.segments,q.children)}return Object.entries(P).forEach(([q,de])=>{"string"==typeof de&&(de=[de]),null!==de&&(k[q]=Qr(w.children[q],x,de))}),Object.entries(w.children).forEach(([q,de])=>{void 0===P[q]&&(k[q]=de)}),new mn(w.segments,k)}}function eo(w,x,I){const P=w.segments.slice(0,x);let k=0;for(;k<I.length;){const q=I[k];if(cn(q)){const Me=$o(q.outlets);return new mn(P,Me)}if(0===k&&Xt(I[0])){P.push(new Rt(w.segments[x].path,bi(I[0]))),k++;continue}const de=cn(q)?q.outlets[At]:`${q}`,Ue=k<I.length-1?I[k+1]:null;de&&Ue&&Xt(Ue)?(P.push(new Rt(de,bi(Ue))),k+=2):(P.push(new Rt(de,{})),k++)}return new mn(P,{})}function $o(w){const x={};return Object.entries(w).forEach(([I,P])=>{"string"==typeof P&&(P=[P]),null!==P&&(x[I]=eo(new mn([],{}),0,P))}),x}function bi(w){const x={};return Object.entries(w).forEach(([I,P])=>x[I]=`${P}`),x}function Jo(w,x,I){return w==I.path&&tr(x,I.parameters)}const gi="imperative";class ni{constructor(x,I){this.id=x,this.url=I}}class vr extends ni{constructor(x,I,P="imperative",k=null){super(x,I),this.type=0,this.navigationTrigger=P,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ri extends ni{constructor(x,I,P){super(x,I),this.urlAfterRedirects=P,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ni extends ni{constructor(x,I,P,k){super(x,I),this.reason=P,this.code=k,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Do extends ni{constructor(x,I,P,k){super(x,I),this.reason=P,this.code=k,this.type=16}}class to extends ni{constructor(x,I,P,k){super(x,I),this.error=P,this.target=k,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ci extends ni{constructor(x,I,P,k){super(x,I),this.urlAfterRedirects=P,this.state=k,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wi extends ni{constructor(x,I,P,k){super(x,I),this.urlAfterRedirects=P,this.state=k,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ls extends ni{constructor(x,I,P,k,q){super(x,I),this.urlAfterRedirects=P,this.state=k,this.shouldActivate=q,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qs extends ni{constructor(x,I,P,k){super(x,I),this.urlAfterRedirects=P,this.state=k,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ui extends ni{constructor(x,I,P,k){super(x,I),this.urlAfterRedirects=P,this.state=k,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xo{constructor(x){this.route=x,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ws{constructor(x){this.route=x,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ms{constructor(x){this.snapshot=x,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _s{constructor(x){this.snapshot=x,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class So{constructor(x){this.snapshot=x,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bs{constructor(x){this.snapshot=x,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(x,I,P){this.routerEvent=x,this.position=I,this.anchor=P,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ys{}class ho{constructor(x){this.url=x}}class Ci{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Zi,this.attachRef=null}}let Zi=(()=>{class w{constructor(){this.contexts=new Map}onChildOutletCreated(I,P){const k=this.getOrCreateContext(I);k.outlet=P,this.contexts.set(I,k)}onChildOutletDestroyed(I){const P=this.getContext(I);P&&(P.outlet=null,P.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let P=this.getContext(I);return P||(P=new Ci,this.contexts.set(I,P)),P}getContext(I){return this.contexts.get(I)||null}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();class Bo{constructor(x){this._root=x}get root(){return this._root.value}parent(x){const I=this.pathFromRoot(x);return I.length>1?I[I.length-2]:null}children(x){const I=es(x,this._root);return I?I.children.map(P=>P.value):[]}firstChild(x){const I=es(x,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(x){const I=xo(x,this._root);return I.length<2?[]:I[I.length-2].children.map(k=>k.value).filter(k=>k!==x)}pathFromRoot(x){return xo(x,this._root).map(I=>I.value)}}function es(w,x){if(w===x.value)return x;for(const I of x.children){const P=es(w,I);if(P)return P}return null}function xo(w,x){if(w===x.value)return[x];for(const I of x.children){const P=xo(w,I);if(P.length)return P.unshift(x),P}return[]}class rn{constructor(x,I){this.value=x,this.children=I}toString(){return`TreeNode(${this.value})`}}function cr(w){const x={};return w&&w.children.forEach(I=>x[I.value.outlet]=I),x}class dr extends Bo{constructor(x,I){super(x),this.snapshot=I,Kn(this,x)}toString(){return this.snapshot.toString()}}function kr(w,x){const I=function Fr(w,x){const de=new fo([],{},{},"",{},At,x,null,{});return new qi("",new rn(de,[]))}(0,x),P=new H.X([new Rt("",{})]),k=new H.X({}),q=new H.X({}),de=new H.X({}),Ue=new H.X(""),Me=new li(P,k,de,Ue,q,At,x,I.root);return Me.snapshot=I.root,new dr(new rn(Me,[]),I)}class li{constructor(x,I,P,k,q,de,Ue,Me){this.urlSubject=x,this.paramsSubject=I,this.queryParamsSubject=P,this.fragmentSubject=k,this.dataSubject=q,this.outlet=de,this.component=Ue,this._futureSnapshot=Me,this.title=this.dataSubject?.pipe((0,De.U)(Mt=>Mt[ar]))??(0,oe.of)(void 0),this.url=x,this.params=I,this.queryParams=P,this.fragment=k,this.data=q}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,De.U)(x=>zt(x)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,De.U)(x=>zt(x)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cs(w,x="emptyOnly"){const I=w.pathFromRoot;let P=0;if("always"!==x)for(P=I.length-1;P>=1;){const k=I[P],q=I[P-1];if(k.routeConfig&&""===k.routeConfig.path)P--;else{if(q.component)break;P--}}return function Bn(w){return w.reduce((x,I)=>({params:{...x.params,...I.params},data:{...x.data,...I.data},resolve:{...I.data,...x.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(P))}class fo{get title(){return this.data?.[ar]}constructor(x,I,P,k,q,de,Ue,Me,Mt){this.url=x,this.params=I,this.queryParams=P,this.fragment=k,this.data=q,this.outlet=de,this.component=Ue,this.routeConfig=Me,this._resolve=Mt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(P=>P.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class qi extends Bo{constructor(x,I){super(I),this.url=x,Kn(this,I)}toString(){return bt(this._root)}}function Kn(w,x){x.value._routerState=w,x.children.forEach(I=>Kn(w,I))}function bt(w){const x=w.children.length>0?` { ${w.children.map(bt).join(", ")} } `:"";return`${w.value}${x}`}function Kt(w){if(w.snapshot){const x=w.snapshot,I=w._futureSnapshot;w.snapshot=I,tr(x.queryParams,I.queryParams)||w.queryParamsSubject.next(I.queryParams),x.fragment!==I.fragment&&w.fragmentSubject.next(I.fragment),tr(x.params,I.params)||w.paramsSubject.next(I.params),function Ar(w,x){if(w.length!==x.length)return!1;for(let I=0;I<w.length;++I)if(!tr(w[I],x[I]))return!1;return!0}(x.url,I.url)||w.urlSubject.next(I.url),tr(x.data,I.data)||w.dataSubject.next(I.data)}else w.snapshot=w._futureSnapshot,w.dataSubject.next(w._futureSnapshot.data)}function ir(w,x){const I=tr(w.params,x.params)&&function lo(w,x){return ti(w,x)&&w.every((I,P)=>tr(I.parameters,x[P].parameters))}(w.url,x.url);return I&&!(!w.parent!=!x.parent)&&(!w.parent||ir(w.parent,x.parent))}let Lr=(()=>{class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new v.vpe,this.deactivateEvents=new v.vpe,this.attachEvents=new v.vpe,this.detachEvents=new v.vpe,this.parentContexts=(0,v.f3M)(Zi),this.location=(0,v.f3M)(v.s_b),this.changeDetector=(0,v.f3M)(v.sBO),this.environmentInjector=(0,v.f3M)(v.lqb),this.inputBinder=(0,v.f3M)(wr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(I){if(I.name){const{firstChange:P,previousValue:k}=I.name;if(P)return;this.isTrackedInParentContexts(k)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(k)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(I){return this.parentContexts.getContext(I)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const I=this.parentContexts.getContext(this.name);I?.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new v.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new v.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new v.vHH(4012,!1);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,P){this.activated=I,this._activatedRoute=P,this.location.insert(I.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,P){if(this.isActivated)throw new v.vHH(4013,!1);this._activatedRoute=I;const k=this.location,de=I.snapshot.component,Ue=this.parentContexts.getOrCreateContext(this.name).children,Me=new ts(I,Ue,k.injector);this.activated=k.createComponent(de,{index:k.length,injector:Me,environmentInjector:P??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275dir=v.lG2({type:w,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[v.TTD]})}}return w})();class ts{constructor(x,I,P){this.route=x,this.childContexts=I,this.parent=P}get(x,I){return x===li?this.route:x===Zi?this.childContexts:this.parent.get(x,I)}}const wr=new v.OlP("");let ro=(()=>{class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(I){this.unsubscribeFromRouteData(I),this.subscribeToRouteData(I)}unsubscribeFromRouteData(I){this.outletDataSubscriptions.get(I)?.unsubscribe(),this.outletDataSubscriptions.delete(I)}subscribeToRouteData(I){const{activatedRoute:P}=I,k=(0,ne.aj)([P.queryParams,P.params,P.data]).pipe((0,Ge.w)(([q,de,Ue],Me)=>(Ue={...q,...de,...Ue},0===Me?(0,oe.of)(Ue):Promise.resolve(Ue)))).subscribe(q=>{if(!I.isActivated||!I.activatedComponentRef||I.activatedRoute!==P||null===P.component)return void this.unsubscribeFromRouteData(I);const de=(0,v.qFp)(P.component);if(de)for(const{templateName:Ue}of de.inputs)I.activatedComponentRef.setInput(Ue,q[Ue]);else this.unsubscribeFromRouteData(I)});this.outletDataSubscriptions.set(I,k)}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac})}}return w})();function Ai(w,x,I){if(I&&w.shouldReuseRoute(x.value,I.value.snapshot)){const P=I.value;P._futureSnapshot=x.value;const k=function Po(w,x,I){return x.children.map(P=>{for(const k of I.children)if(w.shouldReuseRoute(P.value,k.value.snapshot))return Ai(w,P,k);return Ai(w,P)})}(w,x,I);return new rn(P,k)}{if(w.shouldAttach(x.value)){const q=w.retrieve(x.value);if(null!==q){const de=q.route;return de.value._futureSnapshot=x.value,de.children=x.children.map(Ue=>Ai(w,Ue)),de}}const P=function on(w){return new li(new H.X(w.url),new H.X(w.params),new H.X(w.queryParams),new H.X(w.fragment),new H.X(w.data),w.outlet,w.component,w)}(x.value),k=x.children.map(q=>Ai(w,q));return new rn(P,k)}}const Di="ngNavigationCancelingError";function ns(w,x){const{redirectTo:I,navigationBehaviorOptions:P}=Se(x)?{redirectTo:x,navigationBehaviorOptions:void 0}:x,k=di(!1,0,x);return k.url=I,k.navigationBehaviorOptions=P,k}function di(w,x,I){const P=new Error("NavigationCancelingError: "+(w||""));return P[Di]=!0,P.cancellationCode=x,I&&(P.url=I),P}function zo(w){return w&&w[Di]}let io=(()=>{class w{static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275cmp=v.Xpm({type:w,selectors:[["ng-component"]],standalone:!0,features:[v.jDz],decls:1,vars:0,template:function(P,k){1&P&&v._UZ(0,"router-outlet")},dependencies:[Lr],encapsulation:2})}}return w})();function ki(w){const x=w.children&&w.children.map(ki),I=x?{...w,children:x}:{...w};return!I.component&&!I.loadComponent&&(x||I.loadChildren)&&I.outlet&&I.outlet!==At&&(I.component=io),I}function ii(w){return w.outlet||At}function po(w){if(!w)return null;if(w.routeConfig?._injector)return w.routeConfig._injector;for(let x=w.parent;x;x=x.parent){const I=x.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class Mn{constructor(x,I,P,k,q){this.routeReuseStrategy=x,this.futureState=I,this.currState=P,this.forwardEvent=k,this.inputBindingEnabled=q}activate(x){const I=this.futureState._root,P=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,P,x),Kt(this.futureState.root),this.activateChildRoutes(I,P,x)}deactivateChildRoutes(x,I,P){const k=cr(I);x.children.forEach(q=>{const de=q.value.outlet;this.deactivateRoutes(q,k[de],P),delete k[de]}),Object.values(k).forEach(q=>{this.deactivateRouteAndItsChildren(q,P)})}deactivateRoutes(x,I,P){const k=x.value,q=I?I.value:null;if(k===q)if(k.component){const de=P.getContext(k.outlet);de&&this.deactivateChildRoutes(x,I,de.children)}else this.deactivateChildRoutes(x,I,P);else q&&this.deactivateRouteAndItsChildren(I,P)}deactivateRouteAndItsChildren(x,I){x.value.component&&this.routeReuseStrategy.shouldDetach(x.value.snapshot)?this.detachAndStoreRouteSubtree(x,I):this.deactivateRouteAndOutlet(x,I)}detachAndStoreRouteSubtree(x,I){const P=I.getContext(x.value.outlet),k=P&&x.value.component?P.children:I,q=cr(x);for(const de of Object.keys(q))this.deactivateRouteAndItsChildren(q[de],k);if(P&&P.outlet){const de=P.outlet.detach(),Ue=P.children.onOutletDeactivated();this.routeReuseStrategy.store(x.value.snapshot,{componentRef:de,route:x,contexts:Ue})}}deactivateRouteAndOutlet(x,I){const P=I.getContext(x.value.outlet),k=P&&x.value.component?P.children:I,q=cr(x);for(const de of Object.keys(q))this.deactivateRouteAndItsChildren(q[de],k);P&&(P.outlet&&(P.outlet.deactivate(),P.children.onOutletDeactivated()),P.attachRef=null,P.route=null)}activateChildRoutes(x,I,P){const k=cr(I);x.children.forEach(q=>{this.activateRoutes(q,k[q.value.outlet],P),this.forwardEvent(new bs(q.value.snapshot))}),x.children.length&&this.forwardEvent(new _s(x.value.snapshot))}activateRoutes(x,I,P){const k=x.value,q=I?I.value:null;if(Kt(k),k===q)if(k.component){const de=P.getOrCreateContext(k.outlet);this.activateChildRoutes(x,I,de.children)}else this.activateChildRoutes(x,I,P);else if(k.component){const de=P.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const Ue=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),de.children.onOutletReAttached(Ue.contexts),de.attachRef=Ue.componentRef,de.route=Ue.route.value,de.outlet&&de.outlet.attach(Ue.componentRef,Ue.route.value),Kt(Ue.route.value),this.activateChildRoutes(x,null,de.children)}else{const Ue=po(k.snapshot);de.attachRef=null,de.route=k,de.injector=Ue,de.outlet&&de.outlet.activateWith(k,de.injector),this.activateChildRoutes(x,null,de.children)}}else this.activateChildRoutes(x,null,P)}}class Vs{constructor(x){this.path=x,this.route=this.path[this.path.length-1]}}class Cn{constructor(x,I){this.component=x,this.route=I}}function jr(w,x,I){const P=w._root;return Oo(P,x?x._root:null,I,[P.value])}function Li(w,x){const I=Symbol(),P=x.get(w,I);return P===I?"function"!=typeof w||(0,v.Z0I)(w)?x.get(w):w:P}function Oo(w,x,I,P,k={canDeactivateChecks:[],canActivateChecks:[]}){const q=cr(x);return w.children.forEach(de=>{(function $(w,x,I,P,k={canDeactivateChecks:[],canActivateChecks:[]}){const q=w.value,de=x?x.value:null,Ue=I?I.getContext(w.value.outlet):null;if(de&&q.routeConfig===de.routeConfig){const Me=function ye(w,x,I){if("function"==typeof I)return I(w,x);switch(I){case"pathParamsChange":return!ti(w.url,x.url);case"pathParamsOrQueryParamsChange":return!ti(w.url,x.url)||!tr(w.queryParams,x.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ir(w,x)||!tr(w.queryParams,x.queryParams);default:return!ir(w,x)}}(de,q,q.routeConfig.runGuardsAndResolvers);Me?k.canActivateChecks.push(new Vs(P)):(q.data=de.data,q._resolvedData=de._resolvedData),Oo(w,x,q.component?Ue?Ue.children:null:I,P,k),Me&&Ue&&Ue.outlet&&Ue.outlet.isActivated&&k.canDeactivateChecks.push(new Cn(Ue.outlet.component,de))}else de&&g(x,Ue,k),k.canActivateChecks.push(new Vs(P)),Oo(w,null,q.component?Ue?Ue.children:null:I,P,k)})(de,q[de.value.outlet],I,P.concat([de.value]),k),delete q[de.value.outlet]}),Object.entries(q).forEach(([de,Ue])=>g(Ue,I.getContext(de),k)),k}function g(w,x,I){const P=cr(w),k=w.value;Object.entries(P).forEach(([q,de])=>{g(de,k.component?x?x.children.getContext(q):null:x,I)}),I.canDeactivateChecks.push(new Cn(k.component&&x&&x.outlet&&x.outlet.isActivated?x.outlet.component:null,k))}function y(w){return"function"==typeof w}function qt(w){return w instanceof ce.K||"EmptyError"===w?.name}const zn=Symbol("INITIAL_VALUE");function ur(){return(0,Ge.w)(w=>(0,ne.aj)(w.map(x=>x.pipe((0,yt.q)(1),(0,we.O)(zn)))).pipe((0,De.U)(x=>{for(const I of x)if(!0!==I){if(I===zn)return zn;if(!1===I||I instanceof vn)return I}return!0}),(0,wt.h)(x=>x!==zn),(0,yt.q)(1)))}function zr(w){return(0,re.z)((0,ie.b)(x=>{if(Se(x))throw ns(0,x)}),(0,De.U)(x=>!0===x))}class Is{constructor(x){this.segmentGroup=x||null}}class go{constructor(x){this.urlTree=x}}function Vr(w){return(0,se._)(new Is(w))}function rs(w){return(0,se._)(new go(w))}class Ia{constructor(x,I){this.urlSerializer=x,this.urlTree=I}noMatchError(x){return new v.vHH(4002,!1)}lineralizeSegments(x,I){let P=[],k=I.root;for(;;){if(P=P.concat(k.segments),0===k.numberOfChildren)return(0,oe.of)(P);if(k.numberOfChildren>1||!k.children[At])return(0,se._)(new v.vHH(4e3,!1));k=k.children[At]}}applyRedirectCommands(x,I,P){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),x,P)}applyRedirectCreateUrlTree(x,I,P,k){const q=this.createSegmentGroup(x,I.root,P,k);return new vn(q,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(x,I){const P={};return Object.entries(x).forEach(([k,q])=>{if("string"==typeof q&&q.startsWith(":")){const Ue=q.substring(1);P[k]=I[Ue]}else P[k]=q}),P}createSegmentGroup(x,I,P,k){const q=this.createSegments(x,I.segments,P,k);let de={};return Object.entries(I.children).forEach(([Ue,Me])=>{de[Ue]=this.createSegmentGroup(x,Me,P,k)}),new mn(q,de)}createSegments(x,I,P,k){return I.map(q=>q.path.startsWith(":")?this.findPosParam(x,q,k):this.findOrReturn(q,P))}findPosParam(x,I,P){const k=P[I.path.substring(1)];if(!k)throw new v.vHH(4001,!1);return k}findOrReturn(x,I){let P=0;for(const k of I){if(k.path===x.path)return I.splice(P),k;P++}return x}}const yi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kc(w,x,I,P,k){const q=Ds(w,x,I);return q.matched?(P=function hi(w,x){return w.providers&&!w._injector&&(w._injector=(0,v.MMx)(w.providers,x,`Route: ${w.path}`)),w._injector??x}(x,P),function xi(w,x,I,P){const k=x.canMatch;if(!k||0===k.length)return(0,oe.of)(!0);const q=k.map(de=>{const Ue=Li(de,w);return Wn(function qe(w){return w&&y(w.canMatch)}(Ue)?Ue.canMatch(x,I):w.runInContext(()=>Ue(x,I)))});return(0,oe.of)(q).pipe(ur(),zr())}(P,x,I).pipe((0,De.U)(de=>!0===de?q:{...yi}))):(0,oe.of)(q)}function Ds(w,x,I){if(""===x.path)return"full"===x.pathMatch&&(w.hasChildren()||I.length>0)?{...yi}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const k=(x.matcher||er)(I,w,x);if(!k)return{...yi};const q={};Object.entries(k.posParams??{}).forEach(([Ue,Me])=>{q[Ue]=Me.path});const de=k.consumed.length>0?{...q,...k.consumed[k.consumed.length-1].parameters}:q;return{matched:!0,consumedSegments:k.consumed,remainingSegments:I.slice(k.consumed.length),parameters:de,positionalParamSegments:k.posParams??{}}}function Us(w,x,I,P){return I.length>0&&function yc(w,x,I){return I.some(P=>Ta(w,x,P)&&ii(P)!==At)}(w,I,P)?{segmentGroup:new mn(x,mo(P,new mn(I,w.children))),slicedSegments:[]}:0===I.length&&function Yn(w,x,I){return I.some(P=>Ta(w,x,P))}(w,I,P)?{segmentGroup:new mn(w.segments,Ea(w,0,I,P,w.children)),slicedSegments:I}:{segmentGroup:new mn(w.segments,w.children),slicedSegments:I}}function Ea(w,x,I,P,k){const q={};for(const de of P)if(Ta(w,I,de)&&!k[ii(de)]){const Ue=new mn([],{});q[ii(de)]=Ue}return{...k,...q}}function mo(w,x){const I={};I[At]=x;for(const P of w)if(""===P.path&&ii(P)!==At){const k=new mn([],{});I[ii(P)]=k}return I}function Ta(w,x,I){return(!(w.hasChildren()||x.length>0)||"full"!==I.pathMatch)&&""===I.path}class Js{constructor(x,I,P,k,q,de,Ue){this.injector=x,this.configLoader=I,this.rootComponentType=P,this.config=k,this.urlTree=q,this.paramsInheritanceStrategy=de,this.urlSerializer=Ue,this.allowRedirects=!0,this.applyRedirects=new Ia(this.urlSerializer,this.urlTree)}noMatchError(x){return new v.vHH(4002,!1)}recognize(){const x=Us(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,x,At).pipe(He(I=>{if(I instanceof go)return this.allowRedirects=!1,this.urlTree=I.urlTree,this.match(I.urlTree);throw I instanceof Is?this.noMatchError(I):I}),(0,De.U)(I=>{const P=new fo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},At,this.rootComponentType,null,{}),k=new rn(P,I),q=new qi("",k),de=function at(w,x,I=null,P=null){return Jt(jt(w),x,I,P)}(P,[],this.urlTree.queryParams,this.urlTree.fragment);return de.queryParams=this.urlTree.queryParams,q.url=this.urlSerializer.serialize(de),this.inheritParamsAndData(q._root),{state:q,tree:de}}))}match(x){return this.processSegmentGroup(this.injector,this.config,x.root,At).pipe(He(P=>{throw P instanceof Is?this.noMatchError(P):P}))}inheritParamsAndData(x){const I=x.value,P=Cs(I,this.paramsInheritanceStrategy);I.params=Object.freeze(P.params),I.data=Object.freeze(P.data),x.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(x,I,P,k){return 0===P.segments.length&&P.hasChildren()?this.processChildren(x,I,P):this.processSegment(x,I,P,P.segments,k,!0)}processChildren(x,I,P){const k=[];for(const q of Object.keys(P.children))"primary"===q?k.unshift(q):k.push(q);return(0,fe.D)(k).pipe((0,ft.b)(q=>{const de=P.children[q],Ue=function mi(w,x){const I=w.filter(P=>ii(P)===x);return I.push(...w.filter(P=>ii(P)!==x)),I}(I,q);return this.processSegmentGroup(x,Ue,de,q)}),(0,pt.R)((q,de)=>(q.push(...de),q)),(0,Nn.d)(null),function We(w,x){const I=arguments.length>=2;return P=>P.pipe(w?(0,wt.h)((k,q)=>w(k,q,P)):Oe.y,$n(1),I?(0,Nn.d)(x):(0,ke.T)(()=>new ce.K))}(),(0,ht.zg)(q=>{if(null===q)return Vr(P);const de=Uu(q);return function Ya(w){w.sort((x,I)=>x.value.outlet===At?-1:I.value.outlet===At?1:x.value.outlet.localeCompare(I.value.outlet))}(de),(0,oe.of)(de)}))}processSegment(x,I,P,k,q,de){return(0,fe.D)(I).pipe((0,ft.b)(Ue=>this.processSegmentAgainstRoute(Ue._injector??x,I,Ue,P,k,q,de).pipe(He(Me=>{if(Me instanceof Is)return(0,oe.of)(null);throw Me}))),(0,nt.P)(Ue=>!!Ue),He(Ue=>{if(qt(Ue))return function Ui(w,x,I){return 0===x.length&&!w.children[I]}(P,k,q)?(0,oe.of)([]):Vr(P);throw Ue}))}processSegmentAgainstRoute(x,I,P,k,q,de,Ue){return function wa(w,x,I,P){return!!(ii(w)===P||P!==At&&Ta(x,I,w))&&("**"===w.path||Ds(x,w,I).matched)}(P,k,q,de)?void 0===P.redirectTo?this.matchSegmentAgainstRoute(x,k,P,q,de,Ue):Ue&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(x,k,I,P,q,de):Vr(k):Vr(k)}expandSegmentAgainstRouteUsingRedirect(x,I,P,k,q,de){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(x,P,k,de):this.expandRegularSegmentAgainstRouteUsingRedirect(x,I,P,k,q,de)}expandWildCardWithParamsAgainstRouteUsingRedirect(x,I,P,k){const q=this.applyRedirects.applyRedirectCommands([],P.redirectTo,{});return P.redirectTo.startsWith("/")?rs(q):this.applyRedirects.lineralizeSegments(P,q).pipe((0,ht.zg)(de=>{const Ue=new mn(de,{});return this.processSegment(x,I,Ue,de,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(x,I,P,k,q,de){const{matched:Ue,consumedSegments:Me,remainingSegments:Mt,positionalParamSegments:An}=Ds(I,k,q);if(!Ue)return Vr(I);const Hn=this.applyRedirects.applyRedirectCommands(Me,k.redirectTo,An);return k.redirectTo.startsWith("/")?rs(Hn):this.applyRedirects.lineralizeSegments(k,Hn).pipe((0,ht.zg)(Gn=>this.processSegment(x,P,I,Gn.concat(Mt),de,!1)))}matchSegmentAgainstRoute(x,I,P,k,q,de){let Ue;if("**"===P.path){const Me=k.length>0?Pr(k).parameters:{},Mt=new fo(k,Me,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ko(P),ii(P),P.component??P._loadedComponent??null,P,fi(P));Ue=(0,oe.of)({snapshot:Mt,consumedSegments:[],remainingSegments:[]}),I.children={}}else Ue=Kc(I,P,k,x).pipe((0,De.U)(({matched:Me,consumedSegments:Mt,remainingSegments:An,parameters:Hn})=>Me?{snapshot:new fo(Mt,Hn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ko(P),ii(P),P.component??P._loadedComponent??null,P,fi(P)),consumedSegments:Mt,remainingSegments:An}:null));return Ue.pipe((0,Ge.w)(Me=>null===Me?Vr(I):this.getChildConfig(x=P._injector??x,P,k).pipe((0,Ge.w)(({routes:Mt})=>{const An=P._loadedInjector??x,{snapshot:Hn,consumedSegments:Gn,remainingSegments:Io}=Me,{segmentGroup:na,slicedSegments:nc}=Us(I,Gn,Io,Mt);if(0===nc.length&&na.hasChildren())return this.processChildren(An,Mt,na).pipe((0,De.U)(Bs=>null===Bs?null:[new rn(Hn,Bs)]));if(0===Mt.length&&0===nc.length)return(0,oe.of)([new rn(Hn,[])]);const rc=ii(P)===q;return this.processSegment(An,Mt,na,nc,rc?At:q,!0).pipe((0,De.U)(Bs=>[new rn(Hn,Bs)]))}))))}getChildConfig(x,I,P){return I.children?(0,oe.of)({routes:I.children,injector:x}):I.loadChildren?void 0!==I._loadedRoutes?(0,oe.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function Wo(w,x,I,P){const k=x.canLoad;if(void 0===k||0===k.length)return(0,oe.of)(!0);const q=k.map(de=>{const Ue=Li(de,w);return Wn(function N(w){return w&&y(w.canLoad)}(Ue)?Ue.canLoad(x,I):w.runInContext(()=>Ue(x,I)))});return(0,oe.of)(q).pipe(ur(),zr())}(x,I,P).pipe((0,ht.zg)(k=>k?this.configLoader.loadChildren(x,I).pipe((0,ie.b)(q=>{I._loadedRoutes=q.routes,I._loadedInjector=q.injector})):function va(w){return(0,se._)(di(!1,3))}())):(0,oe.of)({routes:[],injector:x})}}function Qa(w){const x=w.value.routeConfig;return x&&""===x.path}function Uu(w){const x=[],I=new Set;for(const P of w){if(!Qa(P)){x.push(P);continue}const k=x.find(q=>P.value.routeConfig===q.value.routeConfig);void 0!==k?(k.children.push(...P.children),I.add(k)):x.push(P)}for(const P of I){const k=Uu(P.children);x.push(new rn(P.value,k))}return x.filter(P=>!I.has(P))}function ko(w){return w.data||{}}function fi(w){return w.resolve||{}}function pe(w){return"string"==typeof w.title||null===w.title}function Ve(w){return(0,Ge.w)(x=>{const I=w(x);return I?(0,fe.D)(I).pipe((0,De.U)(()=>x)):(0,oe.of)(x)})}const Ze=new v.OlP("ROUTES");let Ft=(()=>{class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,v.f3M)(v.Sil)}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,oe.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const P=Wn(I.loadComponent()).pipe((0,De.U)(nr),(0,ie.b)(q=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=q}),(0,In.x)(()=>{this.componentLoaders.delete(I)})),k=new ue.c(P,()=>new Q.xQ).pipe((0,kt.x)());return this.componentLoaders.set(I,k),k}loadChildren(I,P){if(this.childrenLoaders.get(P))return this.childrenLoaders.get(P);if(P._loadedRoutes)return(0,oe.of)({routes:P._loadedRoutes,injector:P._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(P);const q=function Er(w,x,I,P){return Wn(w.loadChildren()).pipe((0,De.U)(nr),(0,ht.zg)(k=>k instanceof v.YKP||Array.isArray(k)?(0,oe.of)(k):(0,fe.D)(x.compileModuleAsync(k))),(0,De.U)(k=>{P&&P(w);let q,de,Ue=!1;return Array.isArray(k)?(de=k,!0):(q=k.create(I).injector,de=q.get(Ze,[],{optional:!0,self:!0}).flat()),{routes:de.map(ki),injector:q}}))}(P,this.compiler,I,this.onLoadEndListener).pipe((0,In.x)(()=>{this.childrenLoaders.delete(P)})),de=new ue.c(q,()=>new Q.xQ).pipe((0,kt.x)());return this.childrenLoaders.set(P,de),de}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function nr(w){return function hr(w){return w&&"object"==typeof w&&"default"in w}(w)?w.default:w}let fn=(()=>{class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Q.xQ,this.transitionAbortSubject=new Q.xQ,this.configLoader=(0,v.f3M)(Ft),this.environmentInjector=(0,v.f3M)(v.lqb),this.urlSerializer=(0,v.f3M)(rr),this.rootContexts=(0,v.f3M)(Zi),this.inputBindingEnabled=null!==(0,v.f3M)(wr,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,oe.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=k=>this.events.next(new ws(k)),this.configLoader.onLoadStartListener=k=>this.events.next(new Xo(k))}complete(){this.transitions?.complete()}handleNavigationRequest(I){const P=++this.navigationId;this.transitions?.next({...this.transitions.value,...I,id:P})}setupNavigations(I,P,k){return this.transitions=new H.X({id:0,currentUrlTree:P,currentRawUrl:P,currentBrowserUrl:P,extractedUrl:I.urlHandlingStrategy.extract(P),urlAfterRedirects:I.urlHandlingStrategy.extract(P),rawUrl:P,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:gi,restoredState:null,currentSnapshot:k.snapshot,targetSnapshot:null,currentRouterState:k,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,wt.h)(q=>0!==q.id),(0,De.U)(q=>({...q,extractedUrl:I.urlHandlingStrategy.extract(q.rawUrl)})),(0,Ge.w)(q=>{this.currentTransition=q;let de=!1,Ue=!1;return(0,oe.of)(q).pipe((0,ie.b)(Me=>{this.currentNavigation={id:Me.id,initialUrl:Me.rawUrl,extractedUrl:Me.extractedUrl,trigger:Me.source,extras:Me.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ge.w)(Me=>{const Mt=Me.currentBrowserUrl.toString(),An=!I.navigated||Me.extractedUrl.toString()!==Mt||Mt!==Me.currentUrlTree.toString();if(!An&&"reload"!==(Me.extras.onSameUrlNavigation??I.onSameUrlNavigation)){const Gn="";return this.events.next(new Do(Me.id,this.urlSerializer.serialize(Me.rawUrl),Gn,0)),Me.resolve(null),j.E}if(I.urlHandlingStrategy.shouldProcessUrl(Me.rawUrl))return(0,oe.of)(Me).pipe((0,Ge.w)(Gn=>{const Io=this.transitions?.getValue();return this.events.next(new vr(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),Gn.source,Gn.restoredState)),Io!==this.transitions?.getValue()?j.E:Promise.resolve(Gn)}),function Es(w,x,I,P,k,q){return(0,ht.zg)(de=>function js(w,x,I,P,k,q,de="emptyOnly"){return new Js(w,x,I,P,k,de,q).recognize()}(w,x,I,P,de.extractedUrl,k,q).pipe((0,De.U)(({state:Ue,tree:Me})=>({...de,targetSnapshot:Ue,urlAfterRedirects:Me}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,I.config,this.urlSerializer,I.paramsInheritanceStrategy),(0,ie.b)(Gn=>{q.targetSnapshot=Gn.targetSnapshot,q.urlAfterRedirects=Gn.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Gn.urlAfterRedirects};const Io=new ci(Gn.id,this.urlSerializer.serialize(Gn.extractedUrl),this.urlSerializer.serialize(Gn.urlAfterRedirects),Gn.targetSnapshot);this.events.next(Io)}));if(An&&I.urlHandlingStrategy.shouldProcessUrl(Me.currentRawUrl)){const{id:Gn,extractedUrl:Io,source:na,restoredState:nc,extras:rc}=Me,Bs=new vr(Gn,this.urlSerializer.serialize(Io),na,nc);this.events.next(Bs);const oh=kr(0,this.rootComponentType).snapshot;return this.currentTransition=q={...Me,targetSnapshot:oh,urlAfterRedirects:Io,extras:{...rc,skipLocationChange:!1,replaceUrl:!1}},(0,oe.of)(q)}{const Gn="";return this.events.next(new Do(Me.id,this.urlSerializer.serialize(Me.extractedUrl),Gn,1)),Me.resolve(null),j.E}}),(0,ie.b)(Me=>{const Mt=new Wi(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot);this.events.next(Mt)}),(0,De.U)(Me=>(this.currentTransition=q={...Me,guards:jr(Me.targetSnapshot,Me.currentSnapshot,this.rootContexts)},q)),function or(w,x){return(0,ht.zg)(I=>{const{targetSnapshot:P,currentSnapshot:k,guards:{canActivateChecks:q,canDeactivateChecks:de}}=I;return 0===de.length&&0===q.length?(0,oe.of)({...I,guardsResult:!0}):function $r(w,x,I,P){return(0,fe.D)(w).pipe((0,ht.zg)(k=>function Br(w,x,I,P,k){const q=x&&x.routeConfig?x.routeConfig.canDeactivate:null;if(!q||0===q.length)return(0,oe.of)(!0);const de=q.map(Ue=>{const Me=po(x)??k,Mt=Li(Ue,Me);return Wn(function Fe(w){return w&&y(w.canDeactivate)}(Mt)?Mt.canDeactivate(w,x,I,P):Me.runInContext(()=>Mt(w,x,I,P))).pipe((0,nt.P)())});return(0,oe.of)(de).pipe(ur())}(k.component,k.route,I,x,P)),(0,nt.P)(k=>!0!==k,!0))}(de,P,k,w).pipe((0,ht.zg)(Ue=>Ue&&function D(w){return"boolean"==typeof w}(Ue)?function Un(w,x,I,P){return(0,fe.D)(x).pipe((0,ft.b)(k=>(0,te.z)(function Vi(w,x){return null!==w&&x&&x(new ms(w)),(0,oe.of)(!0)}(k.route.parent,P),function _r(w,x){return null!==w&&x&&x(new So(w)),(0,oe.of)(!0)}(k.route,P),function br(w,x,I){const P=x[x.length-1],q=x.slice(0,x.length-1).reverse().map(de=>function Go(w){const x=w.routeConfig?w.routeConfig.canActivateChild:null;return x&&0!==x.length?{node:w,guards:x}:null}(de)).filter(de=>null!==de).map(de=>B(()=>{const Ue=de.guards.map(Me=>{const Mt=po(de.node)??I,An=Li(Me,Mt);return Wn(function _e(w){return w&&y(w.canActivateChild)}(An)?An.canActivateChild(P,w):Mt.runInContext(()=>An(P,w))).pipe((0,nt.P)())});return(0,oe.of)(Ue).pipe(ur())}));return(0,oe.of)(q).pipe(ur())}(w,k.path,I),function _i(w,x,I){const P=x.routeConfig?x.routeConfig.canActivate:null;if(!P||0===P.length)return(0,oe.of)(!0);const k=P.map(q=>B(()=>{const de=po(x)??I,Ue=Li(q,de);return Wn(function X(w){return w&&y(w.canActivate)}(Ue)?Ue.canActivate(x,w):de.runInContext(()=>Ue(x,w))).pipe((0,nt.P)())}));return(0,oe.of)(k).pipe(ur())}(w,k.route,I))),(0,nt.P)(k=>!0!==k,!0))}(P,q,w,x):(0,oe.of)(Ue)),(0,De.U)(Ue=>({...I,guardsResult:Ue})))})}(this.environmentInjector,Me=>this.events.next(Me)),(0,ie.b)(Me=>{if(q.guardsResult=Me.guardsResult,Se(Me.guardsResult))throw ns(0,Me.guardsResult);const Mt=new Ls(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects),Me.targetSnapshot,!!Me.guardsResult);this.events.next(Mt)}),(0,wt.h)(Me=>!!Me.guardsResult||(this.cancelNavigationTransition(Me,"",3),!1)),Ve(Me=>{if(Me.guards.canActivateChecks.length)return(0,oe.of)(Me).pipe((0,ie.b)(Mt=>{const An=new Qs(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(An)}),(0,Ge.w)(Mt=>{let An=!1;return(0,oe.of)(Mt).pipe(function Ss(w,x){return(0,ht.zg)(I=>{const{targetSnapshot:P,guards:{canActivateChecks:k}}=I;if(!k.length)return(0,oe.of)(I);let q=0;return(0,fe.D)(k).pipe((0,ft.b)(de=>function C(w,x,I,P){const k=w.routeConfig,q=w._resolve;return void 0!==k?.title&&!pe(k)&&(q[ar]=k.title),function z(w,x,I,P){const k=function M(w){return[...Object.keys(w),...Object.getOwnPropertySymbols(w)]}(w);if(0===k.length)return(0,oe.of)({});const q={};return(0,fe.D)(k).pipe((0,ht.zg)(de=>function V(w,x,I,P){const k=po(x)??P,q=Li(w,k);return Wn(q.resolve?q.resolve(x,I):k.runInContext(()=>q(x,I)))}(w[de],x,I,P).pipe((0,nt.P)(),(0,ie.b)(Ue=>{q[de]=Ue}))),$n(1),function it(w){return x=>x.lift(new ot(w))}(q),He(de=>qt(de)?j.E:(0,se._)(de)))}(q,w,x,P).pipe((0,De.U)(de=>(w._resolvedData=de,w.data=Cs(w,I).resolve,k&&pe(k)&&(w.data[ar]=k.title),null)))}(de.route,P,w,x)),(0,ie.b)(()=>q++),$n(1),(0,ht.zg)(de=>q===k.length?(0,oe.of)(I):j.E))})}(I.paramsInheritanceStrategy,this.environmentInjector),(0,ie.b)({next:()=>An=!0,complete:()=>{An||this.cancelNavigationTransition(Mt,"",2)}}))}),(0,ie.b)(Mt=>{const An=new ui(Mt.id,this.urlSerializer.serialize(Mt.extractedUrl),this.urlSerializer.serialize(Mt.urlAfterRedirects),Mt.targetSnapshot);this.events.next(An)}))}),Ve(Me=>{const Mt=An=>{const Hn=[];An.routeConfig?.loadComponent&&!An.routeConfig._loadedComponent&&Hn.push(this.configLoader.loadComponent(An.routeConfig).pipe((0,ie.b)(Gn=>{An.component=Gn}),(0,De.U)(()=>{})));for(const Gn of An.children)Hn.push(...Mt(Gn));return Hn};return(0,ne.aj)(Mt(Me.targetSnapshot.root)).pipe((0,Nn.d)(),(0,yt.q)(1))}),Ve(()=>this.afterPreactivation()),(0,De.U)(Me=>{const Mt=function Vn(w,x,I){const P=Ai(w,x._root,I?I._root:void 0);return new dr(P,x)}(I.routeReuseStrategy,Me.targetSnapshot,Me.currentRouterState);return this.currentTransition=q={...Me,targetRouterState:Mt},q}),(0,ie.b)(()=>{this.events.next(new ys)}),((w,x,I,P)=>(0,De.U)(k=>(new Mn(x,k.targetRouterState,k.currentRouterState,I,P).activate(w),k)))(this.rootContexts,I.routeReuseStrategy,Me=>this.events.next(Me),this.inputBindingEnabled),(0,yt.q)(1),(0,ie.b)({next:Me=>{de=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ri(Me.id,this.urlSerializer.serialize(Me.extractedUrl),this.urlSerializer.serialize(Me.urlAfterRedirects))),I.titleStrategy?.updateTitle(Me.targetRouterState.snapshot),Me.resolve(!0)},complete:()=>{de=!0}}),(0,gn.R)(this.transitionAbortSubject.pipe((0,ie.b)(Me=>{throw Me}))),(0,In.x)(()=>{de||Ue||this.cancelNavigationTransition(q,"",1),this.currentNavigation?.id===q.id&&(this.currentNavigation=null)}),He(Me=>{if(Ue=!0,zo(Me))this.events.next(new Ni(q.id,this.urlSerializer.serialize(q.extractedUrl),Me.message,Me.cancellationCode)),function Ir(w){return zo(w)&&Se(w.url)}(Me)?this.events.next(new ho(Me.url)):q.resolve(!1);else{this.events.next(new to(q.id,this.urlSerializer.serialize(q.extractedUrl),Me,q.targetSnapshot??void 0));try{q.resolve(I.errorHandler(Me))}catch(Mt){q.reject(Mt)}}return j.E}))}))}cancelNavigationTransition(I,P,k){const q=new Ni(I.id,this.urlSerializer.serialize(I.extractedUrl),P,k);this.events.next(q),I.resolve(!1)}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function Mr(w){return w!==gi}let Tr=(()=>{class w{buildTitle(I){let P,k=I.root;for(;void 0!==k;)P=this.getResolvedTitleForRoute(k)??P,k=k.children.find(q=>q.outlet===At);return P}getResolvedTitleForRoute(I){return I.data[ar]}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:function(){return(0,v.f3M)(Hr)},providedIn:"root"})}}return w})(),Hr=(()=>{class w extends Tr{constructor(I){super(),this.title=I}updateTitle(I){const P=this.buildTitle(I);void 0!==P&&this.title.setTitle(P)}static{this.\u0275fac=function(P){return new(P||w)(v.LFG(vt.Dx))}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Ts=(()=>{class w{static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:function(){return(0,v.f3M)(Yi)},providedIn:"root"})}}return w})();class yr{shouldDetach(x){return!1}store(x,I){}shouldAttach(x){return!1}retrieve(x){return null}shouldReuseRoute(x,I){return x.routeConfig===I.routeConfig}}let Yi=(()=>{class w extends yr{static{this.\u0275fac=function(){let I;return function(k){return(I||(I=v.n5z(w)))(k||w)}}()}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();const Gr=new v.OlP("",{providedIn:"root",factory:()=>({})});let _o=(()=>{class w{static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:function(){return(0,v.f3M)(xs)},providedIn:"root"})}}return w})(),xs=(()=>{class w{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,P){return I}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();var tt=function(w){return w[w.COMPLETE=0]="COMPLETE",w[w.FAILED=1]="FAILED",w[w.REDIRECTING=2]="REDIRECTING",w}(tt||{});function oi(w,x){w.events.pipe((0,wt.h)(I=>I instanceof ri||I instanceof Ni||I instanceof to||I instanceof Do),(0,De.U)(I=>I instanceof ri||I instanceof Do?tt.COMPLETE:I instanceof Ni&&(0===I.code||1===I.code)?tt.REDIRECTING:tt.FAILED),(0,wt.h)(I=>I!==tt.REDIRECTING),(0,yt.q)(1)).subscribe(()=>{x()})}function so(w){throw w}function ju(w,x,I){return x.parse("/")}const Pt={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lt={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yo=(()=>{class w{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,v.f3M)(v.c2e),this.isNgZoneEnabled=!1,this._events=new Q.xQ,this.options=(0,v.f3M)(Gr,{optional:!0})||{},this.pendingTasks=(0,v.f3M)(v.HDt),this.errorHandler=this.options.errorHandler||so,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ju,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,v.f3M)(_o),this.routeReuseStrategy=(0,v.f3M)(Ts),this.titleStrategy=(0,v.f3M)(Tr),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,v.f3M)(Ze,{optional:!0})?.flat()??[],this.navigationTransitions=(0,v.f3M)(fn),this.urlSerializer=(0,v.f3M)(rr),this.location=(0,v.f3M)(Ie.Ye),this.componentInputBindingEnabled=!!(0,v.f3M)(wr,{optional:!0}),this.eventsSubscription=new ge.w,this.isNgZoneEnabled=(0,v.f3M)(v.R0b)instanceof v.R0b&&v.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new vn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=kr(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(I=>{this.lastSuccessfulId=I.id,this.currentPageId=this.browserPageId},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const I=this.navigationTransitions.events.subscribe(P=>{try{const{currentTransition:k}=this.navigationTransitions;if(null===k)return void(je(P)&&this._events.next(P));if(P instanceof vr)Mr(k.source)&&(this.browserUrlTree=k.extractedUrl);else if(P instanceof Do)this.rawUrlTree=k.rawUrl;else if(P instanceof ci){if("eager"===this.urlUpdateStrategy){if(!k.extras.skipLocationChange){const q=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl);this.setBrowserUrl(q,k)}this.browserUrlTree=k.urlAfterRedirects}}else if(P instanceof ys)this.currentUrlTree=k.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(k.urlAfterRedirects,k.rawUrl),this.routerState=k.targetRouterState,"deferred"===this.urlUpdateStrategy&&(k.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,k),this.browserUrlTree=k.urlAfterRedirects);else if(P instanceof Ni)0!==P.code&&1!==P.code&&(this.navigated=!0),(3===P.code||2===P.code)&&this.restoreHistory(k);else if(P instanceof ho){const q=this.urlHandlingStrategy.merge(P.url,k.currentRawUrl),de={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mr(k.source)};this.scheduleNavigation(q,gi,null,de,{resolve:k.resolve,reject:k.reject,promise:k.promise})}P instanceof to&&this.restoreHistory(k,!0),P instanceof ri&&(this.navigated=!0),je(P)&&this._events.next(P)}catch(k){this.navigationTransitions.transitionAbortSubject.next(k)}});this.eventsSubscription.add(I)}resetRootComponentType(I){this.routerState.root.component=I,this.navigationTransitions.rootComponentType=I}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const I=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),gi,I)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const P="popstate"===I.type?"popstate":"hashchange";"popstate"===P&&setTimeout(()=>{this.navigateToSyncWithBrowser(I.url,P,I.state)},0)}))}navigateToSyncWithBrowser(I,P,k){const q={replaceUrl:!0},de=k?.navigationId?k:null;if(k){const Me={...k};delete Me.navigationId,delete Me.\u0275routerPageId,0!==Object.keys(Me).length&&(q.state=Me)}const Ue=this.parseUrl(I);this.scheduleNavigation(Ue,P,de,q)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(I){this.config=I.map(ki),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(I,P={}){const{relativeTo:k,queryParams:q,fragment:de,queryParamsHandling:Ue,preserveFragment:Me}=P,Mt=Me?this.currentUrlTree.fragment:de;let Hn,An=null;switch(Ue){case"merge":An={...this.currentUrlTree.queryParams,...q};break;case"preserve":An=this.currentUrlTree.queryParams;break;default:An=q||null}null!==An&&(An=this.removeEmptyProps(An));try{Hn=jt(k?k.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof I[0]||!I[0].startsWith("/"))&&(I=[]),Hn=this.currentUrlTree.root}return Jt(Hn,I,An,Mt??null)}navigateByUrl(I,P={skipLocationChange:!1}){const k=Se(I)?I:this.parseUrl(I),q=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(q,gi,null,P)}navigate(I,P={skipLocationChange:!1}){return function dt(w){for(let x=0;x<w.length;x++)if(null==w[x])throw new v.vHH(4008,!1)}(I),this.navigateByUrl(this.createUrlTree(I,P),P)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let P;try{P=this.urlSerializer.parse(I)}catch(k){P=this.malformedUriErrorHandler(k,this.urlSerializer,I)}return P}isActive(I,P){let k;if(k=!0===P?{...Pt}:!1===P?{...Lt}:P,Se(I))return Te(this.currentUrlTree,I,k);const q=this.parseUrl(I);return Te(this.currentUrlTree,q,k)}removeEmptyProps(I){return Object.keys(I).reduce((P,k)=>{const q=I[k];return null!=q&&(P[k]=q),P},{})}scheduleNavigation(I,P,k,q,de){if(this.disposed)return Promise.resolve(!1);let Ue,Me,Mt;de?(Ue=de.resolve,Me=de.reject,Mt=de.promise):Mt=new Promise((Hn,Gn)=>{Ue=Hn,Me=Gn});const An=this.pendingTasks.add();return oi(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(An))}),this.navigationTransitions.handleNavigationRequest({source:P,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:I,extras:q,resolve:Ue,reject:Me,promise:Mt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Mt.catch(Hn=>Promise.reject(Hn))}setBrowserUrl(I,P){const k=this.urlSerializer.serialize(I);if(this.location.isCurrentPathEqualTo(k)||P.extras.replaceUrl){const de={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId)};this.location.replaceState(k,"",de)}else{const q={...P.extras.state,...this.generateNgRouterState(P.id,this.browserPageId+1)};this.location.go(k,"",q)}}restoreHistory(I,P=!1){if("computed"===this.canceledNavigationResolution){const q=this.currentPageId-this.browserPageId;0!==q?this.location.historyGo(q):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===q&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(P&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(I,P){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:P}:{navigationId:I}}static{this.\u0275fac=function(P){return new(P||w)}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();function je(w){return!(w instanceof ys||w instanceof ho)}class Yc{}let nh=(()=>{class w{constructor(I,P,k,q,de){this.router=I,this.injector=k,this.preloadingStrategy=q,this.loader=de}setUpPreloading(){this.subscription=this.router.events.pipe((0,wt.h)(I=>I instanceof ri),(0,ft.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,P){const k=[];for(const q of P){q.providers&&!q._injector&&(q._injector=(0,v.MMx)(q.providers,I,`Route: ${q.path}`));const de=q._injector??I,Ue=q._loadedInjector??de;(q.loadChildren&&!q._loadedRoutes&&void 0===q.canLoad||q.loadComponent&&!q._loadedComponent)&&k.push(this.preloadConfig(de,q)),(q.children||q._loadedRoutes)&&k.push(this.processRoutes(Ue,q.children??q._loadedRoutes))}return(0,fe.D)(k).pipe((0,Zt.J)())}preloadConfig(I,P){return this.preloadingStrategy.preload(P,()=>{let k;k=P.loadChildren&&void 0===P.canLoad?this.loader.loadChildren(I,P):(0,oe.of)(null);const q=k.pipe((0,ht.zg)(de=>null===de?(0,oe.of)(void 0):(P._loadedRoutes=de.routes,P._loadedInjector=de.injector,this.processRoutes(de.injector??I,de.routes))));if(P.loadComponent&&!P._loadedComponent){const de=this.loader.loadComponent(P);return(0,fe.D)([q,de]).pipe((0,Zt.J)())}return q})}static{this.\u0275fac=function(P){return new(P||w)(v.LFG(yo),v.LFG(v.Sil),v.LFG(v.lqb),v.LFG(Yc),v.LFG(Ft))}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})();const ba=new v.OlP("");let vc=(()=>{class w{constructor(I,P,k,q,de={}){this.urlSerializer=I,this.transitions=P,this.viewportScroller=k,this.zone=q,this.options=de,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},de.scrollPositionRestoration=de.scrollPositionRestoration||"disabled",de.anchorScrolling=de.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof vr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof ri?(this.lastId=I.id,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.urlAfterRedirects).fragment)):I instanceof Do&&0===I.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(I,this.urlSerializer.parse(I.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(I=>{I instanceof no&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,P){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new no(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,P))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(P){v.$Z()}}static{this.\u0275prov=v.Yz7({token:w,factory:w.\u0275fac})}}return w})();function Ps(w,x){return{\u0275kind:w,\u0275providers:x}}function Ot(){const w=(0,v.f3M)(v.zs3);return x=>{const I=w.get(v.z2F);if(x!==I.components[0])return;const P=w.get(yo),k=w.get(Bt);1===w.get(Rs)&&P.initialNavigation(),w.get(Dt,null,v.XFs.Optional)?.setUpPreloading(),w.get(ba,null,v.XFs.Optional)?.init(),P.resetRootComponentType(I.componentTypes[0]),k.closed||(k.next(),k.complete(),k.unsubscribe())}}const Bt=new v.OlP("",{factory:()=>new Q.xQ}),Rs=new v.OlP("",{providedIn:"root",factory:()=>1}),Dt=new v.OlP("");function os(w){return Ps(0,[{provide:Dt,useExisting:nh},{provide:Yc,useExisting:w}])}const Je=new v.OlP("ROUTER_FORROOT_GUARD"),jn=[Ie.Ye,{provide:rr,useClass:Rr},yo,Zi,{provide:li,useFactory:function Bu(w){return w.routerState.root},deps:[yo]},Ft,[]];function ta(){return new v.PXZ("Router",yo)}let ji=(()=>{class w{constructor(I){}static forRoot(I,P){return{ngModule:w,providers:[jn,[],{provide:Ze,multi:!0,useValue:I},{provide:Je,useFactory:Ii,deps:[[yo,new v.FiY,new v.tp0]]},{provide:Gr,useValue:P||{}},P?.useHash?{provide:Ie.S$,useClass:Ie.Do}:{provide:Ie.S$,useClass:Ie.b0},{provide:ba,useFactory:()=>{const w=(0,v.f3M)(Ie.EM),x=(0,v.f3M)(v.R0b),I=(0,v.f3M)(Gr),P=(0,v.f3M)(fn),k=(0,v.f3M)(rr);return I.scrollOffset&&w.setOffset(I.scrollOffset),new vc(k,P,w,x,I)}},P?.preloadingStrategy?os(P.preloadingStrategy).\u0275providers:[],{provide:v.PXZ,multi:!0,useFactory:ta},P?.initialNavigation?ec(P):[],P?.bindToComponentInputs?Ps(8,[ro,{provide:wr,useExisting:ro}]).\u0275providers:[],[{provide:Re,useFactory:Ot},{provide:v.tb,multi:!0,useExisting:Re}]]}}static forChild(I){return{ngModule:w,providers:[{provide:Ze,multi:!0,useValue:I}]}}static{this.\u0275fac=function(P){return new(P||w)(v.LFG(Je,8))}}static{this.\u0275mod=v.oAB({type:w})}static{this.\u0275inj=v.cJS({})}}return w})();function Ii(w){return"guarded"}function ec(w){return["disabled"===w.initialNavigation?Ps(3,[{provide:v.ip1,multi:!0,useFactory:()=>{const x=(0,v.f3M)(yo);return()=>{x.setUpLocationChangeListener()}}},{provide:Rs,useValue:2}]).\u0275providers:[],"enabledBlocking"===w.initialNavigation?Ps(2,[{provide:Rs,useValue:0},{provide:v.ip1,multi:!0,deps:[v.zs3],useFactory:x=>{const I=x.get(Ie.V_,Promise.resolve());return()=>I.then(()=>new Promise(P=>{const k=x.get(yo),q=x.get(Bt);oi(k,()=>{P(!0)}),x.get(fn).afterPreactivation=()=>(P(!0),q.closed?(0,oe.of)(void 0):q),k.initialNavigation()}))}}]).\u0275providers:[]]}const Re=new v.OlP("")},1670:(lt,be,O)=>{"use strict";function v(he,fe,oe,H,ne,ce,te){try{var j=he[ce](te),B=j.value}catch(re){return void oe(re)}j.done?fe(B):Promise.resolve(B).then(H,ne)}function u(he){return function(){var fe=this,oe=arguments;return new Promise(function(H,ne){var ce=he.apply(fe,oe);function te(B){v(ce,H,ne,te,j,"next",B)}function j(B){v(ce,H,ne,te,j,"throw",B)}te(void 0)})}}O.d(be,{Z:()=>u})},2321:(lt,be,O)=>{"use strict";function fe(xe,Ne){var ke={};for(var Oe in xe)Object.prototype.hasOwnProperty.call(xe,Oe)&&Ne.indexOf(Oe)<0&&(ke[Oe]=xe[Oe]);if(null!=xe&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Oe=Object.getOwnPropertySymbols(xe);We<Oe.length;We++)Ne.indexOf(Oe[We])<0&&Object.prototype.propertyIsEnumerable.call(xe,Oe[We])&&(ke[Oe[We]]=xe[Oe[We]])}return ke}function oe(xe,Ne,ke,Oe){var ot,We=arguments.length,it=We<3?Ne:null===Oe?Oe=Object.getOwnPropertyDescriptor(Ne,ke):Oe;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)it=Reflect.decorate(xe,Ne,ke,Oe);else for(var en=xe.length-1;en>=0;en--)(ot=xe[en])&&(it=(We<3?ot(it):We>3?ot(Ne,ke,it):ot(Ne,ke))||it);return We>3&&it&&Object.defineProperty(Ne,ke,it),it}O.d(be,{_T:()=>fe,gn:()=>oe}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=6311)}]);
//# sourceMappingURL=main.37adb4321a16cb2c.js.map